---
title: "이미지 편집"
openapi: "POST /v1/images/edits"
description: "프롬프트와 원본 이미지를 기반으로 이미지를 편집합니다"
---

## 인증

<ParamField header="Authorization" type="string" required>
  API 인증을 위한 Bearer 토큰. 형식: `Bearer sk-your-api-key`
</ParamField>

## 개요

원본 이미지와 프롬프트를 기반으로 편집되거나 확장된 이미지를 생성합니다. `multipart/form-data` 콘텐츠 타입이 필요합니다.

## 요청 본문

<ParamField body="image" type="file" required>
  편집할 이미지. 유효한 PNG 파일이어야 하며, 4MB 미만이고 정사각형이어야 합니다. 편집이 필요한 부분에 투명도가 있어야 합니다.
</ParamField>

<ParamField body="prompt" type="string" required>
  원하는 편집에 대한 텍스트 설명.
</ParamField>

<ParamField body="mask" type="file">
  완전히 투명한 영역이 이미지를 편집할 위치를 나타내는 추가 이미지. 유효한 PNG 파일이어야 하며, 4MB 미만이고 `image`와 동일한 크기여야 합니다.
</ParamField>

<ParamField body="model" type="string" default="dall-e-2">
  이미지 편집에 사용할 모델. 현재 `dall-e-2`만 지원됩니다.
</ParamField>

<ParamField body="n" type="integer" default="1">
  생성할 이미지 수. 1에서 10 사이여야 합니다.
</ParamField>

<ParamField body="size" type="string">
  생성된 이미지의 크기. `256x256`, `512x512` 또는 `1024x1024` 중 하나여야 합니다.
</ParamField>

<ParamField body="response_format" type="string" default="url">
  생성된 이미지가 반환되는 형식. `url` 또는 `b64_json`이어야 합니다.
</ParamField>

<ParamField body="user" type="string">
  남용 모니터링을 위한 최종 사용자의 고유 식별자.
</ParamField>

## 응답

<ResponseField name="created" type="integer">
  이미지가 생성된 시점의 Unix 타임스탬프.
</ResponseField>

<ResponseField name="data" type="array">
  생성된 이미지 배열.

  각 객체에 포함된 항목:
  - `url` (string): 편집된 이미지의 URL (response_format이 `url`인 경우)
  - `b64_json` (string): Base64로 인코딩된 이미지 (response_format이 `b64_json`인 경우)
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/images/edits" \
  -H "Authorization: Bearer sk-your-api-key" \
  -F "image=@sunlit_lounge.png" \
  -F "mask=@mask.png" \
  -F "prompt=A sunlit indoor lounge area with a pool" \
  -F "n=1" \
  -F "size=1024x1024"
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.images.edit(
    model="dall-e-2",
    image=open("sunlit_lounge.png", "rb"),
    mask=open("mask.png", "rb"),
    prompt="A sunlit indoor lounge area with a pool",
    n=1,
    size="1024x1024"
)

print(response.data[0].url)
```

```javascript JavaScript
import OpenAI from 'openai';
import fs from 'fs';

const client = new OpenAI({
  apiKey: 'sk-your-api-key',
  baseURL: 'https://api.lemondata.cc/v1'
});

const response = await client.images.edit({
  model: 'dall-e-2',
  image: fs.createReadStream('sunlit_lounge.png'),
  mask: fs.createReadStream('mask.png'),
  prompt: 'A sunlit indoor lounge area with a pool',
  n: 1,
  size: '1024x1024'
});

console.log(response.data[0].url);
```

```go Go
package main

import (
    "bytes"
    "fmt"
    "io"
    "mime/multipart"
    "net/http"
    "os"
)

func main() {
    body := &bytes.Buffer{}
    writer := multipart.NewWriter(body)

    image, _ := os.Open("sunlit_lounge.png")
    defer image.Close()
    part, _ := writer.CreateFormFile("image", "sunlit_lounge.png")
    io.Copy(part, image)

    mask, _ := os.Open("mask.png")
    defer mask.Close()
    maskPart, _ := writer.CreateFormFile("mask", "mask.png")
    io.Copy(maskPart, mask)

    writer.WriteField("prompt", "A sunlit indoor lounge area with a pool")
    writer.WriteField("n", "1")
    writer.WriteField("size", "1024x1024")
    writer.Close()

    req, _ := http.NewRequest("POST", "https://api.lemondata.cc/v1/images/edits", body)
    req.Header.Set("Authorization", "Bearer sk-your-api-key")
    req.Header.Set("Content-Type", writer.FormDataContentType())

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()

    result, _ := io.ReadAll(resp.Body)
    fmt.Println(string(result))
}
```

```php PHP
<?php
$ch = curl_init('https://api.lemondata.cc/v1/images/edits');

$image = new CURLFile('sunlit_lounge.png', 'image/png', 'sunlit_lounge.png');
$mask = new CURLFile('mask.png', 'image/png', 'mask.png');

curl_setopt_array($ch, [
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_HTTPHEADER => [
        'Authorization: Bearer sk-your-api-key'
    ],
    CURLOPT_POSTFIELDS => [
        'image' => $image,
        'mask' => $mask,
        'prompt' => 'A sunlit indoor lounge area with a pool',
        'n' => 1,
        'size' => '1024x1024'
    ]
]);

$response = curl_exec($ch);
curl_close($ch);

$data = json_decode($response, true);
echo $data['data'][0]['url'];
```
</RequestExample>

<ResponseExample>
```json 응답
{
  "created": 1706000000,
  "data": [
    {
      "url": "https://..."
    }
  ]
}
```
</ResponseExample>

## 참고 사항

<Note>
  이미지 편집은 DALL-E 2에서만 사용할 수 있습니다. 이미지에는 편집이 적용될 위치를 나타내는 투명한 영역이 있어야 하거나, 별도의 마스크 이미지를 제공할 수 있습니다.
</Note>
