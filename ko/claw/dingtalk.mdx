---
title: "DingTalk"
description: "Stream 모드를 사용하여 Claw 인스턴스를 DingTalk에 연결하세요"
---

Stream 모드를 사용하여 DingTalk(钉钉)을 Claw 인스턴스에 연결하세요. 이는 퍼블릭 URL이 필요 없는 WebSocket 기반 연결 방식입니다.

## 사전 요구 사항

- 기업 관리자 권한이 있는 [DingTalk](https://www.dingtalk.com/) 계정
- Claw 인스턴스 ([여기에서 생성](https://lemondata.cc/dashboard/claw))

## 설정 가이드

<Steps>
  <Step title="DingTalk 앱 생성">
    1. [DingTalk Open Platform](https://open-dev.dingtalk.com/)으로 이동합니다.
    2. **Application Development** → **Enterprise Internal Development**를 클릭합니다.
    3. **Create Application**을 클릭합니다.
    4. 앱 이름과 설명을 입력합니다.
    5. **Confirm**을 클릭합니다.
  </Step>
  <Step title="로봇 기능 활성화">
    1. 앱에서 **App Features** → **Robot**으로 이동합니다.
    2. 로봇 구성을 활성화합니다.
    3. **Stream Mode**를 선택합니다 (권장 — 퍼블릭 URL이 필요하지 않음).
    4. **Publish**를 클릭합니다.

    <Tip>
    Stream 모드는 WebSocket을 사용하므로 Claw 인스턴스에 공개적으로 액세스 가능한 webhook URL이 필요하지 않습니다. 가장 간단한 설정 방법입니다.
    </Tip>
  </Step>
  <Step title="자격 증명 가져오기">
    1. **Basic Information** → **Credentials**로 이동합니다.
    2. **AppKey**와 **AppSecret**을 복사합니다.
  </Step>
  <Step title="앱 게시">
    1. **Version Management**로 이동합니다.
    2. 새 버전을 생성합니다 (최소한 테스트 버전).
    3. 공개 범위를 설정합니다 (봇을 볼 수 있는 사용자/부서).
    4. 제출 및 게시합니다.
  </Step>
  <Step title="LemonData 대시보드에서 구성">
    1. [Claw Dashboard](https://lemondata.cc/dashboard/claw)로 이동합니다.
    2. 인스턴스의 **설정 아이콘**을 클릭합니다.
    3. **IM Integrations** 탭을 엽니다.
    4. **DingTalk** 섹션을 확장합니다.
    5. **AppKey**와 **AppSecret**을 붙여넣습니다.
    6. **Save**를 클릭합니다.
  </Step>
  <Step title="채팅 시작">
    1. DingTalk에서 이름으로 봇을 검색합니다.
    2. 메시지를 보냅니다.
    3. 페어링 프로세스를 완료합니다.
    4. AI와 채팅을 시작하세요!
  </Step>
</Steps>

## 그룹 설정

대시보드의 **IM Integrations** 탭에서 그룹 채팅 동작을 구성합니다:

| 설정 | 옵션 | 설명 |
|---------|---------|-------------|
| **Group Policy** | Open / Allowlist / Disabled | 그룹에서 봇을 트리거할 수 있는 사용자를 제어합니다 |
| **Group Allowed Users** | 사용자 ID 목록 | 이 사용자만 봇을 트리거할 수 있습니다 (allowlist 모드) |

<Note>
DingTalk은 그룹에서 봇을 트리거하려면 **항상 @멘션이 필요합니다** — 이는 플랫폼 제한이며 구성할 수 없습니다. DingTalk에서는 Group IDs 필터링을 사용할 수 없습니다. 접근을 제어하려면 Group Policy 설정을 사용하세요.
</Note>

## 문제 해결

<AccordionGroup>
  <Accordion title="봇이 응답하지 않음">
    - AppKey와 AppSecret이 올바른지 확인하세요.
    - 앱이 게시되었는지 확인하세요 (최소 테스트 버전).
    - 로봇 구성에서 Stream 모드가 선택되었는지 확인하세요.
    - 사용자 계정에서 봇을 볼 수 있는지 확인하세요.
  </Accordion>
  <Accordion title="연결이 자주 끊김">
    - Stream 모드는 지속적인 WebSocket 연결을 유지합니다.
    - 일시적인 연결 끊김은 정상이며, 봇이 자동으로 다시 연결됩니다.
    - 문제가 지속되면 대시보드에서 인스턴스를 재시작해 보세요.
  </Accordion>
</AccordionGroup>