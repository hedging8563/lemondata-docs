---
title: "메시지 생성"
openapi: "POST /v1/messages"
description: "Anthropic Messages API 형식을 사용하여 메시지를 생성합니다."
---

## 개요

이 엔드포인트는 네이티브 Anthropic Messages API 호환성을 제공합니다. 확장 사고(extended thinking) 등의 기능이 포함된 Claude 모델에 적합합니다.

<Note>
Anthropic SDK의 Base URL: `https://api.lemondata.cc` (`/v1` 접미사 없음)
</Note>

## 요청 헤더

<ParamField header="x-api-key" type="string" required>
  사용자의 LemonData API 키입니다. Bearer token의 대안입니다.
</ParamField>

<ParamField header="anthropic-version" type="string" required>
  Anthropic API 버전입니다. `2023-06-01`을 사용하세요.
</ParamField>

## 요청 본문

<ParamField body="model" type="string" required>
  Claude 모델 ID (예: `claude-sonnet-4-5`).
</ParamField>

<ParamField body="messages" type="array" required>
  `role`과 `content`를 포함하는 메시지 객체 배열입니다.
</ParamField>

<ParamField body="max_tokens" type="integer" required>
  생성할 최대 token 수입니다.
</ParamField>

<ParamField body="system" type="string">
  시스템 프롬프트 (messages 배열과 별도).
</ParamField>

<ParamField body="temperature" type="number" default="1">
  샘플링 온도 (0-1).
</ParamField>

<ParamField body="stream" type="boolean" default="false">
  스트리밍 응답을 활성화합니다.
</ParamField>

<ParamField body="thinking" type="object">
  확장 사고 설정 (Claude Opus 4.5).

  - `type` (string): `"enabled"`로 설정하여 활성화
  - `budget_tokens` (integer): 사고를 위한 token 예산
</ParamField>

<ParamField body="tools" type="array">
  모델이 사용할 수 있는 도구입니다.
</ParamField>

<ParamField body="tool_choice" type="object">
  모델의 도구 사용 방식입니다. 옵션: `auto`, `any`, `tool` (특정 도구).
</ParamField>

<ParamField body="top_p" type="number">
  핵 샘플링(Nucleus sampling) 파라미터입니다. temperature 또는 top_p 중 하나만 사용하세요.
</ParamField>

<ParamField body="top_k" type="integer">
  각 token의 상위 K개 옵션에서만 샘플링합니다.
</ParamField>

<ParamField body="stop_sequences" type="array">
  