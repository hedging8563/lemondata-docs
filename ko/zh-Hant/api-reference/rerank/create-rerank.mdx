---
title: "문서 재정렬"
openapi: "POST /v1/rerank"
description: "쿼리와의 관련성에 따라 문서의 순위를 재정렬합니다."
---

시맨틱 유사도 모델을 사용하여 문서의 순위를 재정렬합니다. 검색 결과 최적화 및 RAG 애플리케이션에 적합합니다.

## 요청 본문

<ParamField body="model" type="string" required>
  사용할 재정렬 모델 ID (예: `BAAI/bge-reranker-v2-m3`, `qwen3-rerank`).
</ParamField>

<ParamField body="query" type="string" required>
  문서 순위를 매기는 데 사용되는 쿼리 문구입니다.
</ParamField>

<ParamField body="documents" type="array" required>
  재정렬할 문서 목록(문자열)입니다.
</ParamField>

<ParamField body="top_n" type="integer">
  반환할 상위 결과의 수입니다. 기본값은 모든 문서입니다.
</ParamField>

<ParamField body="return_documents" type="boolean" default="false">
  응답에 원본 문서 텍스트를 포함할지 여부입니다.
</ParamField>

## 응답

<ResponseField name="results" type="array">
  점수가 포함된 정렬된 문서 목록입니다.

  각 결과에는 다음이 포함됩니다:
  - `index` (integer): 원본 문서 인덱스
  - `relevance_score` (number): 관련성 점수 (0-1)
  - `document` (string): 원본 텍스트 (`return_documents=true`인 경우)
</ResponseField>

<ResponseField name="model" type="string">
  재정렬에 사용된 모델입니다.
</ResponseField>

<ResponseField name="usage" type="object">
  Token 사용량 통계입니다.
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/rerank" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "BAAI/bge-reranker-v2-m3",
    "query": "What is machine learning?",
    "documents": [
      "Machine learning is a subset of AI",
      "The weather is nice today",
      "Deep learning uses neural networks"
    ],
    "top_n": 2,
    "return_documents": true
  }'
```

```python Python
import requests

response = requests.post(
    "https://api.lemondata.cc/v1/rerank",
    headers={"Authorization": "Bearer sk-your-api-