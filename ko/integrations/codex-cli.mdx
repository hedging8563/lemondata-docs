---
title: "Codex CLI"
description: "LemonData API를 사용하도록 OpenAI Codex CLI 설정하기"
---

## 개요

OpenAI Codex는 터미널에서 코드를 읽고, 수정하고, 실행할 수 있는 경량 코딩 에이전트 역할을 하는 오픈 소스 명령줄 도구(CLI)입니다. GPT 모델을 기반으로 구축되었으며 코드 생성에 최적화되어 있습니다.

## 시스템 요구 사항

- **OS**: macOS, Linux (공식 지원), Windows (WSL 사용)
- **Node.js**: 버전 18 이상
- **npm**: 버전 10.x.x 이상

## 설치

```bash
sudo npm install -g @openai/codex@latest
```

설치 확인:

```bash
codex --version
```

## 설정

### 1단계: API Key 설정

**임시 (현재 세션):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**영구 설정:**

`~/.bashrc`, `~/.zshrc` 또는 `~/.bash_profile`에 추가:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

이후 다시 로드:

```bash
source ~/.zshrc  # 또는 source ~/.bashrc
```

### 2단계: config.toml 설정

`~/.codex/config.toml` 수정:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
설정 파일이 존재하지 않는 경우, `codex`를 한 번 실행하여 파일을 생성한 후 수정하세요.
</Note>

## 기본 사용법

**대화형 모드 시작:**

```bash
codex
```

**직접 명령:**

```bash
codex "Fix the bug in main.py line 42"
```

**모델 지정:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## 사용 가능한 모델

| 모델 | 최적 용도 |
|-------|----------|
| `gpt-4o` | 복잡한 코딩 작업, 아키텍처 |
| `gpt-4o-mini` | 빠른 수정, 간단한 작업 |
| `claude-sonnet-4-5` | 코드 리뷰, 문서화 |
| `deepseek-r1` | 알고리즘 설계, 추론 |

## 대화형 명령

| 명령어 | 설명 |
|---------|-------------|
| `/help` | 도움말 표시 |
| `/exit` 또는 `Ctrl+C` | 종료 |
| `/clear` | 대화 내역 삭제 |
| `/config` | 설정 보기 |
| `/model <name>` | 모델 전환 |
| `/tokens` | 토큰 사용량 확인 |

## 설정 확인

```bash
# 환경 변수 확인
echo $OPENAI_API_KEY

# API 연결 테스트
codex "Hello, Codex!"

# 설정 보기
cat ~/.codex/config.toml
```

## 일반적인 사용 사례

**코드 리뷰:**

```bash
git diff | codex "Review these code changes"
```

**커밋 메시지 생성:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**오류 수정:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**코드 설명:**

```bash
cat main.py | codex "Explain what this code does"
```

## 문제 해결

<AccordionGroup>
  <Accordion title="연결 오류">
    - `config.toml`의 `base_url`이 정확히 `https://api.lemondata.cc/v1`인지 확인하세요.
    - 네트워크 연결 상태를 확인하세요.
    - 프록시 간섭이 없는지 확인하세요.
  </Accordion>

  <Accordion title="인증 실패">
    - `OPENAI_API_KEY` 환경 변수가 설정되어 있는지 확인하세요.
    - 키가 `sk-`로 시작하는지 확인하세요.
    - LemonData 대시보드에서 키가 활성 상태인지 확인하세요.
  </Accordion>

  <Accordion title="모델을 찾을 수 없음">
    - 모델 이름이 정확히 일치하는지 확인하세요.
    - [lemondata.cc/en/models](https://lemondata.cc/ko/models)에서 모델 가용성을 확인하세요.
  </Accordion>
</AccordionGroup>