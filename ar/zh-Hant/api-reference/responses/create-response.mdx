---
title: "إنشاء استجابة"
openapi: "POST /v1/responses"
description: "إنشاء استجابة باستخدام تنسيق OpenAI Responses API"
---

تعد Responses API واجهة برمجة تطبيقات للمحادثات ذات الحالة (stateful) الأحدث من OpenAI. توفر LemonData الدعم لهذا التنسيق للنماذج المتوافقة.

## جسم الطلب

<ParamField body="model" type="string" required>
  معرف النموذج المراد استخدامه. يرجى مراجعة [Models](https://lemondata.cc/zh-TW/models) للاطلاع على الخيارات المتاحة.
</ParamField>

<ParamField body="input" type="array" required>
  قائمة بعناصر الإدخال التي تشكل المحادثة.

  يمكن أن يكون كل عنصر:
  - `message`: رسالة محادثة تحتوي على الدور والمحتوى
  - `function_call`: طلب استدعاء دالة
  - `function_call_output`: مخرجات استدعاء الدالة
</ParamField>

<ParamField body="instructions" type="string">
  تعليمات النظام للنموذج (تعادل رسالة النظام).
</ParamField>

<ParamField body="max_output_tokens" type="integer">
  الحد الأقصى لعدد الـ token المراد إنشاؤها.
</ParamField>

<ParamField body="temperature" type="number" default="1">
  درجة حرارة أخذ العينات بين 0 و 2.
</ParamField>

<ParamField body="tools" type="array">
  قائمة بالأدوات التي قد يستدعيها النموذج.
</ParamField>

<ParamField body="stream" type="boolean" default="false">
  إذا كانت true، فسيتم إرجاع تدفق من الأحداث (event stream).
</ParamField>

<ParamField body="previous_response_id" type="string">
  معرف الاستجابة السابقة، يستخدم لمتابعة المحادثة.
</ParamField>

<ParamField body="store" type="boolean" default="true">
  ما إذا كان سيتم تخزين الاستجابة لاستردادها لاحقاً.
</ParamField>

<ParamField body="metadata" type="object">
  البيانات الوصفية (metadata) المرفقة بالاستجابة لأغراض التتبع.
</ParamField>

<ParamField body="text" type="object">
  خيارات تكوين إنشاء النصوص.
</ParamField>

<ParamField body="parallel_tool_calls" type="boolean" default="true">
  ما إذا كان سيتم السماح باستدعاءات أدوات متعددة في وقت واحد.
</ParamField>

<ParamField body="top_p" type="number">
  معلمة أخذ العينات الأساسية (0-1).
</ParamField>

<ParamField body="reasoning" type="object">
  تكوين الاستنتاج (reasoning) لنماذج o1/o3.

  - `effort` (string): مستوى جهد الاستنتاج (`low`, `medium`, `high`)
</ParamField>

## الاستجابة

<ResponseField name="id" type="string">
  المعرف الفريد للاستجابة.
</ResponseField>

<ResponseField name="object" type="string">
  ثابت كـ `response`.
</ResponseField>

<ResponseField name="created_at" type="integer">
  طابع Unix الزمني لوقت إنشاء الاستجابة.
</ResponseField>

<ResponseField name="output" type="array">
  قائمة بعناصر المخرجات التي أنشأها النموذج.
</ResponseField>

<ResponseField name="usage" type="object">
  إحصائيات استخدام الـ Token.
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/responses" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o",
    "input": [
      {"type": "message", "role": "user", "content": "Hello!"}
    ],
    "max_output_tokens": 1000
  }'
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.responses.create(
    model="gpt-4o",
    input=[
        {"type": "message", "role": "user", "content": "Hello!"}
    ],
    max_output_tokens=1000
)

print(response.output)
```

```javascript JavaScript
import OpenAI from 'openai';

const client = new OpenAI({
  apiKey: 'sk-your-api-key',
  baseURL: 'https://api.lemondata.cc/v1'
});

const response = await client.responses.create({
  model: 'gpt-4o',
  input: [
    { type: 'message', role: 'user', content: 'Hello!' }
  ],
  max_output_tokens: 1000
});

console.log(response.output);
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    payload := map[string]interface{}{
        "model": "gpt-4o",
        "input": []map[string]interface{}{
            {"type": "message", "role": "user", "content": "Hello!"},
        },
        "max_output_tokens": 1000,
    }
    body, _ := json.Marshal(payload)

    req, _ := http.NewRequest("POST", "https://api.lemondata.cc/v1/responses", bytes.NewBuffer(body))
    req.Header.Set("Authorization", "Bearer sk-your-api-key")
    req.Header.Set("Content-Type", "application/json")

    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()

    var result map[string]interface{}
    json.NewDecoder(resp.Body).Decode(&result)
    fmt.Println(result["output"])
}
```

```php PHP
<?php
$ch = curl_init('https://api.lemondata.cc/v1/responses');

curl_setopt_array($ch, [
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_HTTPHEADER => [
        'Content-Type: application/json',
        'Authorization: Bearer sk-your-api-key'
    ],
    CURLOPT_POSTFIELDS => json_encode([
        'model' => 'gpt-4o',
        'input' => [
            ['type' => 'message', 'role' => 'user', 'content' => 'Hello!']
        ],
        'max_output_tokens' => 1000
    ])
]);

$response = curl_exec($ch);
curl_close($ch);

$data = json_decode($response, true);
print_r($data['output']);
```
</RequestExample>

<ResponseExample>
```json Response
{
  "id": "resp_abc123",
  "object": "response",
  "created_at": 1706000000,
  "model": "gpt-4o",
  "output": [
    {
      "type": "message",
      "role": "assistant",
      "content": [
        {"type": "text", "text": "Hello! How can I help you today?"}
      ]
    }
  ],
  "usage": {
    "input_tokens": 10,
    "output_tokens": 12,
    "total_tokens": 22
  }
}
```
</ResponseExample>