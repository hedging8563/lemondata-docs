---
title: 'مرجع API'
description: 'دليل المرجع الكامل لـ LemonData API'
---

## نظرة عامة

إن LemonData API **متوافق مع OpenAI**، مما يعني أنه يمكنك استخدام OpenAI SDK الرسمي ببساطة عن طريق تغيير Base URL. كما ندعم أيضاً تنسيقات طلبات **Anthropic** و **Gemini** الأصلية.

## Base URL

```
https://api.lemondata.cc
```

## المصادقة

تتطلب جميع نقاط نهاية API المصادقة باستخدام Bearer token:

```bash
Authorization: Bearer sk-your-api-key
```

احصل على API key الخاص بك من [لوحة التحكم](https://lemondata.cc/dashboard).

<Warning>
**حول Playground التفاعلي**: إن Playground الموجود في موقع التوثيق هذا مخصص لأغراض العرض فقط ولا يدعم إدخال API keys. لاختبار API، يرجى استخدام:
- **cURL** - انسخ أوامر الأمثلة، واستبدل `sk-your-api-key` بمفتاحك الفعلي
- **Postman** - استورد [مواصفات OpenAPI](/openapi.json) الخاصة بنا
- **SDK** - استخدم OpenAI/Anthropic SDK مع Base URL الخاص بنا
</Warning>

## نقاط النهاية المدعومة

### الدردشة وإنشاء النصوص

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | إكمال الدردشة المتوافق مع OpenAI |
| `/v1/messages` | POST | API الرسائل المتوافق مع Anthropic |
| `/v1/responses` | POST | OpenAI Responses API |

### التضمينات وإعادة الترتيب

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/embeddings` | POST | إنشاء تضمينات النصوص (Embeddings) |
| `/v1/rerank` | POST | إعادة ترتيب المستندات (Rerank) |

### الصور

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/images/generations` | POST | إنشاء الصور من النصوص |
| `/v1/images/edits` | POST | تعديل الصور |

### الصوت

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | تحويل النص إلى كلام (TTS) |
| `/v1/audio/transcriptions` | POST | تحويل الكلام إلى نص (STT) |

### الفيديو

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | إنشاء مهمة إنشاء فيديو |
| `/v1/videos/generations/{id}` | GET | الحصول على حالة مهمة الفيديو |

### الموسيقى

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/music/generations` | POST | إنشاء مهمة إنشاء موسيقى |
| `/v1/music/generations/{id}` | GET | الحصول على حالة مهمة الموسيقى |

### إنشاء 3D

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | إنشاء مهمة إنشاء نموذج 3D |
| `/v1/3d/generations/{id}` | GET | الحصول على حالة مهمة 3D |

### النماذج

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1/models` | GET | قائمة بجميع النماذج المتاحة |
| `/v1/models/{model}` | GET | الحصول على معلومات نموذج محدد |

### Gemini (v1beta)

دعم تنسيق Google Gemini API الأصلي:

| نقطة النهاية | الطريقة | الوصف |
|----------|--------|-------------|
| `/v1beta/models/{model}:generateContent` | POST | إنشاء المحتوى (تنسيق Gemini) |
| `/v1beta/models/{model}:streamGenerateContent` | POST | إنشاء المحتوى بالبث (تنسيق Gemini) |

<Note>
تدعم نقاط نهاية Gemini المصادقة عبر معلمات الاستعلام `?key=` بالإضافة إلى Bearer token القياسي.
</Note>

## تنسيق الاستجابة

تتبع جميع الاستجابات تنسيقاً ثابتاً:

### استجابة ناجحة

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### شفافية التوجيه

تتضمن جميع الاستجابات حقلاً باسم `_routing` يحتوي على معلومات القناة:

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| الحقل | الوصف |
|-------|-------------|
| `channel.id` | معرف القناة المستخدمة |
| `channel.provider` | المزود الرئيسي (openai، anthropic، إلخ) |
| `channel.channelType` | `PLATFORM` (LemonData) أو `PRIVATE` (BYOK) |
| `cached` | ما إذا كانت الاستجابة من التخزين المؤقت (Cache) |
| `retryCount` | عدد محاولات إعادة المحاولة (إن وجدت) |

### استجابة الخطأ

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## حدود المعدل

تعتمد حدود المعدل على الأدوار ويمكن تكوينها من قبل المسؤول. القيم الافتراضية:

| الدور | الطلبات في الدقيقة |
|------|-------------|
| مستخدم | 60 |
| شريك | 300 |
| VIP | 1,000 |

<Note>
اتصل بفريق الدعم للحصول على حدود معدل مخصصة. قد تختلف القيم الدقيقة بناءً على تكوين الحساب.
</Note>

تتضمن جميع الاستجابات رؤوس حدود المعدل:

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## مواصفات OpenAPI

<Card
  title="مواصفات OpenAPI"
  icon="file-code"
  href="/openapi.json"
>
  تحميل مواصفات OpenAPI 3.0 الكاملة
</Card>