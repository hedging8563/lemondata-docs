---
title: "Codex CLI"
description: "إعداد OpenAI Codex CLI لاستخدام LemonData API"
---

## نظرة عامة

تعد OpenAI Codex أداة سطر أوامر (CLI) مفتوحة المصدر، تعمل كوكيل برمجة (coding agent) خفيف الوزن قادر على قراءة وتعديل وتنفيذ التعليمات البرمجية في الجهاز الطرفي (terminal). تم بناؤها استناداً إلى نماذج GPT وتم تحسينها لإنشاء الأكواد البرمجية.

## متطلبات النظام

- **نظام التشغيل**: macOS، Linux (دعم رسمي)، Windows عبر WSL
- **Node.js**: الإصدار 18+
- **npm**: الإصدار 10.x.x أو أحدث

## التثبيت

```bash
sudo npm install -g @openai/codex@latest
```

التحقق من التثبيت:

```bash
codex --version
```

## الإعداد

### الخطوة 1: إعداد API Key

**مؤقت (للجلسة الحالية):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**إعداد دائم:**

أضف إلى `~/.bashrc` أو `~/.zshrc` أو `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

ثم أعد التحميل:

```bash
source ~/.zshrc  # أو source ~/.bashrc
```

### الخطوة 2: إعداد config.toml

تحرير `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
إذا لم يكن ملف الإعداد موجوداً، قم بتشغيل `codex` مرة واحدة لإنشاء الملف، ثم ابدأ في تحريره.
</Note>

## الاستخدام الأساسي

**بدء الوضع التفاعلي:**

```bash
codex
```

**أوامر مباشرة:**

```bash
codex "Fix the bug in main.py line 42"
```

**تحديد النموذج:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## النماذج المتاحة

| النموذج | حالات الاستخدام |
|-------|----------|
| `gpt-4o` | مهام البرمجة المعقدة، تصميم الهيكلية |
| `gpt-4o-mini` | إصلاحات سريعة، مهام بسيطة |
| `claude-sonnet-4-5` | مراجعة الأكواد، كتابة الوثائق |
| `deepseek-r1` | تصميم الخوارزميات، الاستنتاج |

## الأوامر التفاعلية

| الأمر | الوصف |
|---------|-------------|
| `/help` | عرض المساعدة |
| `/exit` أو `Ctrl+C` | خروج |
| `/clear` | مسح المحادثة |
| `/config` | عرض الإعدادات |
| `/model <name>` | تبديل النموذج |
| `/tokens` | عرض استهلاك token |

## التحقق من الإعدادات

```bash
# التحقق من متغيرات البيئة
echo $OPENAI_API_KEY

# اختبار اتصال API
codex "Hello, Codex!"

# عرض الإعدادات
cat ~/.codex/config.toml
```

## حالات استخدام شائعة

**مراجعة الأكواد:**

```bash
git diff | codex "Review these code changes"
```

**إنشاء رسالة commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**إصلاح الأخطاء:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**شرح الكود:**

```bash
cat main.py | codex "Explain what this code does"
```

## استكشاف الأخطاء وإصلاحها

<AccordionGroup>
  <Accordion title="خطأ في الاتصال">
    - تحقق من أن `base_url` في `config.toml` هو بالضبط `https://api.lemondata.cc/v1`
    - تحقق من حالة اتصال الشبكة
    - تأكد من عدم وجود تداخل من خادم وكيل (proxy)
  </Accordion>

  <Accordion title="فشل المصادقة">
    - تحقق من تعيين متغير البيئة `OPENAI_API_KEY`
    - تحقق مما إذا كان المفتاح يبدأ بـ `sk-`
    - تأكد من أن المفتاح نشط في لوحة تحكم LemonData
  </Accordion>

  <Accordion title="النموذج غير موجود">
    - تحقق من مطابقة اسم النموذج تماماً
    - تحقق من توفر النموذج في [lemondata.cc/en/models](https://lemondata.cc/zh-TW/models)
  </Accordion>
</AccordionGroup>