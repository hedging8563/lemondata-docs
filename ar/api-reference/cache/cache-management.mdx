---
title: "إدارة التخزين المؤقت (Cache Management)"
description: "التحكم في سلوك التخزين المؤقت لطلبات API الخاصة بك"
---

## نظرة عامة

يقوم LemonData بإدارة التخزين المؤقت تلقائيًا لتحسين الأداء وتقليل التكاليف. على الرغم من عدم وجود نقطة نهاية (endpoint) عامة لمسح إدخالات التخزين المؤقت، إلا أن لديك تحكمًا كاملاً في سلوك التخزين المؤقت من خلال عناصر التحكم على مستوى الطلب.

## تجاوز التخزين المؤقت

للحصول على استجابات جديدة دون استخدام التخزين المؤقت، استخدم المعلمة `cache_control` في طلبك:

<CodeGroup>

```bash cURL
curl -X POST "https://api.lemondata.cc/v1/chat/completions" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o",
    "messages": [{"role": "user", "content": "Hello!"}],
    "cache_control": {"type": "no_cache"}
  }'
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role": "user", "content": "Hello!"}],
    extra_body={"cache_control": {"type": "no_cache"}}
)

print(response.choices[0].message.content)
```

```javascript JavaScript
const response = await fetch(
  'https://api.lemondata.cc/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer sk-your-api-key',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'gpt-4o',
      messages: [{ role: 'user', content: 'Hello!' }],
      cache_control: { type: 'no_cache' }
    })
  }
);

const data = await response.json();
console.log(data);
```

</CodeGroup>

## خيارات التحكم في التخزين المؤقت

| النوع | التأثير |
|------|--------|
| `no_cache` | تخطي البحث في التخزين المؤقت، والحصول دائمًا على استجابة جديدة |
| `no_store` | عدم تخزين هذه الاستجابة في التخزين المؤقت |
| `response_only` | استخدام التخزين المؤقت للمطابقة التامة فقط (تخطي البحث الدلالي) |
| `semantic_only` | استخدام التخزين المؤقت الدلالي فقط (تخطي المطابقة التامة) |

## ملاحظات التخزين المؤقت

إذا تلقيت استجابة مخزنة مؤقتًا غير صحيحة، يمكنك الإبلاغ عنها:

```bash
curl -X POST "https://api.lemondata.cc/v1/cache/feedback" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "cache_entry_id": "abc123",
    "feedback_type": "wrong_answer",
    "description": "Response was outdated"
  }'
```

عندما يتلقى إدخال التخزين المؤقت قدرًا كافيًا من الملاحظات السلبية، يتم إبطال مفعوله تلقائيًا.

## حالات الاستخدام

<AccordionGroup>
  <Accordion title="اختبار الاستجابات الجديدة">
    أثناء التطوير، استخدم `cache_control: {"type": "no_cache"}` للتأكد من حصولك على استجابات API جديدة.
  </Accordion>

  <Accordion title="الاستعلامات الحساسة للوقت">
    بالنسبة للبيانات في الوقت الفعلي مثل أسعار الأسهم أو الطقس، استخدم دائمًا `no_cache` للحصول على المعلومات الحالية.
  </Accordion>

  <Accordion title="تصحيح الأخطاء (Debugging)">
    عند تصحيح أخطاء الاستجابات غير المتوقعة، استخدم `no_cache` لاستبعاد النتائج المخزنة مؤقتًا.
  </Accordion>
</AccordionGroup>

<Note>
  لمزيد من التفاصيل حول التخزين المؤقت، راجع [دليل التخزين المؤقت](/guides/caching).
</Note>