---
title: "Slack"
description: "قم بتوصيل مثيل Claw الخاص بك بمساحة عمل Slack باستخدام Socket Mode"
---

أضف مساعد ذكاء اصطناعي إلى مساحة عمل Slack الخاصة بك باستخدام Socket Mode — لا يتطلب عنوان URL عام.

## المتطلبات الأساسية

- مساحة عمل [Slack](https://slack.com/) تمتلك فيها صلاحيات المسؤول
- مثيل Claw ([أنشئ واحداً هنا](https://lemondata.cc/dashboard/claw))

## دليل الإعداد

<Steps>
  <Step title="إنشاء تطبيق Slack">
    1. انتقل إلى [Slack API](https://api.slack.com/apps) وانقر على **Create New App**
    2. اختر **From scratch**
    3. أدخل اسماً للتطبيق (مثلاً، "AI Assistant") وحدد مساحة العمل الخاصة بك
    4. انقر على **Create App**
  </Step>
  <Step title="تفعيل Socket Mode">
    1. في الشريط الجانبي الأيسر، انتقل إلى **Socket Mode**
    2. قم بتبديل **Enable Socket Mode** إلى وضع التشغيل (ON)
    3. امنح الـ token اسماً (مثلاً، "claw-socket") وانقر على **Generate**
    4. انسخ الـ **App-Level Token** (يبدأ بـ `xapp-`) — ستحتاج إلى هذا
  </Step>
  <Step title="تكوين أذونات البوت">
    1. انتقل إلى **OAuth & Permissions** في الشريط الجانبي
    2. ضمن **Bot Token Scopes**، أضف هذه النطاقات (scopes):
       - `chat:write` — إرسال الرسائل
       - `im:history` — قراءة سجل الرسائل المباشرة (DM)
       - `im:read` — عرض الرسائل المباشرة (DMs)
       - `im:write` — بدء رسائل مباشرة (DMs)
       - `app_mentions:read` — اكتشاف الإشارات (@mentions)
    3. انقر على **Install to Workspace** في الأعلى
    4. قم بتفويض التطبيق
    5. انسخ الـ **Bot User OAuth Token** (يبدأ بـ `xoxb-`)
  </Step>
  <Step title="تفعيل الأحداث (Events)">
    1. انتقل إلى **Event Subscriptions** في الشريط الجانبي
    2. قم بتبديل **Enable Events** إلى وضع التشغيل (ON)
    3. ضمن **Subscribe to bot events**، أضف:
       - `message.im` — الرسائل في الـ DMs
       - `app_mention` — الإشارات (@mentions) في القنوات
    4. انقر على **Save Changes**
  </Step>
  <Step title="التكوين في لوحة تحكم LemonData">
    1. انتقل إلى [لوحة تحكم Claw](https://lemondata.cc/dashboard/claw) الخاصة بك
    2. انقر على **أيقونة الإعدادات** في المثيل الخاص بك
    3. افتح علامة تبويب **IM Integrations**
    4. قم بتوسيع قسم **Slack**
    5. قم بلصق الـ **App Token** (`xapp-...`) والـ **Bot Token** (`xoxb-...`)
    6. انقر على **Save**
  </Step>
  <Step title="ابدأ الدردشة">
    1. في Slack، أرسل رسالة مباشرة (DM) إلى البوت الخاص بك أو أشر إليه (@mention) في قناة
    2. يتم **إقران المستخدم الأول تلقائياً** كمالك — لا حاجة لأي كود!
    3. ابدأ الدردشة مع الذكاء الاصطناعي!
  </Step>
</Steps>

## التحكم في الوصول

### إعدادات المجموعة

قم بتكوين الوصول إلى القنوات في علامة تبويب **IM Integrations** في لوحة التحكم الخاصة بك:

| الإعداد | الخيارات | الوصف |
|---------|---------|-------------|
| **Group Policy** | مفتوح (افتراضي) / Allowlist / معطل | يتحكم في القنوات التي يستجيب فيها البوت |
| **Require @mention** | تشغيل / إيقاف | يستجيب البوت فقط عند الإشارة إليه (@mentioned) |
| **Group IDs** | قائمة بمعرفات القنوات | التقييد بقنوات محددة (فارغ = جميع القنوات) |
| **Group Allowed Users** | قائمة بمعرفات المستخدمين | يمكن لهؤلاء المستخدمين فقط تفعيل البوت (وضع allowlist) |

<Tip>
بشكل افتراضي، يستخدم Slack سياسة المجموعة **المفتوحة** — يستجيب البوت في جميع القنوات التي تتم دعوته إليها. استخدم **allowlist** للتقييد بقنوات محددة.
</Tip>

## استكشاف الأخطاء وإصلاحها

<AccordionGroup>
  <Accordion title="البوت لا يستجيب للرسائل المباشرة (DMs)">
    - تأكد من صحة كلا الـ tokens (يبدأ App Token بـ `xapp-` و Bot Token بـ `xoxb-`)
    - تحقق من الاشتراك في حدث `message.im`
    - تأكد من تثبيت التطبيق في مساحة العمل الخاصة بك
  </Accordion>
  <Accordion title="البوت لا يستجيب للإشارات (@mentions)">
    - تحقق من تكوين نطاق `app_mentions:read` وحدث `app_mention`
    - يجب دعوة البوت إلى القناة أولاً (اكتب `/invite @botname`)
  </Accordion>
  <Accordion title="خطأ 'not_allowed_token_type'">
    - تأكد من استخدام **App-Level Token** (`xapp-`) في حقل App Token، وليس Bot Token
    - يتم وضع الـ Bot Token (`xoxb-`) في حقل Bot Token
  </Accordion>
</AccordionGroup>