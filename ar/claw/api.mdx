<think>**Analyzing Documentation Scope**
**Clarifying Translation Parameters**
**Formulating the Translation Plan**
**Executing the Translation Process**
**Finalizing the MDX Translation**
**Verifying Translation Accuracy**
**Reviewing and Refining Output**
**Refining Translation Accuracy**
</think>

---
title: "مرجع API"
description: "إدارة مثيلات Claw برمجياً عبر /v1/claw API"
---

تتطلب جميع نقاط نهاية Claw API المصادقة عبر ترويسة `Authorization: Bearer sk-...`.

**Base URL:** `https://api.lemondata.cc/v1/claw`

## سرد المثيلات

```
GET /v1/claw/instances
```

يرجع جميع المثيلات للمنظمة المصادق عليها.

<RequestExample>
```bash cURL
curl https://api.lemondata.cc/v1/claw/instances \
  -H "Authorization: Bearer sk-your-api-key"
```

```python Python
import requests

resp = requests.get(
    "https://api.lemondata.cc/v1/claw/instances",
    headers={"Authorization": "Bearer sk-your-api-key"}
)
print(resp.json())
```
</RequestExample>

<ResponseExample>
```json 200
{
  "instances": [
    {
      "id": "cm5abc123",
      "subdomain": "mybot",
      "url": "https://claw-mybot.lemondata.cc",
      "defaultModel": "claude-opus-4-6",
      "hasIMConfig": true,
      "status": "RUNNING",
      "paidUntil": "2026-03-10T00:00:00.000Z",
      "canRebuild": true,
      "totalPaid": 20,
      "createdAt": "2026-02-08T00:00:00.000Z"
    }
  ]
}
```
</ResponseExample>

### قيم حالة المثيل

| الحالة | الوصف |
|---|---|
| `PENDING` | تم إنشاؤه للتو، بانتظار التخصيص |
| `PROVISIONING` | يتم نشر الحاوية (Container) |
| `RUNNING` | المثيل نشط وبحالة جيدة |
| `STOPPED` | متوقف بسبب انتهاء الصلاحية (يتم الاحتفاظ بالبيانات لمدة 7 أيام) |
| `FAILED` | فشل النشر (تم استرداد المبلغ تلقائياً) |
| `DELETED` | تمت الإزالة نهائياً |

---

## إنشاء مثيل

```
POST /v1/claw/instances
```

ينشئ مثيلاً جديداً ويخصم **$20** لمدة 30 يوماً من رصيد منظمتك.

<ParamField body="subdomain" type="string" required>
  النطاق الفرعي (3-32 حرفاً، أحرف وأرقام صغيرة + وصلات). رابط المثيل: `https://claw-{subdomain}.lemondata.cc`
</ParamField>

<ParamField body="defaultModel" type="string">
  نموذج الذكاء الاصطناعي الافتراضي (مثال: `claude-opus-4-6` ، `gpt-5.2` ، `gemini-3-pro-preview` ، `minimax-m2.1` ، `kimi-k2.5`)
</ParamField>

<RequestExample>
```bash cURL
curl -X POST https://api.lemondata.cc/v1/claw/instances \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{"subdomain": "mybot", "defaultModel": "claude-opus-4-6"}'
```

```python Python
import requests

resp = requests.post(
    "https://api.lemondata.cc/v1/claw/instances",
    headers={"Authorization": "Bearer sk-your-api-key"},
    json={"subdomain": "mybot", "defaultModel": "claude-opus-4-6"}
)
print(resp.json())
```
</RequestExample>

<ResponseExample>
```json 201
{
  "id": "cm5abc123",
  "subdomain": "mybot",
  "url": "https://claw-mybot.lemondata.cc",
  "status": "PENDING",
  "paidUntil": "2026-03-10T00:00:00.000Z",
  "charged": true,
  "chargedAmount": 20
}
```
</ResponseExample>

<Warning>
الرصيد غير الكافي يرجع الخطأ **402 Payment Required**. تأكد من أن منظمتك تمتلك 20 دولاراً على الأقل قبل إنشاء مثيل.
</Warning>

---

## الحصول على مثيل

```
GET /v1/claw/instances/:id
```

يرجع تفاصيل مثيل معين.

---

## تحديث المثيل

```
PATCH /v1/claw/instances/:id
```

تحديث تكوين المثيل.

<ParamField body="defaultModel" type="string | null">
  تغيير نموذج الذكاء الاصطناعي الافتراضي
</ParamField>

<ParamField body="imConfig" type="object | null">
  تحديث تكوين منصة IM (Telegram، Discord، إلخ.)
</ParamField>

<RequestExample>
```bash cURL
curl -X PATCH https://api.lemondata.cc/v1/claw/instances/cm5abc123 \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{"defaultModel": "claude-sonnet-4-5"}'
```
</RequestExample>

---

## إعادة بناء المثيل

```
POST /v1/claw/instances/:id/rebuild
```

يقوم بتدمير الحاوية وإعادة إنشائها مع الحفاظ على البيانات (PVC). يقتصر على **10 عمليات إعادة بناء يومياً**.

يرجع الخطأ **429 Too Many Requests** في حال تجاوز الحد اليومي.

---

## تجديد المثيل

```
POST /v1/claw/instances/:id/renew
```

يمدد فترة الفوترة لمدة 30 يوماً (20 دولاراً). إذا تم إيقاف المثيل بسبب انتهاء الصلاحية، فسيتم إعادة تشغيله تلقائياً.

<ResponseExample>
```json 200
{
  "id": "cm5abc123",
  "subdomain": "mybot",
  "status": "RUNNING",
  "paidUntil": "2026-04-09T00:00:00.000Z",
  "charged": true,
  "chargedAmount": 20
}
```
</ResponseExample>

---

## فحص الحالة

```
GET /v1/claw/health
```

يرجع حالة صحة خدمة Claw. لا تتطلب مصادقة.

```json
{"status": "ok", "timestamp": "2026-02-08T15:00:00.000Z"}
```