---
title: "✨ التخزين المؤقت للمطالبات في المصدر (Upstream Prompt Cache)"
description: "تعرف على التخزين المؤقت للمطالبات على مستوى المزود وكيف يقلل التكاليف"
---

## نظرة عامة

بالإضافة إلى [التخزين المؤقت الدلالي للمنصة](/guides/caching) الخاص بـ LemonData، يقدم العديد من مزودي الذكاء الاصطناعي ميزة **prompt caching** الخاصة بهم. هذه آلية تخزين مؤقت منفصلة تعمل على مستوى المزود (Anthropic، OpenAI، DeepSeek، إلخ).

<Note>
**نوعان من التخزين المؤقت**

| النوع | المكان | آلية العمل | التكلفة |
|------|-------|--------------|------|
| **التخزين المؤقت للمنصة** | LemonData | مطابقة التشابه الدلالي | مجاني (بدون استدعاء API) |
| **التخزين المؤقت للمزود** | المصدر (Anthropic/OpenAI/إلخ) | مطابقة البادئة الدقيقة | أسعار مخفضة للـ tokens |

هذان النوعان **متنافيان**: إذا حدثت إصابة (hit) في التخزين المؤقت للمنصة، فلن يتم إجراء استدعاء للمصدر، وبالتالي لا ينطبق التخزين المؤقت للمزود.
</Note>

## كيف يعمل التخزين المؤقت للمطالبات لدى المزود

يقوم التخزين المؤقت للمطالبات لدى المزود بتخزين التمثيل المعالج لبادئة مطالبتك (prompt prefix) على خوادم المزود. عندما ترسل طلباً بنفس البادئة، يمكن للمزود تخطي إعادة معالجة تلك الـ tokens.

### الخصائص الرئيسية

- **يعتمد على البادئة**: يمكن تخزين بداية مطالبتك فقط مؤقتاً
- **مطابقة دقيقة**: يتطلب tokens متطابقة تماماً (وليس تشابهاً دلالياً)
- **محدد بوقت**: تنتهي صلاحية مدخلات التخزين المؤقت (عادةً من 5 إلى 60 دقيقة)
- **تلقائي**: لا يلزم إجراء تكوين خاص

```
Request 1: [System prompt + Context A + Question 1]
           ^^^^^^^^^^^^^^^^^^^^^^^^
           يتم تخزين هذه البادئة مؤقتاً

Request 2: [System prompt + Context A + Question 2]
           ^^^^^^^^^^^^^^^^^^^^^^^^
           إصابة التخزين المؤقت! تتم معالجة السؤال 2 فقط
```

## المزودون المدعومون

| المزود | خصم قراءة التخزين المؤقت | تكلفة كتابة التخزين المؤقت | الحد الأدنى للـ Tokens |
|----------|---------------------|------------------|------------|
| **Anthropic** | خصم 90% | نفس تكلفة الإدخال | 1024