---
title: "✨ Agent-First API"
description: "تلميحات أخطاء منظمة لوكلاء الذكاء الاصطناعي للتصحيح الذاتي من المحاولة الأولى"
---

## نظرة عامة

تعمل Agent-First API من LemonData على إثراء استجابات الأخطاء بتلميحات منظمة يمكن لوكلاء الذكاء الاصطناعي تحليلها واتخاذ إجراء بشأنها على الفور — دون الحاجة إلى عمليات بحث على الويب، أو مراجعة المستندات، أو التخمين.

تتضمن كل استجابة خطأ حقولاً اختيارية مثل `did_you_mean` و `suggestions` و `hint` و `retryable` و `retry_after` داخل كائن `error` القياسي. هذه الحقول متوافقة مع الإصدارات السابقة — ولن يلاحظ العملاء الذين لا يستخدمونها أي فرق.

## حقول تلميحات الأخطاء

جميع حقول التلميحات هي امتدادات اختيارية داخل كائن `error`:

| الحقل | النوع | الوصف |
|-------|------|-------------|
| `did_you_mean` | `string` | اسم النموذج الأقرب مطابقة |
| `suggestions` | `array` | النماذج الموصى بها مع البيانات الوصفية |
| `alternatives` | `array` | النماذج البديلة المتاحة حالياً |
| `hint` | `string` | إرشادات للخطوة التالية قابلة للقراءة من قبل البشر/الوكلاء |
| `retryable` | `boolean` | ما إذا كانت إعادة محاولة نفس الطلب قد تنجح |
| `retry_after` | `number` | عدد الثواني التي يجب انتظارها قبل إعادة المحاولة |
| `balance_usd` | `number` | رصيد الحساب الحالي بالدولار الأمريكي |
| `estimated_cost_usd` | `number` | التكلفة التقديرية للطلب الفاشل |

## أمثلة على أكواد الأخطاء

### model_not_found (400)

عندما لا يتطابق اسم النموذج مع أي نموذج نشط:

```json
{
  "error": {
    "message": "Model 'gpt5' not found",
    "type": "invalid_request_error",
    "param": "model",
    "code": "model_not_found",
    "did_you_mean": "gpt-4o",
    "suggestions": [
      {"id": "gpt-4o"},
      {"id": "gpt-4o-mini"},
      {"id": "claude-sonnet-4-5"}
    ],
    "hint": "Did you mean 'gpt-4o'? Use GET /v1/models to list all available models."
  }
}
```

يستخدم حل `did_you_mean` ما يلي:
1. رسم