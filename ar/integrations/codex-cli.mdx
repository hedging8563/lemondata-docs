---
title: "Codex CLI"
description: "تكوين OpenAI Codex CLI لاستخدام LemonData API"
---

## نظرة عامة

تعد OpenAI Codex أداة سطر أوامر (CLI) مفتوحة المصدر تعمل كوكيل برمجة خفيف الوزن، وهي قادرة على قراءة الكود وتعديله وتشغيله في الجهاز الطرفي (terminal). تم بناؤها على نماذج GPT وهي محسنة لتوليد الكود.

## متطلبات النظام

- **نظام التشغيل**: macOS، Linux (دعم رسمي)، Windows عبر WSL
- **Node.js**: الإصدار 18+
- **npm**: الإصدار 10.x.x أو أحدث

## التثبيت

```bash
sudo npm install -g @openai/codex@latest
```

التحقق من التثبيت:

```bash
codex --version
```

## التكوين

### الخطوة 1: تعيين API Key

**مؤقت (الجلسة الحالية):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**تكوين دائم:**

أضف إلى `~/.bashrc` أو `~/.zshrc` أو `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

ثم قم بإعادة التحميل:

```bash
source ~/.zshrc  # or source ~/.bashrc
```

### الخطوة 2: تكوين config.toml

قم بتحرير `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
إذا لم يكن ملف التكوين موجوداً، فقم بتشغيل `codex` مرة واحدة لإنشائه، ثم قم بتحرير الملف.
</Note>

## الاستخدام الأساسي

**بدء الوضع التفاعلي:**

```bash
codex
```

**أمر مباشر:**

```bash
codex "Fix the bug in main.py line 42"
```

**تحديد النموذج:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## النماذج المتاحة

| النموذج | الأفضل لـ |
|-------|----------|
| `gpt-4o` | مهام البرمجة المعقدة، الهندسة المعمارية |
| `gpt-4o-mini` | الإصلاحات السريعة، المهام البسيطة |
| `claude-sonnet-4-5` | مراجعة الكود، التوثيق |
| `deepseek-r1` | تصميم الخوارزميات، الاستنتاج |

## الأوامر التفاعلية

| الأمر | الوصف |
|---------|-------------|
| `/help` | عرض المساعدة |
| `/exit` أو `Ctrl+C` | خروج |
| `/clear` | مسح المحادثة |
| `/config` | عرض التكوين |
| `/model <name>` | تبديل النموذج |
| `/tokens` | عرض استخدام token |

## التحقق من التكوين

```bash
# التحقق من متغير البيئة
echo $OPENAI_API_KEY

# اختبار اتصال API
codex "Hello, Codex!"

# عرض التكوين
cat ~/.codex/config.toml
```

## حالات الاستخدام الشائعة

**مراجعة الكود:**

```bash
git diff | codex "Review these code changes"
```

**توليد رسائل commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**إصلاح الأخطاء:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**شرح الكود:**

```bash
cat main.py | codex "Explain what this code does"
```

## استكشاف الأخطاء وإصلاحها

<AccordionGroup>
  <Accordion title="خطأ في الاتصال">
    - تحقق من أن `base_url` في config.toml هو بالضبط `https://api.lemondata.cc/v1`
    - تحقق من اتصال الشبكة
    - تأكد من عدم وجود تداخل من بروكسي (proxy)
  </Accordion>

  <Accordion title="فشل المصادقة">
    - تحقق من تعيين متغير البيئة `OPENAI_API_KEY`
    - تحقق من أن المفتاح يبدأ بـ `sk-`
    - تأكد من أن المفتاح نشط في لوحة تحكم LemonData
  </Accordion>

  <Accordion title="النموذج غير موجود">
    - تحقق من مطابقة اسم النموذج تماماً
    - تحقق من توفر النموذج في [lemondata.cc/en/models](https://lemondata.cc/ar/models)
  </Accordion>
</AccordionGroup>