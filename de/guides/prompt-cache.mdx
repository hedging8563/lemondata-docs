---
title: "✨ Upstream-Prompt-Caching"
description: "Verstehen Sie das Prompt-Caching auf Provider-Ebene und wie es Kosten senkt"
---

## Übersicht

Zusätzlich zum [semantischen Plattform-Cache](/guides/caching) von LemonData bieten viele AI-Provider ihre eigene **Prompt-Caching**-Funktion an. Dies ist ein separater Caching-Mechanismus, der auf Provider-Ebene (Anthropic, OpenAI, DeepSeek usw.) arbeitet.

<Note>
**Zwei Arten von Caching**

| Typ | Ort | Funktionsweise | Kosten |
|------|-------|--------------|------|
| **Plattform-Cache** | LemonData | Semantischer Ähnlichkeitsabgleich | 20% des normalen Preises |
| **Provider-Cache** | Upstream (Anthropic/OpenAI/etc) | Exakter Präfix-Abgleich | Ermäßigte Token-Raten |

Diese schließen sich **gegenseitig aus**: Wenn der Plattform-Cache greift (Hit), erfolgt kein Upstream-Aufruf, sodass der Provider-Cache nicht angewendet wird.
</Note>

## Wie Provider-Prompt-Caching funktioniert

Provider-Prompt-Caching speichert die verarbeitete Darstellung Ihres Prompt-Präfixes auf den Servern des Providers. Wenn Sie eine Anfrage mit demselben Präfix senden, kann der Provider die erneute Verarbeitung dieser Token überspringen.

### Hauptmerkmale

- **Präfix-basiert**: Nur der Anfang Ihres Prompts kann zwischengespeichert werden
- **Exakte Übereinstimmung**: Erfordert identische Token (keine semantische Ähnlichkeit)
- **Zeitlich begrenzt**: Cache-Einträge laufen ab (normalerweise 5–60 Minuten)
- **Automatisch**: Keine spezielle Konfiguration erforderlich

```
Anfrage 1: [System-Prompt + Kontext A + Frage 1]
           ^^^^^^^^^^^^^^^^^^^^^^^^
           Dieses Präfix wird zwischengespeichert

Anfrage 2: [System-Prompt + Kontext A + Frage 2]
           ^^^^^^^^^^^^^^^^^^^^^^^^
           Cache-Treffer! Nur Frage 2 wird verarbeitet
```

## Unterstützte Provider

| Provider | Cache-Lese-Rabatt | Cache-Schreib-Kosten | Min. Token |
|----------|---------------------|------------------|------------|
| **Anthropic** | 90 % Rabatt | Gleich wie Input | 1024 |
| **OpenAI** | 50 % Rabatt | Gleich wie Input | 1024 |
| **DeepSeek** | 90 % Rabatt | Gleich wie Input | 64 |
| **Google** | 75 % Rabatt | 25 % Aufschlag | 32768 |

<Info>
Rabatte werden automatisch angewendet. LemonData gibt die Cache-Preise des Providers direkt an Sie weiter.
</Info>

## Cache-Nutz