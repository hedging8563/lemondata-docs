---
title: "Ratenbegrenzung"
description: "Erfahren Sie mehr über Ratenbegrenzungen und deren Handhabung"
---

## Übersicht

LemonData implementiert Ratenbegrenzungen, um eine faire Nutzung und Plattformstabilität zu gewährleisten. Die Limits variieren je nach Account-Stufe.

## Ratenbegrenzungsstufen

| Stufe | Anfragen/Min. | Beschreibung |
|------|-------------|-------------|
| **User** | 1,000 | Standardstufe für alle Accounts |
| **Partner** | 3,000 | Für Integrationspartner |
| **VIP** | 1.000 | Benutzer mit hohem Volumen |

<Note>
  Ratenbegrenzungen können sich ändern. Bitte kontaktieren Sie support@lemondata.cc für benutzerdefinierte Limits.
</Note>

## Ratenbegrenzungs-Header

Jede API-Antwort enthält Informationen zur Ratenbegrenzung:

```
X-RateLimit-Limit: 60          # Your limit per minute
X-RateLimit-Remaining: 55      # Requests remaining
X-RateLimit-Reset: 1234567890  # Unix timestamp when limit resets
```

## Ratenbegrenzung überschritten

Wenn Sie das Limit überschreiten, erhalten Sie eine `429`-Antwort:

```json
{
  "error": {
    "message": "Rate limit exceeded. Please slow down.",
    "type": "rate_limit_exceeded"
  }
}
```

Mit zusätzlichem Header:
```
Retry-After: 60  # Seconds to wait before retrying
```

## Handhabung von Ratenbegrenzungen

### Exponentieller Backoff (Exponential Backoff)

Implementieren Sie einen exponentiellen Backoff für automatische Wiederholungsversuche:

```python
import time
from openai import OpenAI, RateLimitError

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

def make_request_with_backoff(messages, max_retries=5):
    for attempt in range(max_retries):
        try:
            return client.chat.completions.create(
                model="gpt-4o",
                messages=messages
            )
        except RateLimitError as e:
            if attempt == max_retries - 1:
                raise

            wait_time = 2 ** attempt  # 1, 2, 4, 8, 16 seconds
            print(f"Rate limited. Waiting {wait_time}s...")
            time.sleep(wait_time)
```

### Anfragen-Warteschlange

Implementieren Sie für Anwendungen mit hohem Volumen eine Warteschlange für Anfragen:

```python
import asyncio
from collections