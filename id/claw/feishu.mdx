---
title: "Feishu / Lark"
description: "Hubungkan instans Claw Anda ke Feishu (Lark) menggunakan event WebSocket"
---

Hubungkan Feishu (飞书) atau Lark ke instans Claw Anda. Menggunakan mode WebSocket — tidak memerlukan URL callback publik.

## Prasyarat

- Akun [Feishu](https://www.feishu.cn/) atau [Lark](https://www.larksuite.com/) dengan akses pengembang
- Instans Claw ([buat di sini](https://lemondata.cc/dashboard/claw))

## Panduan Penyiapan

<Steps>
  <Step title="Buat Aplikasi Feishu">
    1. Buka [Feishu Open Platform](https://open.feishu.cn/app) (atau [Lark Developer](https://open.larksuite.com/app))
    2. Klik **Create Custom App**
    3. Masukkan nama dan deskripsi aplikasi
    4. Klik **Create**
  </Step>
  <Step title="Tambahkan Kemampuan Bot">
    1. Di pengaturan aplikasi Anda, buka **Features** → **Bot**
    2. Aktifkan kemampuan bot
    3. Ini memungkinkan aplikasi Anda untuk menerima dan mengirim pesan
  </Step>
  <Step title="Dapatkan Kredensial">
    1. Buka **Credentials & Basic Info**
    2. Salin **App ID** (dimulai dengan `cli_`)
    3. Salin **App Secret**
  </Step>
  <Step title="Konfigurasi Langganan Event">
    1. Buka **Event Subscriptions**
    2. Pilih mode **WebSocket** (direkomendasikan — tidak memerlukan URL publik)
    3. Jika diminta, atur **Encrypt Key** dan **Verification Token**

    <Tip>
    Saat Anda mengonfigurasi Feishu di dashboard LemonData, Encrypt Key dan Verification Token akan **dihasilkan secara otomatis** untuk Anda. Salin nilai-nilai ini ke konsol pengembang Feishu.
    </Tip>
  </Step>
  <Step title="Tambahkan Izin Event">
    1. Di bawah Event Subscriptions, tambahkan event ini:
       - `im.message.receive_v1` — Menerima pesan
    2. Buka **Permissions & Scopes** dan tambahkan:
       - `im:message` — Mengirim dan menerima pesan
       - `im:message.group_at_msg` — Menerima @mentions grup
    3. Klik **Save**
  </Step>
  <Step title="Publikasikan Aplikasi">
    1. Buka **App Release** → **Version Management**
    2. Buat versi baru
    3. Kirim untuk ditinjau (untuk aplikasi internal, ini biasanya instan)
    4. Setelah disetujui, aplikasi akan aktif
  </Step>
  <Step title="Konfigurasi di Dashboard LemonData">
    1. Buka [Dashboard Claw](https://lemondata.cc/dashboard/claw) Anda
    2. Klik **ikon pengaturan** pada instans Anda
    3. Buka tab **IM Integrations**
    4. Perluas bagian **Feishu**
    5. Tempel **App ID** dan **App Secret** Anda
    6. Salin kembali **Encrypt Key** dan **Verification Token** yang dihasilkan secara otomatis ke konsol pengembang Feishu
    7. Klik **Save**
  </Step>
  <Step title="Mulai Mengobrol">
    1. Di Feishu, cari bot Anda berdasarkan nama
    2. Kirimkan pesan
    3. Pengguna pertama **secara otomatis dipasangkan** sebagai pemilik — tidak memerlukan kode!
    4. Mulai mengobrol dengan AI!
  </Step>
</Steps>

## Pengaturan Grup

Konfigurasikan perilaku obrolan grup di tab **IM Integrations** pada Dashboard Anda:

| Pengaturan | Opsi | Deskripsi |
|---------|---------|-------------|
| **Group Policy** | Terbuka (default) / Allowlist / Dinonaktifkan | Mengontrol siapa yang dapat memicu bot dalam grup |
| **Require @mention** | Aktif / Nonaktif | Bot hanya merespons saat di-@mention |
| **Group IDs** | Daftar ID obrolan | Batasi ke grup tertentu (kosong = semua grup) |
| **Group Allowed Users** | Daftar Open ID | Hanya pengguna ini yang dapat memicu bot (mode allowlist) |

## Pemecahan Masalah

<AccordionGroup>
  <Accordion title="Bot tidak menerima pesan">
    - Verifikasi bahwa aplikasi telah dipublikasikan dan disetujui
    - Pastikan event `im.message.receive_v1` telah dilanggan
    - Pastikan mode WebSocket dipilih (bukan HTTP)
    - Verifikasi bahwa Encrypt Key dan Verification Token cocok antara konsol Feishu dan konfigurasi Claw
  </Accordion>
  <Accordion title="Kesalahan 'app_ticket'">
    - Ini biasanya berarti App ID atau App Secret salah
    - Periksa kembali kredensial di dashboard Anda
  </Accordion>
</AccordionGroup>