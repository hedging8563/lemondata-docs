---
title: "Membuat Pesan"
openapi: "POST /v1/messages"
description: "Membuat pesan menggunakan format Anthropic Messages API"
---

## Ringkasan

Endpoint ini menyediakan kompatibilitas asli dengan Anthropic Messages API. Cocok untuk model Claude dengan fitur seperti pemikiran yang diperluas (extended thinking).

<Note>
Base URL untuk Anthropic SDK: `https://api.lemondata.cc` (tanpa akhiran `/v1`)
</Note>

## Header Permintaan

<ParamField header="x-api-key" type="string" required>
  Kunci API LemonData Anda. Alternatif untuk Bearer token.
</ParamField>

<ParamField header="anthropic-version" type="string" required>
  Versi Anthropic API. Gunakan `2023-06-01`.
</ParamField>

## Body Permintaan

<ParamField body="model" type="string" required>
  ID model Claude (misalnya `claude-sonnet-4-5`).
</ParamField>

<ParamField body="messages" type="array" required>
  Array objek pesan yang berisi `role` dan `content`.
</ParamField>

<ParamField body="max_tokens" type="integer" required>
  Jumlah maksimum token yang dihasilkan.
</ParamField>

<ParamField body="system" type="string">
  Prompt sistem (terpisah dari array messages).
</ParamField>

<ParamField body="temperature" type="number" default="1">
  Suhu pengambilan sampel (0-1).
</ParamField>

<ParamField body="stream" type="boolean" default="false">
  Mengaktifkan respons streaming.
</ParamField>

<ParamField body="thinking" type="object">
  Konfigurasi pemikiran yang diperluas (Claude Opus 4.5).

  - `type` (string): Atur ke `"enabled"` untuk mengaktifkan
  - `budget_tokens` (integer): Anggaran token untuk pemikiran
</ParamField>

<ParamField body="tools" type="array">
  Alat yang tersedia untuk model.
</ParamField>

<ParamField body="tool_choice" type="object">
  Bagaimana model harus menggunakan alat. Opsi: `auto`, `any`, `tool` (alat tertentu).
</ParamField>

<ParamField body="top_p" type="number">
  Parameter nucleus sampling. Gunakan salah satu dari temperature atau top_p, jangan keduanya.
</ParamField>

<ParamField body="top_k" type="integer">
  Hanya mengambil sampel dari K opsi teratas untuk setiap token.
</ParamField>

<ParamField body="stop_sequences" type="array">
  Urutan penghentian kustom yang akan menyebabkan model berhenti menghasilkan output.
</ParamField>

<ParamField body="metadata" type="object">
  Metadata yang dilampirkan pada permintaan
</ParamField>