---
title: 'API 參考'
description: 'LemonData API 的完整參考指南'
---

## 概覽

LemonData API **相容於 OpenAI**，這意味著您只需更改 Base URL 即可使用官方的 OpenAI SDK。我們也支援原生的 **Anthropic** 和 **Gemini** 請求格式。

## Base URL

```
https://api.lemondata.cc
```

## 身份驗證

所有 API 端點都需要使用 Bearer token 進行身份驗證：

```bash
Authorization: Bearer sk-your-api-key
```

從 [控制台](https://lemondata.cc/dashboard) 獲取您的 API 金鑰。

<Warning>
**關於互動式 Playground**：本文件網站上的 Playground 僅供展示用途，不支援輸入 API 金鑰。如需測試 API，請使用：
- **cURL** - 複製範例指令，將 `sk-your-api-key` 替換為您的實際金鑰
- **Postman** - 匯入我們的 [OpenAPI 規範](/openapi.json)
- **SDK** - 使用 OpenAI/Anthropic SDK 搭配我們的 Base URL
</Warning>

## 支援的端點

### 對話與文字生成

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | 相容於 OpenAI 的對話補全 |
| `/v1/messages` | POST | 相容於 Anthropic 的訊息 API |
| `/v1/responses` | POST | OpenAI Responses API |

### 嵌入與重排序

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/embeddings` | POST | 建立文字嵌入 |
| `/v1/rerank` | POST | 重排序文件 |

### 圖片

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/images/generations` | POST | 從文字生成圖片 |
| `/v1/images/edits` | POST | 編輯圖片 |

### 音訊

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | 文字轉語音 (TTS) |
| `/v1/audio/transcriptions` | POST | 語音轉文字 (STT) |

### 影片

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | 建立影片生成任務 |
| `/v1/videos/generations/{id}` | GET | 獲取影片任務狀態 |

### 音樂

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/music/generations` | POST | 建立音樂生成任務 |
| `/v1/music/generations/{id}` | GET | 獲取音樂任務狀態 |

### 3D 生成

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | 建立 3D 模型生成任務 |
| `/v1/3d/generations/{id}` | GET | 獲取 3D 任務狀態 |

### 模型

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1/models` | GET | 列出所有可用模型 |
| `/v1/models/{model}` | GET | 獲取特定模型資訊 |

### Gemini (v1beta)

原生 Google Gemini API 格式支援：

| 端點 | 方法 | 描述 |
|----------|--------|-------------|
| `/v1beta/models/{model}:generateContent` | POST | 生成內容 (Gemini 格式) |
| `/v1beta/models/{model}:streamGenerateContent` | POST | 串流生成內容 (Gemini 格式) |

<Note>
Gemini 端點除了標準 Bearer token 外，還支援 `?key=` 查詢參數認證。
</Note>

## 回應格式

所有回應均遵循一致的格式：

### 成功回應

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### 路由透明度

所有回應都包含一個帶有渠道資訊的 `_routing` 欄位：

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| 欄位 | 描述 |
|-------|-------------|
| `channel.id` | 使用的渠道識別碼 |
| `channel.provider` | 上游供應商 (openai, anthropic 等) |
| `channel.channelType` | `PLATFORM` (LemonData) 或 `PRIVATE` (BYOK) |
| `cached` | 回應是否來自快取 |
| `retryCount` | 重試次數（如有） |

### 錯誤回應

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## 速率限制

速率限制基於角色，並可由管理員配置。預設值：

| 角色 | 每分鐘請求數 |
|------|-------------|
| 使用者 | 60 |
| 合作夥伴 | 300 |
| VIP | 1,000 |

<Note>
聯絡支援團隊以獲取自定義速率限制。確切數值可能因帳戶配置而異。
</Note>

所有回應中都包含速率限制標頭：

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## OpenAPI 規範

<Card
  title="OpenAPI 規範"
  icon="file-code"
  href="/openapi.json"
>
  下載完整的 OpenAPI 3.0 規範
</Card>