---
title: "Discord"
description: "透過機器人應用程式將您的 Claw 實例連接至 Discord"
---

將您的 Claw 實例連接至 Discord，並直接在您的伺服器或私訊（DM）中與 AI 聊天。

## 先決條件

- 一個 [Discord](https://discord.com/) 帳號
- 一個您擁有 **管理伺服器** 權限的 Discord 伺服器
- 一個 Claw 實例（[在此建立](https://lemondata.cc/dashboard/claw)）

## 設定指南

<Steps>
  <Step title="建立 Discord 應用程式">
    1. 前往 [Discord 開發者入口網站](https://discord.com/developers/applications)
    2. 點擊 **New Application**
    3. 為其命名（例如「我的 AI 機器人」）並點擊 **Create**
  </Step>
  <Step title="建立機器人">
    1. 在您的應用程式中，前往 **Bot** 分頁
    2. 點擊 **Add Bot** → **Yes, do it!**
    3. 在 **Privileged Gateway Intents** 下，啟用：
       - **Message Content Intent**（必要）
       - **Server Members Intent**（建議）
    4. 點擊 **Reset Token** 以產生機器人 token
    5. 複製該 token — 您稍後會用到它
    <Warning>
    該 token 僅會顯示一次。如果您遺失了它，則需要重設。
    </Warning>
  </Step>
  <Step title="將機器人邀請至您的伺服器">
    1. 前往 **OAuth2** 分頁 → **URL Generator**
    2. 在 **Scopes** 下，選擇：`bot`、`applications.commands`
    3. 在 **Bot Permissions** 下，選擇：`Send Messages`、`Read Message History`
    4. 複製產生的 URL 並在瀏覽器中開啟
    5. 選擇您的伺服器並點擊 **Authorize**
  </Step>
  <Step title="在 LemonData 控制面板中配置">
    1. 前往您的 [Claw 控制面板](https://lemondata.cc/dashboard/claw)
    2. 點擊您實例上的 **設定圖示**
    3. 開啟 **IM Integrations** 分頁
    4. 展開 **Discord** 區塊
    5. 貼上您的 **Bot Token**
    6. 點擊 **Save**
  </Step>
  <Step title="開始聊天">
    1. 在您的 Discord 伺服器中，標記（mention）機器人或向其發送私訊（DM）
    2. 第一位使用者將**自動配對**為擁有者 — 無需程式碼！
    3. 開始與 AI 聊天！
  </Step>
</Steps>

## 在伺服器中使用

### 群組設定

在控制面板的 **IM Integrations** 分頁中配置伺服器（guild）行為：

| 設定 | 選項 | 描述 |
|---------|---------|-------------|
| **Group Policy** | Open (預設) / Allowlist / Disabled | 控制伺服器頻道的存取權限 |
| **Require @mention** | On / Off | 機器人僅在被標記（@mentioned）時回應（建議） |
| **Group IDs** | 伺服器 ID 列表 | 限制於特定伺服器（留空 = 所有伺服器） |

<Note>
Discord 使用各伺服器獨立的使用者白名單，而非全域群組白名單。如需進階的各伺服器使用者過濾，請直接在 OpenClaw 設定檔中進行配置。
</Note>

### 私訊（DM）策略

控制誰可以向您的機器人發送直接訊息：

| 策略 | 行為 |
|--------|----------|
| **Pairing** (預設) | 新使用者會獲得配對碼 — 在 WebUI 中輸入以進行授權 |
| **Allowlist** | 僅限您指定的使用者 ID 可以私訊機器人 |
| **Open** | 任何人都可以私訊機器人（請謹慎使用） |

## 疑難排解

<AccordionGroup>
  <Accordion title="機器人已上線但沒有回應">
    - 確保已在開發者入口網站中啟用 **Message Content Intent**
    - 驗證機器人 token 是否正確
    - 檢查機器人是否擁有在該頻道讀取和發送訊息的權限
  </Accordion>
  <Accordion title="機器人顯示為離線">
    - 在控制面板中檢查您的實例狀態（應為綠色/執行中）
    - 嘗試重新啟動實例
    - 驗證 token 未在開發者入口網站中被重設
  </Accordion>
  <Accordion title="日誌中出現 409 Conflict 錯誤">
    - 當兩個實例嘗試使用同一個機器人 token 時會發生這種情況
    - 確保只有一個 Claw 實例配置了此 token
  </Accordion>
</AccordionGroup>