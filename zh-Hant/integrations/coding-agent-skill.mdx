---
title: "✨ AI Coding Agent 技能"
description: "一鍵安裝於 Claude Code、Cursor、Copilot 等工具 — 具備 Agent-First 錯誤恢復功能"
---

<Note>
此技能教導您的編碼代理如何僅透過描述需求，即可整合 LemonData 的 **300 多個 AI API**。它適用於 **Claude Code、Cursor、GitHub Copilot、Windsurf** 以及任何支援技能/規則檔案的工具。

該 API 採用 **[Agent-First](/guides/agent-first-api)** 設計 — 即使代理猜錯了模型名稱，錯誤回應也會明確告知如何修正。
</Note>

## 運作原理

1. **您描述您的需求** — 「我想在我的 Python 專案中使用 GPT-4」
2. **代理呼叫 API** — 它可能會猜測一個模型名稱或端點
3. **如果發生任何錯誤** — API 會回傳結構化提示（`did_you_mean`、`suggestions`、`retry_after`）
4. **代理自動修正** — 讀取提示並使用正確的參數重試
5. **您獲得可運行的程式碼** — 通常在第一次或第二次嘗試時即可完成

## 安裝

<Tabs>
  <Tab title="npx (推薦)">
    自動安裝至**所有偵測到的編碼代理**：

    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    支援：Claude Code、Cursor、GitHub Copilot 等。
  </Tab>
  <Tab title="Claude Code">
    **個人** (所有專案)：
    ```bash
    git clone https://github.com/hedging8563/lemondata-api-skill.git ~/.claude/skills/lemondata-api-integration
    ```

    **專案特定** (與團隊共享)：
    ```bash
    git clone https://github.com/hedging8563/lemondata-api-skill.git .claude/skills/lemondata-api-integration
    ```
  </Tab>
  <Tab title="Cursor">
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    或手動將技能內容複製到您的 `.cursor/rules/` 或 `.cursorrules` 檔案中。
  </Tab>
  <Tab title="GitHub Copilot">
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    或手動將技能內容複製到 `.github/copilot-instructions.md`。
  </Tab>
</Tabs>

### 驗證安裝

詢問您的編碼代理：
```
What skills are available?
```

如果您看到 `lemondata-api-integration`，則表示安裝成功。

## 獲取您的 API Key

<Steps>
  <Step title="造訪 LemonData">
    前往 [lemondata.cc](https://lemondata.cc)
  </Step>
  <Step title="登入">
    建立帳號或登入
  </Step>
  <Step title="獲取 API Key">
    導覽至 [Dashboard → API Keys](https://lemondata.cc/dashboard/api) 並建立一個新的 Key
  </Step>
  <Step title="複製 Key">
    您的 Key 以 `sk-...` 開頭 — 請妥善保存
  </Step>
</Steps>

<Tip>
您不需要預先配置 API Key。當您使用此技能時，代理會詢問您的 Key 並將其包含在生成的程式碼中。
</Tip>

## 範例

### 對話補全 (Chat Completion)

**您說：**
```
I want to use GPT-4 in my Python project
```

**代理生成：**
```python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role": "user", "content": "Hello!"}]
)

print(response.choices[0].message.content)
```

如果代理猜錯了模型名稱（例如 `gpt5`），API 會回傳：
```json
{
  "error": {
    "code": "model_not_found",
    "did_you_mean": "gpt-4o",
    "suggestions": [{"id": "gpt-4o"}, {"id": "gpt-4o-mini"}],
    "hint": "Did you mean 'gpt-4o'? Use GET /v1/models to list all available models."
  }
}
```

代理會讀取 `did_you_mean`，修正模型名稱並重試 — 全程自動化。

### 圖片生成

**您說：**
```
Generate images with Flux in Node.js
```

代理會呼叫圖片 API、處理錯誤，並生成包含下載與儲存邏輯的完整程式碼。

### 語音辨識

**您說：**
```
Integrate speech-to-text in my app
```

代理會使用正確的 `/v1/audio/transcriptions` 端點與音訊檔案處理邏輯來生成程式碼。

## Agent-First 錯誤恢復

每個錯誤回應都包含任何編碼代理都能解析的結構化提示。詳情請參閱 [完整的 Agent-First API 參考](/guides/agent-first-api)。

| 錯誤 | API 回傳內容 | 代理的操作 |
|-------|---------------------|---------------------|
| 模型名稱錯誤 | `did_you_mean` + `suggestions` | 自動修正並重試 |
| 餘額不足 | `balance_usd` + 較便宜的 `suggestions` | 切換至負擔得起的模型 |
| 模型不可用 | `alternatives` + `retry_after` | 切換至可用的模型 |
| 速率限制 (Rate limited) | `retry_after` (精確秒數) | 等待並重試 |
| 上下文過長 | 包含較大模型的 `suggestions` | 切換至具備更大上下文的模型 |

### 原生端點優化

當您使用 Claude 或 Gemini 模型呼叫 `/v1/chat/completions` 時，API 會回傳優化標頭 (headers)：

```
X-LemonData-Hint: This model supports native Anthropic format. Use POST /v1/messages for better performance.
X-LemonData-Native-Endpoint: /v1/messages
```

代理會自動切換到原生端點以獲得更好的效能（無需格式轉換、支援 extended thinking、prompt caching）。

### 模型探索

無需搜尋文件：

```bash
# 機器可讀的 API 概覽
curl https://lemondata.cc/llms.txt

# 按類別列出模型
curl "https://api.lemondata.cc/v1/models?category=chat" -H "Authorization: Bearer sk-KEY"
curl "https://api.lemondata.cc/v1/models?category=image" -H "Authorization: Bearer sk-KEY"

# 按能力篩選
curl "https://api.lemondata.cc/v1/models?tag=coding" -H "Authorization: Bearer sk-KEY"
```

## 支援的能力

| 類型 | 範例 |
|------|----------|
| 對話 (Chat) | GPT-4o, Claude, Gemini, DeepSeek |
| 圖片生成 | Midjourney, Flux, Stable Diffusion |
| 影片生成 | Sora, Runway, Kling, Luma AI |
| 音樂生成 | Suno |
| 3D 模型 | Tripo3D |
| 音訊 | Text-to-Speech, Speech-to-Text |
| 向量嵌入 (Embeddings) | text-embedding-3 |
| 重排序 (Rerank) | bce-reranker, qwen3-rerank |

## 最佳實踐

<CardGroup cols={2}>
  <Card title="API Key 安全性" icon="shield">
    使用環境變數。切勿將 Key 提交至 git 或在前端程式碼中公開。
  </Card>
  <Card title="成本管理" icon="wallet">
    在您的 [控制台](https://lemondata.cc/dashboard) 設定使用限制。透過檢查 `error.balance_usd` 以程式化方式監控成本。
  </Card>
  <Card title="直接描述" icon="bullseye">
    說「我想用 Python 生成圖片」，而不是「LemonData 有圖片 API 嗎？」
  </Card>
  <Card title="描述您的場景" icon="message">
    「我正在用 GPT-4 構建聊天機器人」比「使用 GPT-4」能提供代理更多上下文。
  </Card>
</CardGroup>

## 常見問題 (FAQ)

<AccordionGroup>
  <Accordion title="技能未自動觸發？">
    嘗試在您的請求中提及 "LemonData" 或 "LemonData API"：
    ```
    Use LemonData to integrate GPT-4 in my project
    ```
  </Accordion>

  <Accordion title="API 如何幫助代理找到正確的模型？">
    LemonData 的 [Agent-First API](/guides/agent-first-api) 會回傳結構化的錯誤提示。如果代理猜錯了模型名稱，錯誤訊息會包含正確名稱的 `did_you_mean` 以及替代方案的 `suggestions`。代理會讀取這些資訊並在下次嘗試時自動修正。
  </Accordion>

  <Accordion title="支援哪些編碼代理？">
    任何支援技能/規則檔案的工具：Claude Code、Cursor、GitHub Copilot、Windsurf 等。`npx add-skill` 安裝程式會自動偵測並安裝至所有支援的工具。
  </Accordion>

  <Accordion title="如何更新技能？">
    重新執行安裝程式：
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```
  </Accordion>
</AccordionGroup>

## 資源

<CardGroup cols={2}>
  <Card title="Agent-First API" icon="robot" href="/guides/agent-first-api">
    結構化錯誤提示的完整參考
  </Card>
  <Card title="API 文件" icon="book" href="https://docs.lemondata.cc">
    完整的 API 參考
  </Card>
  <Card title="模型" icon="sparkles" href="https://lemondata.cc/zh-Hant/models">
    瀏覽所有 300 多個可用模型
  </Card>
  <Card title="llms.txt" icon="file-lines" href="https://lemondata.cc/llms.txt">
    供 AI 代理使用的機器可讀 API 概覽
  </Card>
</CardGroup>

<Info>
**有任何疑問嗎？** 請查看我們的 [GitHub Issues](https://github.com/hedging8563/lemondata-api-skill/issues) 或聯繫 [support@lemondata.cc](mailto:support@lemondata.cc)
</Info>