---
title: "Compatibilidade de IDE & SDK"
description: "Referência completa de compatibilidade para ferramentas de codificação por IA, SDKs e frameworks"
---

## Visão Geral

A API LemonData foi projetada para **compatibilidade drop-in** com todas as principais ferramentas de desenvolvimento de IA. Este guia documenta os parâmetros suportados e integrações verificadas.

<Note>
  Todos os parâmetros são validados, mas repassados aos provedores upstream. Parâmetros não suportados para modelos específicos são ignorados silenciosamente, garantindo a máxima compatibilidade.
</Note>

## Formatos de API Suportados

| Endpoint | Formato | Caso de Uso |
|----------|--------|----------|
| `/v1/chat/completions` | OpenAI Chat | Compatibilidade universal |
| `/v1/responses` | OpenAI Responses | Conversas com estado |
| `/v1/messages` | Anthropic Messages | Recursos nativos do Claude |
| `/v1beta/models/:model:generateContent` | Google Gemini | Recursos nativos do Gemini |

## Compatibilidade de IDE & CLI

### Ferramentas Verificadas

| Ferramenta | Status | Formato | Notas |
|------|--------|--------|-------|
| **Cursor** | ✅ Total | OpenAI | Formato de ferramenta Anthropic suportado |
| **Claude Code CLI** | ✅ Total | Anthropic | Pensamento estendido, `tool_choice` |
| **Windsurf** | ✅ Total | OpenAI | Formato padrão OpenAI |
| **Aider** | ✅ Total | OpenAI | Todos os modelos suportados |
| **Continue.dev** | ✅ Total | OpenAI/Anthropic | Suporte a formato duplo |
| **OpenCode** | ✅ Total | OpenAI | Suporte a múltiplos provedores |
| **Cline/Roo Code** | ✅ Total | OpenAI | Via formato OpenRouter |
| **GitHub Copilot** | ✅ Total | OpenAI | Formato padrão |
| **Codex CLI** | ✅ Total | OpenAI | API OpenAI Responses |
| **Gemini CLI** | ✅ Total | Gemini | Formato nativo do Gemini |

### Exemplos de Configuração

<Tabs>
  <Tab title="Cursor">
    ```
    Base URL: https://api.lemondata.cc/v1
    API Key: sk-your-lemondata-key
    ```
    O Cursor usa internamente o formato de ferramenta no estilo Anthropic. O LemonData suporta ambos:
    - Formato OpenAI: `{ type: "function", function: { name, parameters } }`
    - Formato Anthropic: `{ name, input_schema }` (sem campo `type`)
  </Tab>
  <Tab title="Claude Code">
    ```bash
    export ANTHROPIC_BASE_URL="https://api.lemondata.cc"
    export ANTHROPIC_API_KEY="sk-your-lemondata-key"
    ```
  </Tab>
  <Tab title="OpenCode">
    ```bash
    export OPENAI_API_KEY="sk-your-lemondata-key"
    export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
    ```
  </Tab>
  <Tab title="Aider">
    ```bash
    export OPENAI_API_KEY="sk-your-lemondata-key"
    export OPENAI_API_BASE="https://api.lemondata.cc/v1"
    aider --model gpt-4o
    ```
  </Tab>
</Tabs>

## Compatibilidade de SDK

### SDKs Verificados

| SDK | Linguagem | Status | Notas |
|-----|----------|--------|-------|
| **OpenAI SDK** | Python/JS/Go | ✅ Total | Todos os parâmetros suportados |
| **Anthropic SDK** | Python/JS | ✅ Total | Pensamento estendido, ferramentas |
| **Vercel AI SDK** | TypeScript | ✅ Total | `streamText`, `generateObject` |
| **LangChain** | Python/JS | ✅ Total | `ChatOpenAI`, `bind_tools` |
| **LlamaIndex** | Python | ✅ Total | Compatível com OpenAI |
| **Dify** | - | ✅ Total | Formato OpenAI |

## Parâmetros de Chat Completions

### Parâmetros Principais

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `model` | string | Identificador do modelo (obrigatório) |
| `messages` | array | Mensagens da conversa (obrigatório) |
| `max_tokens` | integer | Máximo de tokens de saída |
| `temperature` | number | Temperatura de amostragem (0-2) |
| `top_p` | number | Amostragem de núcleo (0-1) |
| `stream` | boolean | Habilitar streaming |

### Chamada de Ferramentas (Tool Calling)

```json
{
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "get_weather",
        "description": "Get weather for a location",
        "parameters": {
          "type": "object",
          "properties": {
            "location": { "type": "string" }
          }
        },
        "strict": true
      }
    }
  ],
  "tool_choice": "auto",
  "parallel_tool_calls": true
}
```

### Opções de Escolha de Ferramenta

| Formato | Exemplo | Descrição |
|--------|---------|-------------|
| String | `"auto"`, `"none"`, `"required"` | Seleção simples |
| Objeto OpenAI | `{ "type": "function", "function": { "name": "fn" } }` | Forçar função específica |
| Objeto Anthropic | `{ "type": "tool", "name": "fn", "disable_parallel_tool_use": true }` | Formato nativo da Anthropic |

### Parâmetros Avançados

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `stream_options` | object | `{ include_usage: true }` para contagem de tokens |
| `reasoning_effort` | string | `"low"`, `"medium"`, `"high"` para modelos o1/o3 |
| `service_tier` | string | `"auto"` ou `"default"` |
| `seed` | integer | Saídas determinísticas |
| `logprobs` | boolean | Retornar probabilidades de log |
| `top_logprobs` | integer | Número de `logprobs` principais (0-20) |
| `logit_bias` | object | Mapa de viés de token (-100 a 100) |
| `frequency_penalty` | number | Penalidade de repetição (-2 a 2) |
| `presence_penalty` | number | Penalidade de tópico (-2 a 2) |
| `stop` | string/array | Sequências de parada |
| `n` | integer | Número de conclusões (1-128) |
| `user` | string | Identificador de usuário para rastreamento |

### Recursos Avançados da OpenAI

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `modalities` | array | `["text", "audio"]` para multimodal |
| `audio` | object | Configuração de saída de áudio (voz, formato) |
| `prediction` | object | Saída prevista para conclusão mais rápida |
| `metadata` | object | Pares chave-valor para rastreamento |
| `store` | boolean | Armazenar para recuperação posterior |

### Opções Específicas do Provedor

```json
{
  "anthropic_options": {
    "thinking": {
      "type": "enabled",
      "budget_tokens": 10000
    },
    "prompt_caching": true
  },
  "google_options": {
    "safety_settings": [...],
    "google_search": true,
    "code_execution": true
  }
}
```

## Parâmetros de Anthropic Messages

### Parâmetros Principais

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `model` | string | Identificador do modelo |
| `messages` | array | Mensagens da conversa |
| `max_tokens` | integer | Saída máxima (até 128000) |
| `system` | string/array | Prompt do sistema |
| `stream` | boolean | Habilitar streaming |

### Chamada de Ferramentas (Tool Calling)

```json
{
  "tools": [
    {
      "name": "get_weather",
      "description": "Get weather",
      "input_schema": {
        "type": "object",
        "properties": {
          "location": { "type": "string" }
        }
      }
    }
  ],
  "tool_choice": {
    "type": "auto",
    "disable_parallel_tool_use": false
  }
}
```

### Pensamento Estendido

```json
{
  "model": "claude-opus-4-5",
  "thinking": {
    "type": "enabled",
    "budget_tokens": 10000
  }
}
```

## Parâmetros da API de Respostas

### Parâmetros Principais

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `model` | string | Identificador do modelo |
| `input` | string/array | Conteúdo de entrada |
| `instructions` | string | Instruções do sistema |
| `max_output_tokens` | integer | Máximo de tokens de saída |
| `previous_response_id` | string | Continuar conversa |

### Parâmetros Avançados

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `truncation_strategy` | string | `"auto"` ou `"disabled"` |
| `include` | array | `["reasoning.encrypted_content"]` |
| `reasoning_effort` | string | Para modelos de raciocínio |
| `service_tier` | string | Nível de prioridade |

### Formato de Ferramenta

Suporta os formatos de ferramenta da OpenAI e da Anthropic:

```json
// Formato OpenAI
{ "type": "function", "name": "fn", "parameters": {...} }

// Formato Anthropic (compatibilidade com Cursor)
{ "name": "fn", "input_schema": {...} }
```

## Parâmetros da API Gemini

### Parâmetros Principais

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `contents` | array | Conteúdo da conversa |
| `systemInstruction` | object | Prompt do sistema |
| `generationConfig` | object | Configurações de geração |

### Ferramentas

```json
{
  "tools": [{
    "functionDeclarations": [{
      "name": "search",
      "description": "Search the web",
      "parameters": {...}
    }],
    "codeExecution": {},
    "googleSearch": {}
  }],
  "toolConfig": {
    "functionCallingConfig": {
      "mode": "AUTO"
    }
  }
}
```

### Configurações de Segurança

```json
{
  "safetySettings": [
    {
      "category": "HARM_CATEGORY_HARASSMENT",
      "threshold": "BLOCK_MEDIUM_AND_ABOVE"
    }
  ]
}
```

### Parâmetros Adicionais

| Parâmetro | Tipo | Descrição |
|-----------|------|-------------|
| `cachedContent` | string | Referência de conteúdo em cache |
| `responseMimeType` | string | `"text/plain"` ou `"application/json"` |
| `responseSchema` | object | Esquema JSON para saída estruturada |

## Streaming

Todos os endpoints suportam streaming via Server-Sent Events (SSE):

```bash
# Chat Completions
curl https://api.lemondata.cc/v1/chat/completions \
  -H "Authorization: Bearer sk-xxx" \
  -d '{"model": "gpt-4o", "messages": [...], "stream": true}'

# Com rastreamento de uso
-d '{"...", "stream_options": {"include_usage": true}}'
```

## Tratamento de Erros

O LemonData retorna respostas de erro compatíveis com a OpenAI:

```json
{
  "error": {
    "message": "Invalid API key",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

Consulte o [Guia de Tratamento de Erros](/guides/error-handling) para mais detalhes.

## Melhores Práticas

<AccordionGroup>
  <Accordion title="Use passthrough para parâmetros desconhecidos">
    Todos os esquemas usam `.passthrough()` - parâmetros desconhecidos são encaminhados para os provedores upstream.
  </Accordion>

  <Accordion title="Prefira stream_options para faturamento preciso">
    Habilite `stream_options.include_usage` para contagens precisas de tokens em respostas de streaming.
  </Accordion>

  <Accordion title="Use o formato tool_choice apropriado">
    Corresponda ao formato esperado pelo seu SDK. O LemonData aceita os formatos da OpenAI e da Anthropic.
  </Accordion>
</AccordionGroup>