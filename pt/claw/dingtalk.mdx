---
title: "DingTalk"
description: "Conecte sua instância Claw ao DingTalk usando o modo Stream"
---

Conecte o DingTalk (钉钉) à sua instância Claw usando o modo Stream — uma conexão baseada em WebSocket que não requer uma URL pública.

## Pré-requisitos

- Uma conta no [DingTalk](https://www.dingtalk.com/) com acesso de administrador empresarial
- Uma instância Claw ([crie uma aqui](https://lemondata.cc/dashboard/claw))

## Guia de Configuração

<Steps>
  <Step title="Criar um App no DingTalk">
    1. Acesse a [DingTalk Open Platform](https://open-dev.dingtalk.com/)
    2. Clique em **Application Development** → **Enterprise Internal Development**
    3. Clique em **Create Application**
    4. Insira um nome e descrição para o app
    5. Clique em **Confirm**
  </Step>
  <Step title="Ativar a Funcionalidade de Robô">
    1. No seu app, vá em **App Features** → **Robot**
    2. Ative a configuração do robô
    3. Selecione **Stream Mode** (recomendado — nenhuma URL pública é necessária)
    4. Clique em **Publish**

    <Tip>
    O modo Stream utiliza WebSocket, portanto sua instância Claw não precisa de uma URL de webhook acessível publicamente. Esta é a configuração mais simples.
    </Tip>
  </Step>
  <Step title="Obter Credenciais">
    1. Vá em **Basic Information** → **Credentials**
    2. Copie o **AppKey** e o **AppSecret**
  </Step>
  <Step title="Publicar o App">
    1. Vá em **Version Management**
    2. Crie uma nova versão (no mínimo uma versão de teste)
    3. Defina o alcance de visibilidade (quais usuários/departamentos podem ver o bot)
    4. Envie e publique
  </Step>
  <Step title="Configurar no Painel da LemonData">
    1. Vá para o seu [Claw Dashboard](https://lemondata.cc/dashboard/claw)
    2. Clique no **ícone de configurações** na sua instância
    3. Abra a aba **IM Integrations**
    4. Expanda a seção **DingTalk**
    5. Cole seu **AppKey** e **AppSecret**
    6. Clique em **Save**
  </Step>
  <Step title="Começar a Conversar">
    1. No DingTalk, pesquise pelo seu bot pelo nome
    2. Envie uma mensagem para ele
    3. O primeiro usuário é **pareado automaticamente** como o proprietário — sem necessidade de código!
    4. Comece a conversar com a IA!
  </Step>
</Steps>

## Configurações de Grupo

Configure o comportamento do chat em grupo na aba **IM Integrations** do seu Dashboard:

| Configuração | Opções | Descrição |
|---------|---------|-------------|
| **Group Policy** | Open (padrão) / Allowlist / Disabled | Controla quem pode acionar o bot em grupos |
| **Group Allowed Users** | Lista de IDs de usuário | Apenas estes usuários podem acionar o bot (modo allowlist) |

<Note>
O DingTalk **sempre exige @menção** para acionar o bot em grupos — esta é uma limitação da plataforma e não pode ser configurada. A filtragem por IDs de Grupo não está disponível para o DingTalk; use a configuração **Group Policy** para controlar o acesso.
</Note>

## Solução de Problemas

<AccordionGroup>
  <Accordion title="O bot não responde">
    - Verifique se o **AppKey** e o **AppSecret** estão corretos
    - Verifique se o app está publicado (pelo menos a versão de teste)
    - Certifique-se de que o **Stream Mode** está selecionado na configuração do robô
    - Verifique se o bot está visível para sua conta de usuário
  </Accordion>
  <Accordion title="A conexão cai frequentemente">
    - O modo Stream mantém uma conexão WebSocket persistente
    - Desconexões breves são normais — o bot irá se reconectar automaticamente
    - Se persistir, tente reiniciar a instância a partir do dashboard
  </Accordion>
</AccordionGroup>