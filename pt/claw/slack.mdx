---
title: "Slack"
description: "Conecte sua instância Claw a um workspace do Slack usando o Socket Mode"
---

Adicione um assistente de IA ao seu workspace do Slack usando o Socket Mode — sem necessidade de uma URL pública.

## Pré-requisitos

- Um workspace do [Slack](https://slack.com/) onde você tenha acesso de administrador
- Uma instância Claw ([crie uma aqui](https://lemondata.cc/dashboard/claw))

## Guia de Configuração

<Steps>
  <Step title="Criar um App do Slack">
    1. Acesse [Slack API](https://api.slack.com/apps) e clique em **Create New App**
    2. Escolha **From scratch**
    3. Insira um nome para o app (ex: "Assistente de IA") e selecione seu workspace
    4. Clique em **Create App**
  </Step>
  <Step title="Habilitar o Socket Mode">
    1. Na barra lateral esquerda, vá em **Socket Mode**
    2. Alterne **Enable Socket Mode** para ON
    3. Dê um nome ao token (ex: "claw-socket") e clique em **Generate**
    4. Copie o **App-Level Token** (começa com `xapp-`) — você precisará disso
  </Step>
  <Step title="Configurar Permissões do Bot">
    1. Vá em **OAuth & Permissions** na barra lateral
    2. Em **Bot Token Scopes**, adicione estes escopos:
       - `chat:write` — Enviar mensagens
       - `im:history` — Ler histórico de DMs
       - `im:read` — Visualizar DMs
       - `im:write` — Iniciar DMs
       - `app_mentions:read` — Detectar @menções
    3. Clique em **Install to Workspace** no topo
    4. Autorize o app
    5. Copie o **Bot User OAuth Token** (começa com `xoxb-`)
  </Step>
  <Step title="Habilitar Eventos">
    1. Vá em **Event Subscriptions** na barra lateral
    2. Alterne **Enable Events** para ON
    3. Em **Subscribe to bot events**, adicione:
       - `message.im` — Mensagens em DMs
       - `app_mention` — @menções em canais
    4. Clique em **Save Changes**
  </Step>
  <Step title="Configurar no Dashboard da LemonData">
    1. Vá para o seu [Claw Dashboard](https://lemondata.cc/dashboard/claw)
    2. Clique no **ícone de configurações** na sua instância
    3. Abra a aba **IM Integrations**
    4. Expanda a seção **Slack**
    5. Cole seu **App Token** (`xapp-...`) e **Bot Token** (`xoxb-...`)
    6. Clique em **Save**
  </Step>
  <Step title="Começar a Conversar">
    1. No Slack, envie uma DM para o seu bot ou mencione-o com @ em um canal
    2. O primeiro usuário é **pareado automaticamente** como o proprietário — sem necessidade de código!
    3. Comece a conversar com a IA!
  </Step>
</Steps>

## Controle de Acesso

### Configurações de Grupo

Configure o acesso aos canais na aba **IM Integrations** do seu Dashboard:

| Configuração | Opções | Descrição |
|---------|---------|-------------|
| **Group Policy** | Aberta (padrão) / Allowlist / Desativada | Controla em quais canais o bot responde |
| **Require @mention** | Ligado / Desligado | O bot responde apenas quando mencionado com @ |
| **Group IDs** | Lista de IDs de canais | Restringir a canais específicos (vazio = todos os canais) |
| **Group Allowed Users** | Lista de IDs de usuários | Apenas estes usuários podem acionar o bot (modo allowlist) |

<Tip>
Por padrão, o Slack usa a política de grupo **aberta** — o bot responde em todos os canais para os quais for convidado. Use **allowlist** para restringir a canais específicos.
</Tip>

## Resolução de Problemas

<AccordionGroup>
  <Accordion title="O bot não responde a DMs">
    - Verifique se ambos os tokens estão corretos (App Token começa com `xapp-`, Bot Token com `xoxb-`)
    - Verifique se o evento `message.im` está assinado
    - Certifique-se de que o app está instalado no seu workspace
  </Accordion>
  <Accordion title="O bot não responde a @menções">
    - Verifique se o escopo `app_mentions:read` e o evento `app_mention` estão configurados
    - O bot deve ser convidado para o canal primeiro (digite `/invite @botname`)
  </Accordion>
  <Accordion title="Erro 'not_allowed_token_type'">
    - Certifique-se de que está usando o **App-Level Token** (`xapp-`) para o campo App Token, não o Bot Token
    - O Bot Token (`xoxb-`) vai no campo Bot Token
  </Accordion>
</AccordionGroup>