---
title: "Codex CLI"
description: "Configurando o OpenAI Codex CLI para usar a API LemonData"
---

## Visão Geral

O OpenAI Codex é uma ferramenta de linha de comando (CLI) de código aberto que atua como um agente de codificação leve, capaz de ler, modificar e executar código no terminal. Ele é construído com base nos modelos GPT e otimizado para geração de código.

## Requisitos do Sistema

- **Sistema Operacional**: macOS, Linux (suporte oficial), Windows via WSL
- **Node.js**: Versão 18+
- **npm**: Versão 10.x.x ou superior

## Instalação

```bash
sudo npm install -g @openai/codex@latest
```

Verificar instalação:

```bash
codex --version
```

## Configuração

### Passo 1: Configurar a API Key

**Temporário (sessão atual):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**Configuração permanente:**

Adicionar ao `~/.bashrc`, `~/.zshrc`, ou `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

Em seguida, recarregue:

```bash
source ~/.zshrc  # ou source ~/.bashrc
```

### Passo 2: Configurar o config.toml

Editar `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
Se o arquivo de configuração não existir, execute `codex` uma vez para gerar o arquivo e depois edite-o.
</Note>

## Uso Básico

**Iniciar modo interativo:**

```bash
codex
```

**Comando direto:**

```bash
codex "Fix the bug in main.py line 42"
```

**Especificar modelo:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## Modelos Disponíveis

| Modelo | Cenário de Uso |
|-------|----------|
| `gpt-4o` | Tarefas de codificação complexas, design de arquitetura |
| `gpt-4o-mini` | Correções rápidas, tarefas simples |
| `claude-sonnet-4-5` | Revisão de código, escrita de documentação |
| `deepseek-r1` | Design de algoritmos, raciocínio |

## Comandos Interativos

| Comando | Descrição |
|---------|-------------|
| `/help` | Mostrar ajuda |
| `/exit` ou `Ctrl+C` | Sair |
| `/clear` | Limpar conversa |
| `/config` | Ver configuração |
| `/model <name>` | Alternar modelo |
| `/tokens` | Ver uso de tokens |

## Verificar Configuração

```bash
# Verificar variáveis de ambiente
echo $OPENAI_API_KEY

# Testar conexão com a API
codex "Hello, Codex!"

# Ver configuração
cat ~/.codex/config.toml
```

## Casos de Uso Comuns

**Revisão de código:**

```bash
git diff | codex "Review these code changes"
```

**Gerar mensagem de commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**Corrigir erros:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**Explicar código:**

```bash
cat main.py | codex "Explain what this code does"
```

## Solução de Problemas

<AccordionGroup>
  <Accordion title="Erro de Conexão">
    - Verifique se o `base_url` no config.toml é exatamente `https://api.lemondata.cc/v1`
    - Verifique o status da conexão de rede
    - Certifique-se de que não haja interferência de servidor proxy
  </Accordion>

  <Accordion title="Falha na Autenticação">
    - Verifique se a variável de ambiente `OPENAI_API_KEY` está configurada
    - Verifique se a chave começa com `sk-`
    - Certifique-se de que a chave está ativa no painel de controle da LemonData
  </Accordion>

  <Accordion title="Modelo não encontrado">
    - Verifique se o nome do modelo corresponde exatamente
    - Verifique a disponibilidade do modelo em [lemondata.cc/en/models](https://lemondata.cc/zh-TW/models)
  </Accordion>
</AccordionGroup>