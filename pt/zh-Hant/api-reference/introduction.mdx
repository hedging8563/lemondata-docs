---
title: 'Referência da API'
description: 'Guia de referência completo da API LemonData'
---

## Visão Geral

A API LemonData é **compatível com a OpenAI**, o que significa que você só precisa alterar a Base URL para usar o SDK oficial da OpenAI. Também oferecemos suporte aos formatos de requisição nativos da **Anthropic** e **Gemini**.

## Base URL

```
https://api.lemondata.cc
```

## Autenticação

Todos os endpoints da API exigem autenticação usando um Bearer token:

```bash
Authorization: Bearer sk-your-api-key
```

Obtenha sua chave de API no [Console](https://lemondata.cc/dashboard).

<Warning>
**Sobre o Playground interativo**: O Playground neste site de documentação é apenas para fins de demonstração e não suporta a inserção de chaves de API. Para testar a API, use:
- **cURL** - Copie o comando de exemplo, substituindo `sk-your-api-key` pela sua chave real
- **Postman** - Importe nossa [especificação OpenAPI](/openapi.json)
- **SDK** - Use o SDK da OpenAI/Anthropic com nossa Base URL
</Warning>

## Endpoints Suportados

### Chat e Geração de Texto

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | Chat completions compatível com OpenAI |
| `/v1/messages` | POST | Messages API compatível com Anthropic |
| `/v1/responses` | POST | OpenAI Responses API |

### Embeddings e Rerank

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/embeddings` | POST | Criar embeddings de texto |
| `/v1/rerank` | POST | Reordenar (rerank) documentos |

### Imagens

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/images/generations` | POST | Gerar imagens a partir de texto |
| `/v1/images/edits` | POST | Editar imagens |

### Áudio

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | Texto para fala (TTS) |
| `/v1/audio/transcriptions` | POST | Fala para texto (STT) |

### Vídeos

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | Criar tarefa de geração de vídeo |
| `/v1/videos/generations/{id}` | GET | Obter status da tarefa de vídeo |

### Música

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/music/generations` | POST | Criar tarefa de geração de música |
| `/v1/music/generations/{id}` | GET | Obter status da tarefa de música |

### Geração 3D

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | Criar tarefa de geração de modelo 3D |
| `/v1/3d/generations/{id}` | GET | Obter status da tarefa 3D |

### Modelos

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1/models` | GET | Listar todos os modelos disponíveis |
| `/v1/models/{model}` | GET | Obter informações de um modelo específico |

### Gemini (v1beta)

Suporte nativo ao formato da API Google Gemini:

| Endpoint | Método | Descrição |
|----------|--------|-------------|
| `/v1beta/models/{model}:generateContent` | POST | Gerar conteúdo (formato Gemini) |
| `/v1beta/models/{model}:streamGenerateContent` | POST | Gerar conteúdo em streaming (formato Gemini) |

<Note>
Os endpoints do Gemini suportam autenticação via parâmetro de consulta `?key=`, além do Bearer token padrão.
</Note>

## Formato de Resposta

Todas as respostas seguem um formato consistente:

### Resposta de Sucesso

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### Transparência de Roteamento

Todas as respostas incluem um campo `_routing` com informações do canal:

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| Campo | Descrição |
|-------|-------------|
| `channel.id` | Identificador do canal utilizado |
| `channel.provider` | Provedor upstream (openai, anthropic, etc.) |
| `channel.channelType` | `PLATFORM` (LemonData) ou `PRIVATE` (BYOK) |
| `cached` | Se a resposta veio do cache |
| `retryCount` | Número de tentativas (se houver) |

### Resposta de Erro

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## Limites de Taxa (Rate Limits)

Os limites de taxa são baseados em funções e podem ser configurados por administradores. Valores padrão:

| Função | Requisições por minuto |
|------|-------------|
| Usuário | 60 |
| Parceiro | 300 |
| VIP | 1,000 |

<Note>
Entre em contato com a equipe de suporte para obter limites de taxa personalizados. Os valores exatos podem variar dependendo da configuração da conta.
</Note>

Os cabeçalhos de limite de taxa estão incluídos em todas as respostas:

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## Especificação OpenAPI

<Card
  title="Especificação OpenAPI"
  icon="file-code"
  href="/openapi.json"
>
  Baixe a especificação completa do OpenAPI 3.0
</Card>