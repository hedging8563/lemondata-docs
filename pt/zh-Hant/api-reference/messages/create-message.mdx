---
title: "Criar Mensagem"
openapi: "POST /v1/messages"
description: "Cria uma mensagem usando o formato da Anthropic Messages API"
---

## Visão Geral

Este endpoint oferece compatibilidade nativa com a Anthropic Messages API. É adequado para modelos Claude com funcionalidades como pensamento estendido (extended thinking).

<Note>
Base URL do Anthropic SDK: `https://api.lemondata.cc` (sem o sufixo `/v1`)
</Note>

## Cabeçalhos da Requisição

<ParamField header="x-api-key" type="string" required>
  Sua chave de API da LemonData. Uma alternativa ao Bearer token.
</ParamField>

<ParamField header="anthropic-version" type="string" required>
  Versão da Anthropic API. Por favor, use `2023-06-01`.
</ParamField>

## Corpo da Requisição

<ParamField body="model" type="string" required>
  ID do modelo Claude (ex: `claude-sonnet-4-5`).
</ParamField>

<ParamField body="messages" type="array" required>
  Um array de objetos de mensagem contendo `role` e `content`.
</ParamField>

<ParamField body="max_tokens" type="integer" required>
  O número máximo de tokens a serem gerados.
</ParamField>

<ParamField body="system" type="string">
  Prompt do sistema (separado do array `messages`).
</ParamField>

<ParamField body="temperature" type="number" default="1">
  Temperatura de amostragem (0-1).
</ParamField>

<ParamField body="stream" type="boolean" default="false">
  Habilitar resposta por streaming.
</ParamField>

<ParamField body="thinking" type="object">
  Configuração de pensamento estendido (Claude Opus 4.5).

  - `type` (string): Defina como `"enabled"` para habilitar
  - `budget_tokens` (integer): Orçamento de tokens para o pensamento
</ParamField>

<ParamField body="tools" type="array">
  Ferramentas disponíveis para o modelo.
</ParamField>

<ParamField body="tool_choice" type="object">
  Como o modelo deve usar as ferramentas. Opções: `auto`, `any`, `tool` (ferramenta específica).
</ParamField>

<ParamField body="top_p" type="number">
  Parâmetro de amostragem de núcleo (Nucleus sampling). Use `temperature` ou `top_p`, mas não ambos.
</ParamField>

<ParamField body="top_k" type="integer">
  Amostra apenas das K principais opções para cada token.
</ParamField>

<ParamField body="stop_sequences" type="array">
  Sequências de parada personalizadas que farão o modelo interromper a geração.
</ParamField>

<ParamField body="metadata" type="object">
  Metadados anexados à requisição.
</ParamField>