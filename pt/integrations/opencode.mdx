---
title: "OpenCode"
description: "Configure o OpenCode para usar a API da LemonData"
---

## Visão Geral

O OpenCode é um assistente de codificação de IA de código aberto que roda no seu terminal. Ele suporta múltiplos provedores de LLM e pode ser configurado para usar a API da LemonData para acessar mais de 300 modelos.

## Instalação

<Tabs>
  <Tab title="Script de Instalação">
    ```bash
    curl -fsSL https://opencode.ai/install | bash
    ```
  </Tab>
  <Tab title="Homebrew">
    ```bash
    brew install opencode-ai/tap/opencode
    ```

    Ou use o tap da comunidade (atualizações mais frequentes):
    ```bash
    brew install anomalyco/tap/opencode
    ```
  </Tab>
  <Tab title="Go">
    ```bash
    go install github.com/opencode-ai/opencode@latest
    ```
  </Tab>
</Tabs>

Verifique a instalação:

```bash
opencode --version
```

## Configuração

### Passo 1: Definir Variáveis de Ambiente

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
```

Para configuração permanente, adicione ao `~/.bashrc` ou `~/.zshrc`:

```bash
echo 'export OPENAI_API_KEY="sk-your-lemondata-key"' >> ~/.zshrc
echo 'export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"' >> ~/.zshrc
source ~/.zshrc
```

### Passo 2: Configurar o OpenCode

Crie ou edite `~/.config/opencode/opencode.json` (global) ou `opencode.json` na raiz do seu projeto:

```json
{
  "provider": {
    "openai": {
      "options": {
        "apiKey": "sk-your-lemondata-key",
        "baseURL": "https://api.lemondata.cc/v1"
      }
    }
  },
  "model": "gpt-4o",
  "agent": {
    "coder": {
      "model": "gpt-4o"
    }
  }
}
```

## Uso Básico

**Iniciar modo interativo:**

```bash
opencode
```

**Executar com um prompt:**

```bash
opencode "Explain this codebase"
```

**Especificar modelo:**

```bash
opencode --model gpt-4o "Fix the bugs in main.py"
```

## Modelos Disponíveis

| Modelo | Ideal Para |
|-------|----------|
| `gpt-4o` | Tarefas complexas, arquitetura de código |
| `gpt-4o-mini` | Correções rápidas, consultas simples |
| `claude-sonnet-4-5` | Revisão de código, documentação |
| `claude-opus-4-5` | Raciocínio complexo |
| `gemini-2.5-flash` | Respostas rápidas |
| `deepseek-r1` | Design de algoritmos |

## Comandos Comuns

**Analisar código:**

```bash
opencode "What does this function do?" < src/utils.ts
```

**Gerar código:**

```bash
opencode "Create a REST API with Express"
```

**Revisar alterações:**

```bash
git diff | opencode "Review these changes"
```

**Corrigir erros:**

```bash
opencode "Fix the TypeScript errors in this project"
```

## Comandos Interativos

| Comando | Descrição |
|---------|-------------|
| `/help` | Mostrar comandos disponíveis |
| `/model <name>` | Alternar para um modelo diferente |
| `/clear` | Limpar histórico da conversa |
| `/exit` | Sair do OpenCode |

## Solução de Problemas

<AccordionGroup>
  <Accordion title="Erro de Conexão">
    - Verifique se `LOCAL_ENDPOINT` está definido como `https://api.lemondata.cc/v1`
    - Verifique a conectividade de rede
    - Tente `curl https://api.lemondata.cc/v1/models` para testar
  </Accordion>

  <Accordion title="Falha na Autenticação">
    - Verifique se a variável de ambiente `OPENAI_API_KEY` está definida
    - Verifique se a chave começa com `sk-`
    - Certifique-se de que a chave está ativa no painel da LemonData
  </Accordion>

  <Accordion title="Modelo Não Encontrado">
    - Verifique se o nome do modelo na configuração corresponde exatamente
    - Verifique a disponibilidade do modelo em [lemondata.cc/en/models](https://lemondata.cc/pt/models)
  </Accordion>
</AccordionGroup>

## Melhores Práticas

<AccordionGroup>
  <Accordion title="Use o contexto do projeto">
    Execute o OpenCode a partir da raiz do seu projeto para uma melhor compreensão da sua base de código.
  </Accordion>

  <Accordion title="Escolha modelos apropriados">
    Use modelos mais rápidos (gpt-4o-mini) para tarefas simples e modelos potentes (gpt-4o, claude) para tarefas complexas.
  </Accordion>

  <Accordion title="Revise o código gerado">
    Sempre revise o código gerado por IA antes de aplicar as alterações ao seu projeto.
  </Accordion>
</AccordionGroup>