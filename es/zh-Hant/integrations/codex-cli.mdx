---
title: "Codex CLI"
description: "Configuración de OpenAI Codex CLI para usar la API de LemonData"
---

## Resumen

OpenAI Codex es una herramienta de línea de comandos (CLI) de código abierto que funciona como un agente de programación ligero, capaz de leer, modificar y ejecutar código en la terminal. Está construida sobre modelos GPT y optimizada para la generación de código.

## Requisitos del sistema

- **Sistema operativo**: macOS, Linux (soporte oficial), Windows vía WSL
- **Node.js**: Versión 18+
- **npm**: Versión 10.x.x o superior

## Instalación

```bash
sudo npm install -g @openai/codex@latest
```

Verificar la instalación:

```bash
codex --version
```

## Configuración

### Paso 1: Configurar la API Key

**Temporal (sesión actual):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**Configuración permanente:**

Agregar a `~/.bashrc`, `~/.zshrc`, o `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

Luego, recargar:

```bash
source ~/.zshrc  # o source ~/.bashrc
```

### Paso 2: Configurar config.toml

Editar `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
Si el archivo de configuración no existe, ejecute `codex` una vez para generar el archivo y luego proceda con la edición.
</Note>

## Uso básico

**Iniciar modo interactivo:**

```bash
codex
```

**Comandos directos:**

```bash
codex "Fix the bug in main.py line 42"
```

**Especificar modelo:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## Modelos disponibles

| Modelo | Casos de uso |
|-------|----------|
| `gpt-4o` | Tareas de codificación complejas, diseño de arquitectura |
| `gpt-4o-mini` | Correcciones rápidas, tareas simples |
| `claude-sonnet-4-5` | Revisión de código, redacción de documentación |
| `deepseek-r1` | Diseño de algoritmos, razonamiento |

## Comandos interactivos

| Comando | Descripción |
|---------|-------------|
| `/help` | Mostrar ayuda |
| `/exit` o `Ctrl+C` | Salir |
| `/clear` | Limpiar conversación |
| `/config` | Ver configuración |
| `/model <name>` | Cambiar modelo |
| `/tokens` | Ver uso de tokens |

## Verificar configuración

```bash
# Comprobar variables de entorno
echo $OPENAI_API_KEY

# Probar conexión de la API
codex "Hello, Codex!"

# Ver configuración
cat ~/.codex/config.toml
```

## Casos de uso comunes

**Revisión de código:**

```bash
git diff | codex "Review these code changes"
```

**Generar mensaje de commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**Corregir errores:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**Explicar código:**

```bash
cat main.py | codex "Explain what this code does"
```

## Solución de problemas

<AccordionGroup>
  <Accordion title="Error de conexión">
    - Verificar que `base_url` en config.toml sea exactamente `https://api.lemondata.cc/v1`
    - Comprobar el estado de la conexión a internet
    - Asegurarse de que no haya interferencia de servidores proxy
  </Accordion>

  <Accordion title="Fallo de autenticación">
    - Verificar que la variable de entorno `OPENAI_API_KEY` esté configurada
    - Comprobar si la clave comienza con `sk-`
    - Asegurarse de que la clave esté activa en el panel de control de LemonData
  </Accordion>

  <Accordion title="Modelo no encontrado">
    - Comprobar si el nombre del modelo coincide exactamente
    - Verificar la disponibilidad del modelo en [lemondata.cc/en/models](https://lemondata.cc/zh-TW/models)
  </Accordion>
</AccordionGroup>