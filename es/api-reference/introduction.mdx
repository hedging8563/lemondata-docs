---
title: 'Referencia de la API'
description: 'Referencia completa para la API de LemonData'
---

## Descripción general

La API de LemonData es **OpenAI-compatible**, lo que significa que puedes usar el SDK oficial de OpenAI con solo cambiar la URL base. También admitimos formatos de solicitud nativos de **Anthropic** y **Gemini**.

## URL base

```
https://api.lemondata.cc
```

## Autenticación

Todos los endpoints de la API requieren autenticación mediante un token Bearer:

```bash
Authorization: Bearer sk-your-api-key
```

Obtén tu clave de API desde el [Dashboard](https://lemondata.cc/dashboard).

## Endpoints compatibles

### Chat y generación de texto

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | Completions de chat compatibles con OpenAI |
| `/v1/messages` | POST | API de mensajes compatible con Anthropic |
| `/v1/responses` | POST | API de respuestas de OpenAI |

### Embeddings y Rerank

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/embeddings` | POST | Crear embeddings de texto |
| `/v1/rerank` | POST | Rerank de documentos |

### Imágenes

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/images/generations` | POST | Generar imágenes a partir de texto |
| `/v1/images/edits` | POST | Editar imágenes |

### Audio

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | Texto a voz (TTS) |
| `/v1/audio/transcriptions` | POST | Voz a texto (STT) |

### Video

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | Crear tarea de generación de video |
| `/v1/videos/generations/{id}` | GET | Obtener el estado de la tarea de video |

### Música

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/music/generations` | POST | Crear tarea de generación de música |
| `/v1/music/generations/{id}` | GET | Obtener el estado de la tarea de música |

### Generación 3D

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | Crear tarea de generación de modelos 3D |
| `/v1/3d/generations/{id}` | GET | Obtener el estado de la tarea 3D |

### Modelos

| Endpoint | Método | Descripción |
|----------|--------|-------------|
| `/v1/models` | GET | Listar todos los modelos disponibles |
| `/v1/models/{model}` | GET | Obtener información de un modelo específico |

## Formato de respuesta

Todas las respuestas siguen un formato consistente:

### Respuesta exitosa

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### Transparencia de enrutamiento

Todas las respuestas incluyen un campo `_routing` con información del canal:

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| Campo | Descripción |
|-------|-------------|
| `channel.id` | Identificador de canal utilizado |
| `channel.provider` | Proveedor ascendente (openai, anthropic, etc.) |
| `channel.channelType` | `PLATFORM` (LemonData) o `PRIVATE` (BYOK) |
| `cached` | Si la respuesta se sirvió desde la caché |
| `retryCount` | Número de intentos de reintento (si los hay) |

### Respuesta de error

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## Límites de tasa (Rate Limits)

Los límites de tasa se basan en roles y son configurables por los administradores. Valores por defecto:

| Rol | Solicitudes/min |
|------|-------------|
| Usuario | 60 |
| Socio (Partner) | 300 |
| VIP | 1,000 |
| Admin | Ilimitado |

<Note>
Contacta con el soporte para límites de tasa personalizados. Los valores exactos pueden variar según la configuración de la cuenta.
</Note>

Los encabezados de límite de tasa se incluyen en todas las respuestas:

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## Especificación OpenAPI

<Card
  title="Especificación OpenAPI"
  icon="file-code"
  href="/openapi.json"
>
  Descarga la especificación completa de OpenAPI 3.0
</Card>