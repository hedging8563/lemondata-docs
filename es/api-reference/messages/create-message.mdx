---
title: "Crear mensaje"
api: "POST /v1/messages"
description: "Crea un mensaje utilizando el formato de la API de Anthropic Messages"
---

## Descripción general

Este endpoint proporciona compatibilidad nativa con la API de Anthropic Messages. Utilícelo para modelos Claude con funciones como el pensamiento extendido (extended thinking).

<Note>
URL base para el SDK de Anthropic: `https://api.lemondata.cc` (sin el sufijo `/v1`)
</Note>

## Encabezados de la solicitud

<ParamField header="x-api-key" type="string" required>
  Su clave de API de LemonData. Alternativa al token Bearer.
</ParamField>

<ParamField header="anthropic-version" type="string" required>
  Versión de la API de Anthropic. Use `2023-06-01`.
</ParamField>

## Cuerpo de la solicitud

<ParamField body="model" type="string" required>
  ID del modelo Claude (ej. `claude-sonnet-4-5`).
</ParamField>

<ParamField body="messages" type="array" required>
  Array de objetos de mensaje con `role` y `content`.
</ParamField>

<ParamField body="max_tokens" type="integer" required>
  Cantidad máxima de tokens a generar.
</ParamField>

<ParamField body="system" type="string">
  Prompt de sistema (separado del array de mensajes).
</ParamField>

<ParamField body="temperature" type="number" default="1">
  Temperatura de muestreo (0-1).
</ParamField>

<ParamField body="stream" type="boolean" default="false">
  Habilitar respuestas en streaming.
</ParamField>

<ParamField body="thinking" type="object">
  Configuración de pensamiento extendido (Claude Opus 4.5).

  - `type` (string): `"enabled"` para habilitar
  - `budget_tokens` (integer): Presupuesto de tokens para el pensamiento
</ParamField>

<ParamField body="tools" type="array">
  Herramientas disponibles para el modelo.
</ParamField>

<ParamField body="tool_choice" type="object">
  Cómo debe el modelo utilizar las herramientas. Opciones: `auto`, `any`, `tool` (herramienta específica).
</ParamField>

<ParamField body="top_p" type="number">
  Parámetro de muestreo nucleus. Use temperature o top_p, pero no ambos.
</ParamField>

<ParamField body="top_k" type="integer">
  Solo realiza el muestreo de las mejores K opciones para cada token.
</ParamField>

<ParamField body="stop_sequences" type="array">
  Secuencias de parada personalizadas que harán que el modelo deje de