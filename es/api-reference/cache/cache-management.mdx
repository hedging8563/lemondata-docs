---
title: "Gestión de Caché"
description: "Controla el comportamiento del almacenamiento en caché para tus solicitudes de API"
---

## Descripción general

LemonData gestiona automáticamente el almacenamiento en caché para optimizar el rendimiento y reducir costes. Aunque no existe un endpoint público para borrar las entradas de caché, tienes un control total sobre el comportamiento del almacenamiento en caché a través de controles a nivel de solicitud.

## Omitir la caché

Para obtener respuestas actualizadas sin usar la caché, utiliza el parámetro `cache_control` en tu solicitud:

<CodeGroup>

```bash cURL
curl -X POST "https://api.lemondata.cc/v1/chat/completions" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o",
    "messages": [{"role": "user", "content": "Hello!"}],
    "cache_control": {"type": "no_cache"}
  }'
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role": "user", "content": "Hello!"}],
    extra_body={"cache_control": {"type": "no_cache"}}
)

print(response.choices[0].message.content)
```

```javascript JavaScript
const response = await fetch(
  'https://api.lemondata.cc/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer sk-your-api-key',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      model: 'gpt-4o',
      messages: [{ role: 'user', content: 'Hello!' }],
      cache_control: { type: 'no_cache' }
    })
  }
);

const data = await response.json();
console.log(data);
```

</CodeGroup>

## Opciones de control de caché

| Tipo | Efecto |
|------|--------|
| `no_cache` | Omitir la búsqueda en caché, obtener siempre una respuesta actualizada |
| `no_store` | No almacenar esta respuesta en la caché |
| `response_only` | Usar solo caché de coincidencia exacta (omitir semántica) |
| `semantic_only` | Usar solo caché semántica (omitir coincidencia exacta) |

## Comentarios sobre la caché

Si recibes una respuesta almacenada en caché incorrecta, puedes reportarla:

```bash
curl -X POST "https://api.lemondata.cc/v1/cache/feedback" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "cache_entry_id": "abc123",
    "feedback_type": "wrong_answer",
    "description": "Response was outdated"
  }'
```

Cuando una entrada de caché recibe suficientes comentarios negativos, se invalida automáticamente.

## Casos de uso

<AccordionGroup>
  <Accordion title="Probar respuestas actualizadas">
    Durante el desarrollo, utiliza `cache_control: {"type": "no_cache"}` para asegurarte de obtener respuestas de API actualizadas.
  </Accordion>

  <Accordion title="Consultas sensibles al tiempo">
    Para datos en tiempo real como precios de acciones o el clima, utiliza siempre `no_cache` para obtener información actual.
  </Accordion>

  <Accordion title="Depuración">
    Al depurar respuestas inesperadas, utiliza `no_cache` para descartar resultados almacenados en caché.
  </Accordion>
</AccordionGroup>

<Note>
  Para más detalles sobre el almacenamiento en caché, consulta la [Guía de almacenamiento en caché](/guides/caching).
</Note>