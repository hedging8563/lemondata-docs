---
title: "Codex CLI"
description: "Configure OpenAI Codex CLI para usar la API de LemonData"
---

## Descripción general

OpenAI Codex es una herramienta de línea de comandos (CLI) de código abierto que sirve como un agente de programación ligero, capaz de leer, modificar y ejecutar código en la terminal. Está construido sobre modelos GPT y optimizado para la generación de código.

## Requisitos del sistema

- **SO**: macOS, Linux (soporte oficial), Windows a través de WSL
- **Node.js**: Versión 18+
- **npm**: Versión 10.x.x o superior

## Instalación

```bash
sudo npm install -g @openai/codex@latest
```

Verificar la instalación:

```bash
codex --version
```

## Configuración

### Paso 1: Configurar la API Key

**Temporal (sesión actual):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**Configuración permanente:**

Añadir a `~/.bashrc`, `~/.zshrc` o `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

Luego recargar:

```bash
source ~/.zshrc  # o source ~/.bashrc
```

### Paso 2: Configurar config.toml

Editar `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
Si el archivo de configuración no existe, ejecute `codex` una vez para generarlo y luego edite el archivo.
</Note>

## Uso básico

**Iniciar modo interactivo:**

```bash
codex
```

**Comando directo:**

```bash
codex "Fix the bug in main.py line 42"
```

**Especificar modelo:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## Modelos disponibles

| Modelo | Ideal para |
|-------|----------|
| `gpt-4o` | Tareas de programación complejas, arquitectura |
| `gpt-4o-mini` | Correcciones rápidas, tareas simples |
| `claude-sonnet-4-5` | Revisión de código, documentación |
| `deepseek-r1` | Diseño de algoritmos, razonamiento |

## Comandos interactivos

| Comando | Descripción |
|---------|-------------|
| `/help` | Mostrar ayuda |
| `/exit` o `Ctrl+C` | Salir |
| `/clear` | Limpiar conversación |
| `/config` | Ver configuración |
| `/model <name>` | Cambiar modelo |
| `/tokens` | Ver uso de tokens |

## Verificar configuración

```bash
# Comprobar variable de entorno
echo $OPENAI_API_KEY

# Probar conexión de la API
codex "Hello, Codex!"

# Ver configuración
cat ~/.codex/config.toml
```

## Casos de uso comunes

**Revisión de código:**

```bash
git diff | codex "Review these code changes"
```

**Generar mensajes de commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**Corregir errores:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**Explicar código:**

```bash
cat main.py | codex "Explain what this code does"
```

## Solución de problemas

<AccordionGroup>
  <Accordion title="Error de conexión">
    - Verifique que `base_url` en `config.toml` sea exactamente `https://api.lemondata.cc/v1`
    - Compruebe la conectividad de red
    - Asegúrese de que no haya interferencia de proxy
  </Accordion>

  <Accordion title="Autenticación fallida">
    - Verifique que la variable de entorno `OPENAI_API_KEY` esté configurada
    - Compruebe que la clave comience con `sk-`
    - Asegúrese de que la clave esté activa en el panel de LemonData
  </Accordion>

  <Accordion title="Modelo no encontrado">
    - Compruebe que el nombre del modelo coincida exactamente
    - Verifique la disponibilidad del modelo en [lemondata.cc/en/models](https://lemondata.cc/es/models)
  </Accordion>
</AccordionGroup>