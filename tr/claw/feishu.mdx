---
title: "Feishu / Lark"
description: "Claw örneğinizi WebSocket olaylarını kullanarak Feishu (Lark)'ya bağlayın"
---

Feishu (飞书) veya Lark'ı Claw örneğinize bağlayın. WebSocket modunu kullanır — genel bir geri çağırma URL'sine (callback URL) gerek yoktur.

## Ön Koşullar

- Geliştirici erişimine sahip bir [Feishu](https://www.feishu.cn/) veya [Lark](https://www.larksuite.com/) hesabı
- Bir Claw örneği ([buradan oluşturun](https://lemondata.cc/dashboard/claw))

## Kurulum Kılavuzu

<Steps>
  <Step title="Bir Feishu Uygulaması Oluşturun">
    1. [Feishu Açık Platformu](https://open.feishu.cn/app)'na (veya [Lark Developer](https://open.larksuite.com/app)'a) gidin
    2. **Create Custom App** butonuna tıklayın
    3. Bir uygulama adı ve açıklaması girin
    4. **Create** butonuna tıklayın
  </Step>
  <Step title="Bot Özelliği Ekleyin">
    1. Uygulama ayarlarınızda, **Features** → **Bot** bölümüne gidin
    2. Bot özelliğini etkinleştirin
    3. Bu, uygulamanızın mesaj almasını ve göndermesini sağlar
  </Step>
  <Step title="Kimlik Bilgilerini Alın">
    1. **Credentials & Basic Info** bölümüne gidin
    2. **App ID** değerini kopyalayın (`cli_` ile başlar)
    3. **App Secret** değerini kopyalayın
  </Step>
  <Step title="Olay Aboneliğini Yapılandırın">
    1. **Event Subscriptions** bölümüne gidin
    2. **WebSocket** modunu seçin (önerilen — genel URL gerekmez)
    3. İstenirse, **Encrypt Key** ve **Verification Token** değerlerini ayarlayın

    <Tip>
    LemonData panelinde Feishu'yu yapılandırdığınızda, Encrypt Key ve Verification Token sizin için **otomatik olarak oluşturulur**. Bu değerleri Feishu geliştirici konsoluna kopyalayın.
    </Tip>
  </Step>
  <Step title="Olay İzinlerini Ekleyin">
    1. Event Subscriptions altında, bu olayları ekleyin:
       - `im.message.receive_v1` — Mesajları al
    2. **Permissions & Scopes** bölümüne gidin ve şunları ekleyin:
       - `im:message` — Mesaj gönder ve al
       - `im:message.group_at_msg` — Gruptaki @bahsetmeleri al
    3. **Save** butonuna tıklayın
  </Step>
  <Step title="Uygulamayı Yayınlayın">
    1. **App Release** → **Version Management** bölümüne gidin
    2. Yeni bir sürüm oluşturun
    3. İnceleme için gönderin (dahili uygulamalar için bu genellikle anlıktır)
    4. Onaylandıktan sonra uygulama yayına girer
  </Step>
  <Step title="LemonData Panelinde Yapılandırın">
    1. [Claw Paneli](https://lemondata.cc/dashboard/claw)'nize gidin
    2. Örneğinizdeki **ayarlar simgesine** tıklayın
    3. **IM Integrations** sekmesini açın
    4. **Feishu** bölümünü genişletin
    5. **App ID** ve **App Secret** bilgilerinizi yapıştırın
    6. Otomatik oluşturulan **Encrypt Key** ve **Verification Token** değerlerini tekrar Feishu geliştirici konsoluna kopyalayın
    7. **Save** butonuna tıklayın
  </Step>
  <Step title="Sohbet Etmeye Başlayın">
    1. Feishu'da botunuzu adıyla arayın
    2. Ona bir mesaj gönderin
    3. İlk kullanıcı **otomatik olarak** sahip (owner) olarak eşleştirilir — kod yazmaya gerek yok!
    4. AI ile sohbete başlayın!
  </Step>
</Steps>

## Grup Ayarları

Panelinizin **IM Integrations** sekmesinden grup sohbeti davranışını yapılandırın:

| Ayar | Seçenekler | Açıklama |
|---------|---------|-------------|
| **Group Policy** | Açık (varsayılan) / İzin Listesi / Devre Dışı | Botu gruplarda kimlerin tetikleyebileceğini kontrol eder |
| **Require @mention** | Açık / Kapalı | Bot yalnızca @bahsedildiğinde yanıt verir |
| **Group IDs** | Sohbet ID'leri listesi | Belirli gruplarla sınırla (boş = tüm gruplar) |
| **Group Allowed Users** | Open ID listesi | Sadece bu kullanıcılar botu tetikleyebilir (izin listesi modu) |

## Sorun Giderme

<AccordionGroup>
  <Accordion title="Bot mesajları almıyor">
    - Uygulamanın yayınlandığını ve onaylandığını doğrulayın
    - `im.message.receive_v1` olayına abone olunduğundan emin olun
    - WebSocket modunun seçildiğinden emin olun (HTTP değil)
    - Feishu konsolu ve Claw yapılandırması arasındaki Encrypt Key ve Verification Token değerlerinin eşleştiğini doğrulayın
  </Accordion>
  <Accordion title="'app_ticket' hatası">
    - Bu genellikle App ID veya App Secret'ın yanlış olduğu anlamına gelir
    - Panelinizdeki kimlik bilgilerini tekrar kontrol edin
  </Accordion>
</AccordionGroup>