---
title: "Discord"
description: "Connectez votre instance Claw à Discord avec une application bot"
---

Connectez votre instance Claw à Discord et discutez avec l'IA directement sur votre serveur ou par messages privés (DMs).

## Prérequis

- Un compte [Discord](https://discord.com/)
- Un serveur Discord sur lequel vous avez la permission **Gérer le serveur**
- Une instance Claw ([créez-en une ici](https://lemondata.cc/dashboard/claw))

## Guide de configuration

<Steps>
  <Step title="Créer une application Discord">
    1. Accédez au [Portail des développeurs Discord](https://discord.com/developers/applications)
    2. Cliquez sur **New Application**
    3. Donnez-lui un nom (ex: "Mon Bot IA") et cliquez sur **Create**
  </Step>
  <Step title="Créer un Bot">
    1. Dans votre application, allez dans l'onglet **Bot**
    2. Cliquez sur **Add Bot** → **Yes, do it!**
    3. Sous **Privileged Gateway Intents**, activez :
       - **Message Content Intent** (requis)
       - **Server Members Intent** (recommandé)
    4. Cliquez sur **Reset Token** pour générer un token de bot
    5. Copiez le token — vous en aurez besoin à l'étape suivante
    <Warning>
    Le token n'est affiché qu'une seule fois. Si vous le perdez, vous devrez le réinitialiser.
    </Warning>
  </Step>
  <Step title="Inviter le bot sur votre serveur">
    1. Allez dans l'onglet **OAuth2** → **URL Generator**
    2. Sous **Scopes**, sélectionnez : `bot`, `applications.commands`
    3. Sous **Bot Permissions**, sélectionnez : `Send Messages`, `Read Message History`
    4. Copiez l'URL générée et ouvrez-la dans votre navigateur
    5. Sélectionnez votre serveur et cliquez sur **Authorize**
  </Step>
  <Step title="Configurer dans le tableau de bord LemonData">
    1. Accédez à votre [Tableau de bord Claw](https://lemondata.cc/dashboard/claw)
    2. Cliquez sur l'**icône des paramètres** de votre instance
    3. Ouvrez l'onglet **IM Integrations**
    4. Développez la section **Discord**
    5. Collez votre **Bot Token**
    6. Cliquez sur **Save**
  </Step>
  <Step title="Commencer à discuter">
    1. Sur votre serveur Discord, mentionnez le bot ou envoyez-lui un message privé (DM)
    2. Le premier utilisateur est **automatiquement associé** en tant que propriétaire — aucun code n'est nécessaire !
    3. Commencez à discuter avec l'IA !
  </Step>
</Steps>

## Utilisation sur les serveurs

### Paramètres de groupe

Configurez le comportement du serveur (guild) dans l'onglet **IM Integrations** de votre tableau de bord :

| Paramètre | Options | Description |
|---------|---------|-------------|
| **Group Policy** | Open (par défaut) / Allowlist / Disabled | Contrôle l'accès aux salons du serveur |
| **Require @mention** | On / Off | Le bot ne répond que lorsqu'il est mentionné (recommandé) |
| **Group IDs** | Liste d'IDs de serveurs | Restreindre à des serveurs spécifiques (vide = tous les serveurs) |

<Note>
Discord utilise des listes blanches d'utilisateurs par serveur au lieu d'une liste blanche de groupe globale. Pour un filtrage avancé des utilisateurs par serveur, configurez-le directement dans le fichier de configuration OpenClaw.
</Note>

### Politique de messages privés (DM)

Contrôlez qui peut envoyer des messages directs à votre bot :

| Politique | Comportement |
|--------|----------|
| **Pairing** (par défaut) | Les nouveaux utilisateurs reçoivent un code d'association — saisissez-le dans la WebUI pour autoriser |
| **Allowlist** | Seuls les IDs d'utilisateurs spécifiés peuvent envoyer des DM au bot |
| **Open** | Tout le monde peut envoyer des DM au bot (à utiliser avec prudence) |

## Dépannage

<AccordionGroup>
  <Accordion title="Le bot est en ligne mais ne répond pas">
    - Assurez-vous que **Message Content Intent** est activé dans le Portail des développeurs
    - Vérifiez que le token du bot est correct
    - Vérifiez que le bot a la permission de lire et d'envoyer des messages dans le salon
  </Accordion>
  <Accordion title="Le bot apparaît comme hors ligne">
    - Vérifiez le statut de votre instance dans le tableau de bord (doit être vert/en cours d'exécution)
    - Essayez de redémarrer l'instance
    - Vérifiez que le token n'a pas été réinitialisé dans le Portail des développeurs
  </Accordion>
  <Accordion title="Erreurs 409 Conflict dans les logs">
    - Cela se produit lorsque deux instances tentent d'utiliser le même token de bot
    - Assurez-vous qu'une seule instance Claw est configurée avec ce token
  </Accordion>
</AccordionGroup>