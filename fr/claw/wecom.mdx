---
title: "WeCom"
description: "Connectez votre instance Claw à WeCom (WeChat Work) via un rappel webhook"
---

Intégrez WeCom (企业微信 / WeChat Work) à votre instance Claw pour apporter l'IA à votre espace de travail d'entreprise.

## Prérequis

- Un compte administrateur [WeCom](https://work.weixin.qq.com/)
- Une instance Claw ([créez-en une ici](https://lemondata.cc/dashboard/claw))

## Guide de configuration

<Steps>
  <Step title="Créer une application WeCom">
    1. Connectez-vous à la [Console d'administration WeCom](https://work.weixin.qq.com/wework_admin/frame)
    2. Allez dans **App Management** → **Create App**
    3. Saisissez un nom d'application, téléchargez un logo et définissez la portée de visibilité
    4. Cliquez sur **Create**
  </Step>
  <Step title="Obtenir les identifiants">
    1. Notez votre **Corp ID** — situé dans **My Enterprise** → **Enterprise Info** en bas de page
    2. Dans les paramètres de votre application, copiez le **Secret** (Corp Secret)
  </Step>
  <Step title="Configurer l'URL de rappel">
    1. Dans les paramètres de votre application, allez dans **Receive Messages** → **Set API Receive**
    2. Votre URL de rappel est affichée dans le tableau de bord LemonData lorsque vous développez la section WeCom :
    ```
    https://claw-{your-subdomain}.lemondata.cc/webhook/wecom
    ```
    3. Définissez un **Token** (chaîne aléatoire) et une **EncodingAESKey** (chaîne aléatoire de 43 caractères)
    4. Cliquez sur **Save** — WeCom vérifiera l'URL de rappel

    <Tip>
    L'URL de rappel est affichée dans le tableau de bord LemonData avec un bouton de copie. Assurez-vous que votre instance Claw est en cours d'exécution avant de vérifier l'URL.
    </Tip>
  </Step>
  <Step title="Configurer dans le tableau de bord LemonData">
    1. Allez sur votre [Tableau de bord Claw](https://lemondata.cc/dashboard/claw)
    2. Cliquez sur l'**icône des paramètres** de votre instance
    3. Ouvrez l'onglet **IM Integrations**
    4. Développez la section **WeCom**
    5. Copiez l'**Callback URL** affichée en haut
    6. Remplissez les champs : **Corp ID**, **Corp Secret**, **Token**, **EncodingAESKey**
    7. Cliquez sur **Save**
  </Step>
  <Step title="Commencer à discuter">
    1. Dans WeCom, trouvez votre application dans le **Workbench**
    2. Envoyez un message à l'application
    3. L'IA répondra directement — aucun appairage n'est nécessaire pour WeCom
  </Step>
</Steps>

<Warning>
Le **Token** et l'**EncodingAESKey** doivent correspondre exactement entre la console d'administration WeCom et votre configuration Claw. Une discordance entraînera l'échec de la vérification des messages.
</Warning>

## Dépannage

<AccordionGroup>
  <Accordion title="La vérification de l'URL de rappel échoue">
    - Assurez-vous que votre instance Claw est en cours d'exécution (statut vert)
    - Vérifiez le format de l'URL : `https://claw-{subdomain}.lemondata.cc/webhook/wecom`
    - Vérifiez que le Token et l'EncodingAESKey sont enregistrés dans la configuration Claw **avant** de procéder à la vérification dans WeCom
  </Accordion>
  <Accordion title="Le bot ne répond pas">
    - Vérifiez que le Corp ID et le Corp Secret sont corrects
    - Vérifiez que l'application est visible pour votre compte utilisateur (paramètre de portée de visibilité)
    - Assurez-vous que le Token et l'EncodingAESKey correspondent entre WeCom et Claw
  </Accordion>
</AccordionGroup>