---
title: "DingTalk"
description: "Connectez votre instance Claw à DingTalk en utilisant le mode Stream"
---

Connectez DingTalk (钉钉) à votre instance Claw en utilisant le mode Stream — une connexion basée sur WebSocket qui ne nécessite aucune URL publique.

## Prérequis

- Un compte [DingTalk](https://www.dingtalk.com/) avec un accès administrateur d'entreprise
- Une instance Claw ([créez-en une ici](https://lemondata.cc/dashboard/claw))

## Guide de configuration

<Steps>
  <Step title="Créer une application DingTalk">
    1. Allez sur la [DingTalk Open Platform](https://open-dev.dingtalk.com/)
    2. Cliquez sur **Application Development** → **Enterprise Internal Development**
    3. Cliquez sur **Create Application**
    4. Saisissez un nom et une description pour l'application
    5. Cliquez sur **Confirm**
  </Step>
  <Step title="Activer la fonctionnalité Robot">
    1. Dans votre application, allez dans **App Features** → **Robot**
    2. Activez la configuration du robot
    3. Sélectionnez **Stream Mode** (recommandé — aucune URL publique n'est nécessaire)
    4. Cliquez sur **Publish**

    <Tip>
    Le mode Stream utilise WebSocket, votre instance Claw n'a donc pas besoin d'une URL de webhook accessible publiquement. C'est la configuration la plus simple.
    </Tip>
  </Step>
  <Step title="Obtenir les identifiants">
    1. Allez dans **Basic Information** → **Credentials**
    2. Copiez l'**AppKey** et l'**AppSecret**
  </Step>
  <Step title="Publier l'application">
    1. Allez dans **Version Management**
    2. Créez une nouvelle version (au minimum une version de test)
    3. Définissez la portée de visibilité (quels utilisateurs/départements peuvent voir le bot)
    4. Soumettez et publiez
  </Step>
  <Step title="Configurer dans le tableau de bord LemonData">
    1. Allez sur votre [tableau de bord Claw](https://lemondata.cc/dashboard/claw)
    2. Cliquez sur l'**icône des paramètres** de votre instance
    3. Ouvrez l'onglet **IM Integrations**
    4. Développez la section **DingTalk**
    5. Collez votre **AppKey** et votre **AppSecret**
    6. Cliquez sur **Save**
  </Step>
  <Step title="Commencer à discuter">
    1. Dans DingTalk, recherchez votre bot par son nom
    2. Envoyez-lui un message
    3. Terminez le processus de jumelage
    4. Commencez à discuter avec l'IA !
  </Step>
</Steps>

## Paramètres de groupe

Configurez le comportement des discussions de groupe dans l'onglet **IM Integrations** de votre tableau de bord :

| Paramètre | Options | Description |
|---------|---------|-------------|
| **Group Policy** | Open / Allowlist / Disabled | Contrôle qui peut déclencher le bot dans les groupes |
| **Group Allowed Users** | Liste d'identifiants d'utilisateur | Seuls ces utilisateurs peuvent déclencher le bot (mode allowlist) |

<Note>
DingTalk **nécessite toujours une @mention** pour déclencher le bot dans les groupes — c'est une limitation de la plateforme et ne peut pas être configuré. Le filtrage par Group IDs n'est pas disponible pour DingTalk ; utilisez le paramètre Group Policy pour contrôler l'accès.
</Note>

## Dépannage

<AccordionGroup>
  <Accordion title="Le bot ne répond pas">
    - Vérifiez que l'AppKey et l'AppSecret sont corrects
    - Vérifiez que l'application est publiée (au moins la version de test)
    - Assurez-vous que le mode Stream est sélectionné dans la configuration du robot
    - Vérifiez que le bot est visible pour votre compte utilisateur
  </Accordion>
  <Accordion title="La connexion s'interrompt fréquemment">
    - Le mode Stream maintient une connexion WebSocket persistante
    - Les brèves déconnexions sont normales — le bot se reconnectera automatiquement
    - Si le problème persiste, essayez de redémarrer l'instance depuis le tableau de bord
  </Accordion>
</AccordionGroup>