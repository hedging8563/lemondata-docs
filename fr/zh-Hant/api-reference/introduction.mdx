---
title: 'Référence de l''API'
description: 'Guide de référence complet de l''API LemonData'
---

## Aperçu

L'API LemonData est **compatible avec OpenAI**, ce qui signifie que vous pouvez utiliser le SDK officiel d'OpenAI en changeant simplement la Base URL. Nous prenons également en charge les formats de requête natifs d'**Anthropic** et **Gemini**.

## Base URL

```
https://api.lemondata.cc
```

## Authentification

Tous les points de terminaison de l'API nécessitent une authentification via un Bearer token :

```bash
Authorization: Bearer sk-your-api-key
```

Obtenez votre clé API depuis le [Tableau de bord](https://lemondata.cc/dashboard).

<Warning>
**À propos du Playground interactif** : Le Playground sur ce site de documentation est uniquement à des fins de démonstration et ne prend pas en charge la saisie de clés API. Pour tester l'API, veuillez utiliser :
- **cURL** - Copiez l'exemple de commande, en remplaçant `sk-your-api-key` par votre clé réelle
- **Postman** - Importez notre [spécification OpenAPI](/openapi.json)
- **SDK** - Utilisez les SDK OpenAI/Anthropic avec notre Base URL
</Warning>

## Points de terminaison pris en charge

### Chat et génération de texte

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | Complétion de chat compatible avec OpenAI |
| `/v1/messages` | POST | API de messages compatible avec Anthropic |
| `/v1/responses` | POST | API OpenAI Responses |

### Embeddings et Rerank

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/embeddings` | POST | Créer des embeddings de texte |
| `/v1/rerank` | POST | Réorganiser (Rerank) des documents |

### Images

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/images/generations` | POST | Générer des images à partir de texte |
| `/v1/images/edits` | POST | Modifier des images |

### Audio

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | Synthèse vocale (TTS) |
| `/v1/audio/transcriptions` | POST | Transcription vocale (STT) |

### Vidéo

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | Créer une tâche de génération de vidéo |
| `/v1/videos/generations/{id}` | GET | Obtenir l'état de la tâche vidéo |

### Musique

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/music/generations` | POST | Créer une tâche de génération de musique |
| `/v1/music/generations/{id}` | GET | Obtenir l'état de la tâche musicale |

### Génération 3D

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | Créer une tâche de génération de modèle 3D |
| `/v1/3d/generations/{id}` | GET | Obtenir l'état de la tâche 3D |

### Modèles

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1/models` | GET | Lister tous les modèles disponibles |
| `/v1/models/{model}` | GET | Obtenir des informations sur un modèle spécifique |

### Gemini (v1beta)

Prise en charge du format natif de l'API Google Gemini :

| Point de terminaison | Méthode | Description |
|----------|--------|-------------|
| `/v1beta/models/{model}:generateContent` | POST | Générer du contenu (format Gemini) |
| `/v1beta/models/{model}:streamGenerateContent` | POST | Générer du contenu en streaming (format Gemini) |

<Note>
Les points de terminaison Gemini prennent en charge l'authentification par paramètre de requête `?key=` en plus du Bearer token standard.
</Note>

## Format de réponse

Toutes les réponses suivent un format cohérent :

### Réponse réussie

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### Transparence du routage

Toutes les réponses incluent un champ `_routing` contenant des informations sur le canal :

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| Champ | Description |
|-------|-------------|
| `channel.id` | Identifiant du canal utilisé |
| `channel.provider` | Fournisseur amont (openai, anthropic, etc.) |
| `channel.channelType` | `PLATFORM` (LemonData) ou `PRIVATE` (BYOK) |
| `cached` | Si la réponse provient du cache |
| `retryCount` | Nombre de tentatives (le cas échéant) |

### Réponse d'erreur

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## Limites de débit

Les limites de débit sont basées sur les rôles et peuvent être configurées par l'administrateur. Valeurs par défaut :

| Rôle | Requêtes par minute |
|------|-------------|
| Utilisateur | 60 |
| Partenaire | 300 |
| VIP | 1,000 |

<Note>
Contactez l'équipe de support pour obtenir des limites de débit personnalisées. Les valeurs exactes peuvent varier selon la configuration du compte.
</Note>

Les en-têtes de limite de débit sont inclus dans toutes les réponses :

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## Spécification OpenAPI

<Card
  title="Spécification OpenAPI"
  icon="file-code"
  href="/openapi.json"
>
  Télécharger la spécification OpenAPI 3.0 complète
</Card>