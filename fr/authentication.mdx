---
title: "Authentification"
description: "Sécurisez vos requêtes API avec des clés API"
---

## Clés API

Toutes les requêtes API nécessitent une authentification à l'aide d'une clé API. Incluez votre clé dans l'en-tête `Authorization` :

```bash
Authorization: Bearer sk-your-api-key
```

## Obtenir votre clé API

1. Connectez-vous à votre [Tableau de bord LemonData](https://lemondata.cc/dashboard)
2. Accédez à la section **API Keys**
3. Cliquez sur **Create New Key**
4. Donnez un nom descriptif à votre clé
5. Copiez la clé immédiatement - elle ne s'affiche qu'une seule fois

<Warning>
  **Meilleures pratiques de sécurité :**
  - N'exposez jamais les clés API dans le code côté client
  - Ne validez pas les clés dans le contrôle de version
  - Utilisez des variables d'environnement pour stocker les clés
  - Effectuez une rotation périodique des clés
  - Supprimez les clés inutilisées
</Warning>

## Utilisation des clés API

<CodeGroup>

```bash cURL
curl https://api.lemondata.cc/v1/chat/completions \
  -H "Authorization: Bearer $LEMONDATA_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"model": "gpt-4o", "messages": [{"role": "user", "content": "Hello!"}]}'
```

```python Python
import os
from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("LEMONDATA_API_KEY"),
    base_url="https://api.lemondata.cc/v1"
)
```

```javascript JavaScript
import OpenAI from 'openai';

const client = new OpenAI({
  apiKey: process.env.LEMONDATA_API_KEY,
  baseURL: 'https://api.lemondata.cc/v1'
});
```

```go Go
package main

import "github.com/sashabaranov/go-openai"

func main() {
    config := openai.DefaultConfig(os.Getenv("LEMONDATA_API_KEY"))
    config.BaseURL = "https://api.lemondata.cc/v1"
    client := openai.NewClientWithConfig(config)
}
```

```php PHP
<?php
$apiKey = getenv('LEMONDATA_API_KEY');

$ch = curl_init('https://api.lemondata.cc/v1/chat/completions');
curl_setopt_array($ch, [
    CURLOPT_HTTPHEADER => [
        'Authorization: Bearer ' . $apiKey,
        'Content-Type: application/json'
    ]
]);
```

</CodeGroup>

## Fonctionnalités des clés API

### Limites d'utilisation

Vous pouvez définir une limite d'utilisation sur chaque clé API pour contrôler les dépenses :

| Paramètre | Description |
|---------|-------------|
| **No Limit** | La clé utilise le solde de votre compte sans restrictions |
| **Fixed Limit** | La clé cesse de fonctionner après avoir atteint le montant spécifié |

### Préfixe de clé

Toutes les clés API LemonData commencent par le préfixe `sk-`. Le format de la clé est :

```
sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

## Compatibilité avec l'API Anthropic

Pour le point de terminaison `/v1/messages`, vous pouvez utiliser l'en-tête `x-api-key` (compatible avec le SDK Anthropic) :

```bash
curl https://api.lemondata.cc/v1/messages \
  -H "x-api-key: sk-your-api-key" \
  -H "anthropic-version: 2023-06-01" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "claude-sonnet-4-5",
    "max_tokens": 1024,
    "messages": [{"role": "user", "content": "Hello!"}]
  }'
```

<Note>
  L'en-tête `x-api-key` est uniquement pris en charge sur les points de terminaison `/v1/messages` et `/v1/messages/count_tokens`. Les autres points de terminaison nécessitent l'en-tête `Authorization: Bearer`.
</Note>

## Réponses d'erreur

| Code d'état | Type | Code | Description |
|-------------|------|------|-------------|
| 401 | `invalid_request_error` | `invalid_api_key` | Clé API manquante ou invalide |
| 401 | `invalid_request_error` | `expired_api_key` | La clé API a été révoquée |
| 402 | `insufficient_quota` | `insufficient_quota` | Le solde du compte est insuffisant |
| 402 | `insufficient_quota` | `quota_exceeded` | Limite d'utilisation de la clé API atteinte |

Exemple de réponse d'erreur :

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```