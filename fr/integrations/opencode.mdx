---
title: "OpenCode"
description: "Configurez OpenCode pour utiliser l'API LemonData"
---

## Présentation

OpenCode est un assistant de codage IA open-source qui s'exécute dans votre terminal. Il prend en charge plusieurs fournisseurs de LLM et peut être configuré pour utiliser l'API de LemonData afin d'accéder à plus de 300 modèles.

## Installation

<Tabs>
  <Tab title="Script d'installation">
    ```bash
    curl -fsSL https://opencode.ai/install | bash
    ```
  </Tab>
  <Tab title="Homebrew">
    ```bash
    brew install opencode-ai/tap/opencode
    ```

    Ou utilisez le tap de la communauté (mises à jour plus fréquentes) :
    ```bash
    brew install anomalyco/tap/opencode
    ```
  </Tab>
  <Tab title="Go">
    ```bash
    go install github.com/opencode-ai/opencode@latest
    ```
  </Tab>
</Tabs>

Vérifiez l'installation :

```bash
opencode --version
```

## Configuration

### Étape 1 : Définir les variables d'environnement

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
```

Pour une configuration permanente, ajoutez à `~/.bashrc` ou `~/.zshrc` :

```bash
echo 'export OPENAI_API_KEY="sk-your-lemondata-key"' >> ~/.zshrc
echo 'export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"' >> ~/.zshrc
source ~/.zshrc
```

### Étape 2 : Configurer OpenCode

Créez ou modifiez `~/.config/opencode/opencode.json` (global) ou `opencode.json` à la racine de votre projet :

```json
{
  "provider": {
    "openai": {
      "options": {
        "apiKey": "sk-your-lemondata-key",
        "baseURL": "https://api.lemondata.cc/v1"
      }
    }
  },
  "model": "gpt-4o",
  "agent": {
    "coder": {
      "model": "gpt-4o"
    }
  }
}
```

## Utilisation de base

**Démarrer le mode interactif :**

```bash
opencode
```

**Exécuter avec un prompt :**

```bash
opencode "Explain this codebase"
```

**Spécifier le modèle :**

```bash
opencode --model gpt-4o "Fix the bugs in main.py"
```

## Modèles disponibles

| Modèle | Idéal pour |
|-------|----------|
| `gpt-4o` | Tâches complexes, architecture de code |
| `gpt-4o-mini` | Corrections rapides, requêtes simples |
| `claude-sonnet-4-5` | Revue de code, documentation |
| `claude-opus-4-5` | Raisonnement complexe |
| `gemini-2.5-flash` | Réponses rapides |
| `deepseek-r1` | Conception d'algorithmes |

## Commandes courantes

**Analyser le code :**

```bash
opencode "What does this function do?" < src/utils.ts
```

**Générer du code :**

```bash
opencode "Create a REST API with Express"
```

**Réviser les modifications :**

```bash
git diff | opencode "Review these changes"
```

**Corriger les erreurs :**

```bash
opencode "Fix the TypeScript errors in this project"
```

## Commandes interactives

| Commande | Description |
|---------|-------------|
| `/help` | Afficher les commandes disponibles |
| `/model <name>` | Passer à un modèle différent |
| `/clear` | Effacer l'historique de la conversation |
| `/exit` | Quitter OpenCode |

## Dépannage

<AccordionGroup>
  <Accordion title="Erreur de connexion">
    - Vérifiez que `LOCAL_ENDPOINT` est défini sur `https://api.lemondata.cc/v1`
    - Vérifiez la connectivité réseau
    - Essayez `curl https://api.lemondata.cc/v1/models` pour tester
  </Accordion>

  <Accordion title="Échec de l'authentification">
    - Vérifiez que la variable d'environnement `OPENAI_API_KEY` est définie
    - Vérifiez que la clé commence par `sk-`
    - Assurez-vous que la clé est active dans le tableau de bord LemonData
  </Accordion>

  <Accordion title="Modèle non trouvé">
    - Vérifiez que le nom du modèle dans la configuration correspond exactement
    - Vérifiez la disponibilité du modèle sur [lemondata.cc/en/models](https://lemondata.cc/fr/models)
  </Accordion>
</AccordionGroup>

## Bonnes pratiques

<AccordionGroup>
  <Accordion title="Utiliser le contexte du projet">
    Exécutez OpenCode depuis la racine de votre projet pour une meilleure compréhension de votre base de code.
  </Accordion>

  <Accordion title="Choisir les modèles appropriés">
    Utilisez des modèles plus rapides (gpt-4o-mini) pour les tâches simples, et des modèles puissants (gpt-4o, claude) pour les tâches complexes.
  </Accordion>

  <Accordion title="Réviser le code généré">
    Révisez toujours le code généré par l'IA avant d'appliquer les modifications à votre projet.
  </Accordion>
</AccordionGroup>