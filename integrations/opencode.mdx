---
title: "OpenCode"
description: "Configure OpenCode to use LemonData API"
---

## Overview

OpenCode is an open-source AI coding assistant that runs in your terminal. It supports multiple LLM providers and can be configured to use LemonData's API for access to 300+ models.

## Installation

<Tabs>
  <Tab title="Install Script">
    ```bash
    curl -fsSL https://opencode.ai/install | bash
    ```
  </Tab>
  <Tab title="Homebrew">
    ```bash
    brew install opencode-ai/tap/opencode
    ```

    Or use the community tap (more frequent updates):
    ```bash
    brew install anomalyco/tap/opencode
    ```
  </Tab>
  <Tab title="Go">
    ```bash
    go install github.com/opencode-ai/opencode@latest
    ```
  </Tab>
</Tabs>

Verify installation:

```bash
opencode --version
```

## Configuration

### Step 1: Set Environment Variables

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
```

For permanent configuration, add to `~/.bashrc` or `~/.zshrc`:

```bash
echo 'export OPENAI_API_KEY="sk-your-lemondata-key"' >> ~/.zshrc
echo 'export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"' >> ~/.zshrc
source ~/.zshrc
```

### Step 2: Configure OpenCode

Create or edit `~/.config/opencode/opencode.json` (global) or `opencode.json` in your project root:

```json
{
  "provider": {
    "openai": {
      "options": {
        "apiKey": "sk-your-lemondata-key",
        "baseURL": "https://api.lemondata.cc/v1"
      }
    }
  },
  "model": "gpt-4o",
  "agent": {
    "coder": {
      "model": "gpt-4o"
    }
  }
}
```

## Basic Usage

**Start interactive mode:**

```bash
opencode
```

**Run with a prompt:**

```bash
opencode "Explain this codebase"
```

**Specify model:**

```bash
opencode --model gpt-4o "Fix the bugs in main.py"
```

## Available Models

| Model | Best For |
|-------|----------|
| `gpt-4o` | Complex tasks, code architecture |
| `gpt-4o-mini` | Quick fixes, simple queries |
| `claude-sonnet-4-5` | Code review, documentation |
| `claude-opus-4-5` | Complex reasoning |
| `gemini-2.5-flash` | Fast responses |
| `deepseek-r1` | Algorithm design |

## Common Commands

**Analyze code:**

```bash
opencode "What does this function do?" < src/utils.ts
```

**Generate code:**

```bash
opencode "Create a REST API with Express"
```

**Review changes:**

```bash
git diff | opencode "Review these changes"
```

**Fix errors:**

```bash
opencode "Fix the TypeScript errors in this project"
```

## Interactive Commands

| Command | Description |
|---------|-------------|
| `/help` | Show available commands |
| `/model <name>` | Switch to a different model |
| `/clear` | Clear conversation history |
| `/exit` | Exit OpenCode |

## Troubleshooting

<AccordionGroup>
  <Accordion title="Connection Error">
    - Verify `LOCAL_ENDPOINT` is set to `https://api.lemondata.cc/v1`
    - Check network connectivity
    - Try `curl https://api.lemondata.cc/v1/models` to test
  </Accordion>

  <Accordion title="Authentication Failed">
    - Verify `OPENAI_API_KEY` environment variable is set
    - Check that the key starts with `sk-`
    - Ensure the key is active in LemonData dashboard
  </Accordion>

  <Accordion title="Model Not Found">
    - Check model name in config matches exactly
    - Verify model availability at [lemondata.cc/en/models](https://lemondata.cc/en/models)
  </Accordion>
</AccordionGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Use project context">
    Run OpenCode from your project root for better understanding of your codebase.
  </Accordion>

  <Accordion title="Choose appropriate models">
    Use faster models (gpt-4o-mini) for simple tasks, powerful models (gpt-4o, claude) for complex ones.
  </Accordion>

  <Accordion title="Review generated code">
    Always review AI-generated code before applying changes to your project.
  </Accordion>
</AccordionGroup>
