---
title: "Codex CLI"
description: "Configure OpenAI Codex CLI to use LemonData API"
---

## Overview

OpenAI Codex is an open-source command-line tool (CLI) that serves as a lightweight coding agent, capable of reading, modifying, and running code in the terminal. It's built on GPT models and optimized for code generation.

## System Requirements

- **OS**: macOS, Linux (official support), Windows via WSL
- **Node.js**: Version 18+
- **npm**: Version 10.x.x or higher

## Installation

```bash
sudo npm install -g @openai/codex@latest
```

Verify installation:

```bash
codex --version
```

## Configuration

### Step 1: Set API Key

**Temporary (current session):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**Permanent configuration:**

Add to `~/.bashrc`, `~/.zshrc`, or `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

Then reload:

```bash
source ~/.zshrc  # or source ~/.bashrc
```

### Step 2: Configure config.toml

Edit `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
If the config file doesn't exist, run `codex` once to generate it, then edit the file.
</Note>

## Basic Usage

**Start interactive mode:**

```bash
codex
```

**Direct command:**

```bash
codex "Fix the bug in main.py line 42"
```

**Specify model:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## Available Models

| Model | Best For |
|-------|----------|
| `gpt-4o` | Complex coding tasks, architecture |
| `gpt-4o-mini` | Quick fixes, simple tasks |
| `claude-sonnet-4-5` | Code review, documentation |
| `deepseek-r1` | Algorithm design, reasoning |

## Interactive Commands

| Command | Description |
|---------|-------------|
| `/help` | Display help |
| `/exit` or `Ctrl+C` | Exit |
| `/clear` | Clear conversation |
| `/config` | View configuration |
| `/model <name>` | Switch model |
| `/tokens` | View token usage |

## Verify Configuration

```bash
# Check environment variable
echo $OPENAI_API_KEY

# Test API connection
codex "Hello, Codex!"

# View configuration
cat ~/.codex/config.toml
```

## Common Use Cases

**Code review:**

```bash
git diff | codex "Review these code changes"
```

**Generate commit messages:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**Fix errors:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**Explain code:**

```bash
cat main.py | codex "Explain what this code does"
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Connection Error">
    - Verify `base_url` in config.toml is exactly `https://api.lemondata.cc/v1`
    - Check network connectivity
    - Ensure no proxy interference
  </Accordion>

  <Accordion title="Authentication Failed">
    - Verify `OPENAI_API_KEY` environment variable is set
    - Check that the key starts with `sk-`
    - Ensure the key is active in LemonData dashboard
  </Accordion>

  <Accordion title="Model Not Found">
    - Check model name matches exactly
    - Verify model availability at [lemondata.cc/en/models](https://lemondata.cc/en/models)
  </Accordion>
</AccordionGroup>
