---
title: "OpenCode"
description: "Cấu hình OpenCode để sử dụng LemonData API"
---

## Tổng quan

OpenCode là một trợ lý lập trình AI mã nguồn mở chạy trong terminal của bạn. Nó hỗ trợ nhiều nhà cung cấp LLM và có thể được cấu hình để sử dụng LemonData API nhằm truy cập hơn 300 mô hình.

## Cài đặt

<Tabs>
  <Tab title="Script cài đặt">
    ```bash
    curl -fsSL https://opencode.ai/install | bash
    ```
  </Tab>
  <Tab title="Homebrew">
    ```bash
    brew install opencode-ai/tap/opencode
    ```

    Hoặc sử dụng community tap (cập nhật thường xuyên hơn):
    ```bash
    brew install anomalyco/tap/opencode
    ```
  </Tab>
  <Tab title="Go">
    ```bash
    go install github.com/opencode-ai/opencode@latest
    ```
  </Tab>
</Tabs>

Xác minh cài đặt:

```bash
opencode --version
```

## Cấu hình

### Bước 1: Thiết lập biến môi trường

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
```

Để cấu hình vĩnh viễn, hãy thêm vào `~/.bashrc` hoặc `~/.zshrc`:

```bash
echo 'export OPENAI_API_KEY="sk-your-lemondata-key"' >> ~/.zshrc
echo 'export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"' >> ~/.zshrc
source ~/.zshrc
```

### Bước 2: Cấu hình OpenCode

Tạo hoặc chỉnh sửa `~/.config/opencode/opencode.json` (toàn cục) hoặc `opencode.json` trong thư mục gốc của dự án:

```json
{
  "provider": {
    "openai": {
      "options": {
        "apiKey": "sk-your-lemondata-key",
        "baseURL": "https://api.lemondata.cc/v1"
      }
    }
  },
  "model": "gpt-4o",
  "agent": {
    "coder": {
      "model": "gpt-4o"
    }
  }
}
```

## Cách sử dụng cơ bản

**Bắt đầu chế độ tương tác:**

```bash
opencode
```

**Chạy với một prompt:**

```bash
opencode "Explain this codebase"
```

**Chỉ định mô hình:**

```bash
opencode --model gpt-4o "Fix the bugs in main.py"
```

## Các mô hình hiện có

| Mô hình | Phù hợp nhất cho |
|-------|----------|
| `gpt-4o` | Các tác vụ phức tạp, kiến trúc mã nguồn |
| `gpt-4o-mini` | Sửa lỗi nhanh, các truy vấn đơn giản |
| `claude-sonnet-4-5` | Review mã nguồn, tài liệu |
| `claude-opus-4-5` | Suy luận phức tạp |
| `gemini-2.5-flash` | Phản hồi nhanh |
| `deepseek-r1` | Thiết kế thuật toán |

## Các lệnh phổ biến

**Phân tích mã nguồn:**

```bash
opencode "What does this function do?" < src/utils.ts
```

**Tạo mã nguồn:**

```bash
opencode "Create a REST API with Express"
```

**Xem lại các thay đổi:**

```bash
git diff | opencode "Review these changes"
```

**Sửa lỗi:**

```bash
opencode "Fix the TypeScript errors in this project"
```

## Các lệnh tương tác

| Lệnh | Mô tả |
|---------|-------------|
| `/help` | Hiển thị các lệnh hiện có |
| `/model <name>` | Chuyển sang một mô hình khác |
| `/clear` | Xóa lịch sử hội thoại |
| `/exit` | Thoát OpenCode |

## Xử lý sự cố

<AccordionGroup>
  <Accordion title="Lỗi kết nối">
    - Xác minh `LOCAL_ENDPOINT` đã được thiết lập thành `https://api.lemondata.cc/v1`
    - Kiểm tra kết nối mạng
    - Thử `curl https://api.lemondata.cc/v1/models` để kiểm tra
  </Accordion>

  <Accordion title="Xác thực thất bại">
    - Xác minh biến môi trường `OPENAI_API_KEY` đã được thiết lập
    - Kiểm tra xem key có bắt đầu bằng `sk-` hay không
    - Đảm bảo key đang hoạt động trong dashboard của LemonData
  </Accordion>

  <Accordion title="Không tìm thấy mô hình">
    - Kiểm tra tên mô hình trong cấu hình có khớp chính xác hay không
    - Xác minh tính khả dụng của mô hình tại [lemondata.cc/en/models](https://lemondata.cc/vi/models)
  </Accordion>
</AccordionGroup>

## Các thực hành tốt nhất

<AccordionGroup>
  <Accordion title="Sử dụng ngữ cảnh dự án">
    Chạy OpenCode từ thư mục gốc của dự án để hiểu rõ hơn về mã nguồn của bạn.
  </Accordion>

  <Accordion title="Chọn mô hình phù hợp">
    Sử dụng các mô hình nhanh hơn (gpt-4o-mini) cho các tác vụ đơn giản, các mô hình mạnh mẽ (gpt-4o, claude) cho các tác vụ phức tạp.
  </Accordion>

  <Accordion title="Xem lại mã nguồn được tạo">
    Luôn xem lại mã nguồn do AI tạo ra trước khi áp dụng các thay đổi vào dự án của bạn.
  </Accordion>
</AccordionGroup>