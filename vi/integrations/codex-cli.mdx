---
title: "Codex CLI"
description: "Cấu hình OpenAI Codex CLI để sử dụng LemonData API"
---

## Tổng quan

OpenAI Codex là một công cụ dòng lệnh (CLI) mã nguồn mở đóng vai trò như một tác nhân lập trình (coding agent) nhẹ, có khả năng đọc, sửa đổi và chạy mã trong terminal. Nó được xây dựng trên các mô hình GPT và được tối ưu hóa cho việc tạo mã.

## Yêu cầu hệ thống

- **Hệ điều hành**: macOS, Linux (hỗ trợ chính thức), Windows thông qua WSL
- **Node.js**: Phiên bản 18+
- **npm**: Phiên bản 10.x.x hoặc cao hơn

## Cài đặt

```bash
sudo npm install -g @openai/codex@latest
```

Xác minh cài đặt:

```bash
codex --version
```

## Cấu hình

### Bước 1: Thiết lập API Key

**Tạm thời (phiên hiện tại):**

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

**Cấu hình vĩnh viễn:**

Thêm vào `~/.bashrc`, `~/.zshrc`, hoặc `~/.bash_profile`:

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
```

Sau đó tải lại:

```bash
source ~/.zshrc  # hoặc source ~/.bashrc
```

### Bước 2: Cấu hình config.toml

Chỉnh sửa `~/.codex/config.toml`:

```toml
model = "gpt-4o"
model_provider = "lemondata"

[model_providers.lemondata]
name = "LemonData"
base_url = "https://api.lemondata.cc/v1"
env_key = "OPENAI_API_KEY"
wire_api = "chat"
```

<Note>
Nếu tệp cấu hình không tồn tại, hãy chạy `codex` một lần để tạo tệp, sau đó chỉnh sửa tệp.
</Note>

## Cách sử dụng cơ bản

**Bắt đầu chế độ tương tác:**

```bash
codex
```

**Lệnh trực tiếp:**

```bash
codex "Fix the bug in main.py line 42"
```

**Chỉ định mô hình:**

```bash
codex -m gpt-4o "Build a REST API server"
```

## Các mô hình hiện có

| Mô hình | Tốt nhất cho |
|-------|----------|
| `gpt-4o` | Các tác vụ lập trình phức tạp, kiến trúc |
| `gpt-4o-mini` | Sửa lỗi nhanh, các tác vụ đơn giản |
| `claude-sonnet-4-5` | Đánh giá mã nguồn, tài liệu hóa |
| `deepseek-r1` | Thiết kế thuật toán, suy luận |

## Các lệnh tương tác

| Lệnh | Mô tả |
|---------|-------------|
| `/help` | Hiển thị trợ giúp |
| `/exit` hoặc `Ctrl+C` | Thoát |
| `/clear` | Xóa cuộc hội thoại |
| `/config` | Xem cấu hình |
| `/model <name>` | Chuyển đổi mô hình |
| `/tokens` | Xem mức sử dụng token |

## Xác minh cấu hình

```bash
# Kiểm tra biến môi trường
echo $OPENAI_API_KEY

# Kiểm tra kết nối API
codex "Hello, Codex!"

# Xem cấu hình
cat ~/.codex/config.toml
```

## Các trường hợp sử dụng phổ biến

**Đánh giá mã nguồn:**

```bash
git diff | codex "Review these code changes"
```

**Tạo thông điệp commit:**

```bash
git diff --staged | codex "Generate a commit message for these changes"
```

**Sửa lỗi:**

```bash
codex "Fix the TypeScript errors in src/components/"
```

**Giải thích mã nguồn:**

```bash
cat main.py | codex "Explain what this code does"
```

## Khắc phục sự cố

<AccordionGroup>
  <Accordion title="Lỗi kết nối">
    - Xác minh `base_url` trong config.toml chính xác là `https://api.lemondata.cc/v1`
    - Kiểm tra kết nối mạng
    - Đảm bảo không có sự can thiệp của proxy
  </Accordion>

  <Accordion title="Xác thực thất bại">
    - Xác minh biến môi trường `OPENAI_API_KEY` đã được thiết lập
    - Kiểm tra xem key có bắt đầu bằng `sk-` hay không
    - Đảm bảo key đang hoạt động trong bảng điều khiển LemonData
  </Accordion>

  <Accordion title="Không tìm thấy mô hình">
    - Kiểm tra tên mô hình khớp chính xác
    - Xác minh tính khả dụng của mô hình tại [lemondata.cc/en/models](https://lemondata.cc/vi/models)
  </Accordion>
</AccordionGroup>