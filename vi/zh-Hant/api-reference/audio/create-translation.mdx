---
title: "Tạo bản dịch"
openapi: "POST /v1/audio/translations"
description: "Dịch âm thanh sang văn bản tiếng Anh"
---

## Tổng quan

Dịch âm thanh từ bất kỳ ngôn ngữ nào được hỗ trợ sang văn bản tiếng Anh. Khác với phiên âm (transcription), endpoint này luôn xuất ra văn bản tiếng Anh bất kể ngôn ngữ đầu vào là gì.

## Request Body

<ParamField body="file" type="file" required>
  Tệp âm thanh cần dịch. Các định dạng được hỗ trợ: `flac`, `mp3`, `mp4`, `mpeg`, `mpga`, `m4a`, `ogg`, `wav`, `webm`. Kích thước tệp tối đa là 25 MB.
</ParamField>

<ParamField body="model" type="string" default="whisper-1">
  Mô hình sẽ sử dụng. Hiện tại chỉ hỗ trợ `whisper-1`.
</ParamField>

<ParamField body="prompt" type="string">
  Văn bản tùy chọn để hướng dẫn phong cách của mô hình hoặc tiếp nối các phân đoạn trước đó. Nên sử dụng tiếng Anh.
</ParamField>

<ParamField body="response_format" type="string" default="json">
  Định dạng đầu ra. Các tùy chọn: `json`, `text`, `srt`, `verbose_json`, `vtt`.
</ParamField>

<ParamField body="temperature" type="number">
  Nhiệt độ lấy mẫu, nằm trong khoảng từ 0 đến 1. Các giá trị cao hơn (như 0.8) sẽ tạo ra đầu ra ngẫu nhiên hơn, trong khi các giá trị thấp hơn (như 0.2) sẽ làm cho đầu ra tập trung và mang tính xác định hơn.
</ParamField>

## Phản hồi

<ResponseField name="text" type="string">
  Văn bản tiếng Anh đã được dịch.
</ResponseField>

Đối với định dạng `verbose_json`, phản hồi còn bao gồm:

<ResponseField name="language" type="string">
  Ngôn ngữ âm thanh đầu vào được phát hiện.
</ResponseField>

<ResponseField name="duration" type="number">
  Thời lượng của âm thanh đầu vào (tính bằng giây).
</ResponseField>

<ResponseField name="segments" type="array">
  Các phân đoạn văn bản dịch kèm theo dấu thời gian.
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/audio/translations" \
  -H "Authorization: Bearer sk-your-api-key" \
  -F "file=@german_audio.mp3" \
  -F "model=whisper-1"
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

with open("german_audio.mp3", "rb") as audio_file:
    response = client.audio.translations.create(
        model="whisper-1",
        file=audio_file
    )

print(response.text)
```

```javascript JavaScript
import OpenAI from 'openai';
import fs from 'fs';

const client = new OpenAI({
  apiKey: 'sk-your-api-key',
  baseURL: 'https://api.lemondata.cc/v1'
});

const response = await client.audio.translations.create({
  model: 'whisper-1',
  file: fs.createReadStream('german_audio.mp3')
});

console.log(response.text);
```

```go Go
package main

import (
    "context"
    "fmt"
    "github.com/sashabaranov/go-openai"
)

func main() {
    config := openai.DefaultConfig("sk-your-api-key")
    config.BaseURL = "https://api.lemondata.cc/v1"
    client := openai.NewClientWithConfig(config)

    resp, err := client.CreateTranslation(
        context.Background(),
        openai.AudioRequest{
            Model:    openai.Whisper1,
            FilePath: "german_audio.mp3",
        },
    )
    if err != nil {
        panic(err)
    }
    fmt.Println(resp.Text)
}
```

```php PHP
<?php
$ch = curl_init('https://api.lemondata.cc/v1/audio/translations');

$file = new CURLFile('german_audio.mp3', 'audio/mpeg', 'german_audio.mp3');

curl_setopt_array($ch, [
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_HTTPHEADER => [
        'Authorization: Bearer sk-your-api-key'
    ],
    CURLOPT_POSTFIELDS => [
        'file' => $file,
        'model' => 'whisper-1'
    ]
]);

$response = curl_exec($ch);
curl_close($ch);

$data = json_decode($response, true);
echo $data['text'];
```
</RequestExample>

<ResponseExample>
```json json
{
  "text": "Hello, my name is Wolfgang and I come from Germany. Where are you from?"
}
```

```json verbose_json
{
  "task": "translate",
  "language": "german",
  "duration": 8.470000267028809,
  "text": "Hello, my name is Wolfgang and I come from Germany. Where are you from?",
  "segments": [
    {
      "id": 0,
      "seek": 0,
      "start": 0.0,
      "end": 4.0,
      "text": " Hello, my name is Wolfgang and I come from Germany.",
      "tokens": [50364, 2425, 11, 452, 1315, 307, 25329, 293, 286, 808, 490, 5765, 13, 50564],
      "temperature": 0.0,
      "avg_logprob": -0.45,
      "compression_ratio": 1.0,
      "no_speech_prob": 0.0
    }
  ]
}
```
</ResponseExample>

## Dịch thuật vs Phiên âm

| Đặc tính | Dịch thuật | Phiên âm |
|---------|-------------|---------------|
| Ngôn ngữ đầu ra | Luôn là tiếng Anh | Giống với đầu vào |
| Trường hợp sử dụng | Chuyển đổi âm thanh tiếng nước ngoài sang tiếng Anh | Giữ nguyên ngôn ngữ gốc |
| Tham số ngôn ngữ | Không áp dụng | Gợi ý tùy chọn |

<Note>
  Endpoint dịch thuật sẽ tự động phát hiện ngôn ngữ nguồn và dịch sang tiếng Anh. Tham số `language` trong phiên âm sẽ bị bỏ qua.
</Note>