---
title: "OpenCode"
description: "Cấu hình OpenCode để sử dụng LemonData API"
---

## Tổng quan

OpenCode là một trợ lý lập trình AI mã nguồn mở chạy trong terminal. Nó hỗ trợ nhiều nhà cung cấp LLM và có thể được cấu hình để sử dụng API của LemonData nhằm truy cập hơn 300 mô hình.

## Cài đặt

<Tabs>
  <Tab title="Script cài đặt">
    ```bash
    curl -fsSL https://opencode.ai/install | bash
    ```
  </Tab>
  <Tab title="Homebrew">
    ```bash
    brew install opencode-ai/tap/opencode
    ```

    Hoặc sử dụng community tap (cập nhật thường xuyên hơn):
    ```bash
    brew install anomalyco/tap/opencode
    ```
  </Tab>
  <Tab title="Go">
    ```bash
    go install github.com/opencode-ai/opencode@latest
    ```
  </Tab>
</Tabs>

Xác minh cài đặt:

```bash
opencode --version
```

## Cấu hình

### Bước 1: Thiết lập biến môi trường

```bash
export OPENAI_API_KEY="sk-your-lemondata-key"
export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"
```

Để cấu hình vĩnh viễn, hãy thêm chúng vào `~/.bashrc` hoặc `~/.zshrc`:

```bash
echo 'export OPENAI_API_KEY="sk-your-lemondata-key"' >> ~/.zshrc
echo 'export LOCAL_ENDPOINT="https://api.lemondata.cc/v1"' >> ~/.zshrc
source ~/.zshrc
```

### Bước 2: Cấu hình OpenCode

Tạo hoặc chỉnh sửa `~/.config/opencode/opencode.json` (toàn cục) hoặc `opencode.json` trong thư mục gốc của dự án:

```json
{
  "provider": {
    "openai": {
      "options": {
        "apiKey": "sk-your-lemondata-key",
        "baseURL": "https://api.lemondata.cc/v1"
      }
    }
  },
  "model": "gpt-4o",
  "agent": {
    "coder": {
      "model": "gpt-4o"
    }
  }
}
```

## Cách sử dụng cơ bản

**Khởi động chế độ tương tác:**

```bash
opencode
```

**Chạy với prompt:**

```bash
opencode "Explain this codebase"
```

**Chỉ định mô hình:**

```bash
opencode --model gpt-4o "Fix the bugs in main.py"
```

## Các mô hình có sẵn

| Mô hình | Tốt nhất cho |
|-------|----------|
| `gpt-4o` | Các tác vụ phức tạp, cấu trúc mã nguồn |
| `gpt-4o-mini` | Sửa lỗi nhanh, truy vấn đơn giản |
| `claude-sonnet-4-5` | Review mã nguồn, viết tài liệu |
| `claude-opus-4-5` | Suy luận phức tạp |
| `gemini-2.5-flash` | Phản hồi nhanh |
| `deepseek-r1` | Thiết kế thuật toán |

## Các lệnh thông dụng

**Phân tích mã nguồn:**

```bash
opencode "What does this function do?" < src/utils.ts
```

**Tạo mã nguồn:**

```bash
opencode "Create a REST API with Express"
```

**Review các thay đổi:**

```bash
git diff | opencode "Review these changes"
```

**Sửa lỗi:**

```bash
opencode "Fix the TypeScript errors in this project"
```

## Lệnh tương tác

| Lệnh | Mô tả |
|---------|-------------|
| `/help` | Hiển thị các lệnh có sẵn |
| `/model <name>` | Chuyển sang một mô hình khác |
| `/clear` | Xóa lịch sử trò chuyện |
| `/exit` | Thoát OpenCode |

## Khắc phục sự cố

<AccordionGroup>
  <Accordion title="Lỗi kết nối">
    - Xác minh `LOCAL_ENDPOINT` đã được thiết lập thành `https://api.lemondata.cc/v1`
    - Kiểm tra kết nối mạng
    - Thử kiểm tra bằng lệnh `curl https://api.lemondata.cc/v1/models`
  </Accordion>

  <Accordion title="Xác thực thất bại">
    - Xác minh biến môi trường `OPENAI_API_KEY` đã được thiết lập
    - Kiểm tra xem key có bắt đầu bằng `sk-` hay không
    - Đảm bảo key đang ở trạng thái hoạt động trong bảng điều khiển LemonData
  </Accordion>

  <Accordion title="Không tìm thấy mô hình">
    - Kiểm tra xem tên mô hình trong cấu hình có khớp hoàn toàn không
    - Xác minh tính khả dụng của mô hình tại [lemondata.cc/en/models](https://lemondata.cc/zh-TW/models)
  </Accordion>
</AccordionGroup>

## Thực hành tốt nhất

<AccordionGroup>
  <Accordion title="Sử dụng ngữ cảnh dự án">
    Chạy OpenCode từ thư mục gốc của dự án để công cụ hiểu rõ hơn về codebase của bạn.
  </Accordion>

  <Accordion title="Chọn mô hình phù hợp">
    Sử dụng các mô hình nhanh hơn (gpt-4o-mini) cho các tác vụ đơn giản và các mô hình mạnh mẽ (gpt-4o, claude) cho các tác vụ phức tạp.
  </Accordion>

  <Accordion title="Review mã nguồn được tạo">
    Luôn review mã nguồn do AI tạo ra trước khi áp dụng các thay đổi vào dự án của bạn.
  </Accordion>
</AccordionGroup>