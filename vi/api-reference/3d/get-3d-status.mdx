---
title: "Lấy trạng thái mô hình 3D"
openapi: "GET /v1/3d/generations/{id}"
description: "Truy xuất trạng thái và kết quả của tác vụ tạo mô hình 3D"
---

## Xác thực

<ParamField header="Authorization" type="string" required>
  Token Bearer để xác thực API. Định dạng: `Bearer sk-your-api-key`
</ParamField>

Thực hiện poll endpoint này để kiểm tra trạng thái của tác vụ tạo mô hình 3D của bạn.

## Tham số đường dẫn

<ParamField path="id" type="string" required>
  ID của tác vụ tạo mô hình 3D.
</ParamField>

## Phản hồi

<ResponseField name="id" type="string">
  ID tác vụ.
</ResponseField>

<ResponseField name="status" type="string">
  Trạng thái tác vụ: `pending`, `processing`, `completed`, hoặc `failed`.
</ResponseField>

<ResponseField name="progress" type="integer">
  Phần trăm tiến độ (0-100).
</ResponseField>

<ResponseField name="model_url" type="string">
  URL để tải xuống tệp mô hình 3D (khi hoàn tất).
</ResponseField>

<ResponseField name="glb_url" type="string">
  URL để tải xuống mô hình định dạng GLB (khi có sẵn).
</ResponseField>

<ResponseField name="fbx_url" type="string">
  URL để tải xuống mô hình định dạng FBX (khi có sẵn).
</ResponseField>

<ResponseField name="error" type="string">
  Thông báo lỗi (khi thất bại).
</ResponseField>

<RequestExample>
```bash cURL
curl "https://api.lemondata.cc/v1/3d/generations/3d_abc123" \
  -H "Authorization: Bearer sk-your-api-key"
```

```python Python
import requests
import time

task_id = "3d_abc123"

while True:
    response = requests.get(
        f"https://api.lemondata.cc/v1/3d/generations/{task_id}",
        headers={"Authorization": "Bearer sk-your-api-key"}
    )
    result = response.json()

    if result["status"] == "completed":
        print(f"3D Model URL: {result['model_url']}")
        break
    elif result["status"] == "failed":
        print(f"Error: {result['error']}")
        break

    time.sleep(5)  # Poll every 5 seconds
```

```javascript JavaScript
const taskId = '3d_abc123';

async function pollFor3DModel() {
  while (true) {
    const response = await fetch(
      `https://api.lemondata.cc/v1/3d/generations/${taskId}`,
      { headers: { 'Authorization': 'Bearer sk-your-api-key' } }
    );

    const result = await response.json();

    if (result.status === 'completed') {
      console.log(`3D Model URL: ${result.model_url}`);
      return result.model_url;
    } else if (result.status === 'failed') {
      throw new Error(result.error);
    }

    await new Promise(r => setTimeout(r, 5000));
  }
}
```

```go Go
package main

import (
    "encoding/json"
    "fmt"
    "net/http"
    "time"
)

func main() {
    taskID := "3d_abc123"

    for {
        req, _ := http.NewRequest("GET",
            fmt.Sprintf("https://api.lemondata.cc/v1/3d/generations/%s", taskID), nil)
        req.Header.Set("Authorization", "Bearer sk-your-api-key")

        client := &http.Client{}
        resp, _ := client.Do(req)

        var result map[string]interface{}
        json.NewDecoder(resp.Body).Decode(&result)
        resp.Body.Close()

        if result["status"] == "completed" {
            fmt.Printf("3D Model URL: %s\n", result["model_url"])
            break
        } else if result["status"] == "failed" {
            fmt.Printf("Error: %s\n", result["error"])
            break
        }

        time.Sleep(5 * time.Second)
    }
}
```

```php PHP
<?php
$taskId = '3d_abc123';

while (true) {
    $ch = curl_init("https://api.lemondata.cc/v1/3d/generations/{$taskId}");

    curl_setopt_array($ch, [
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_HTTPHEADER => [
            'Authorization: Bearer sk-your-api-key'
        ]
    ]);

    $response = curl_exec($ch);
    curl_close($ch);

    $result = json_decode($response, true);

    if ($result['status'] === 'completed') {
        echo "3D Model URL: {$result['model_url']}\n";
        break;
    } elseif ($result['status'] === 'failed') {
        echo "Error: {$result['error']}\n";
        break;
    }

    sleep(5);
}
```
</RequestExample>

<ResponseExample>
```json Response (Completed)
{
  "id": "3d_abc123def456",
  "status": "completed",
  "model_url": "https://cdn.example.com/3d/abc123.glb",
  "glb_url": "https://cdn.example.com/3d/abc123.glb",
  "fbx_url": "https://cdn.example.com/3d/abc123.fbx"
}
```
</ResponseExample>