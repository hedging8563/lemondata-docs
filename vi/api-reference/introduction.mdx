---
title: 'Tài liệu tham khảo API'
description: 'Tài liệu tham khảo đầy đủ cho LemonData API'
---

## Tổng quan

LemonData API **tương thích với OpenAI**, điều đó có nghĩa là bạn có thể sử dụng OpenAI SDK chính thức chỉ với việc thay đổi URL cơ sở. Chúng tôi cũng hỗ trợ các định dạng yêu cầu gốc của **Anthropic** và **Gemini**.

## URL cơ sở

```
https://api.lemondata.cc
```

## Xác thực

Tất cả các endpoint API đều yêu cầu xác thực bằng Bearer token:

```bash
Authorization: Bearer sk-your-api-key
```

Lấy API key của bạn từ [Dashboard](https://lemondata.cc/dashboard).

## Các Endpoint được hỗ trợ

### Chat & Tạo văn bản

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/chat/completions` | POST | Hoàn thiện chat tương thích với OpenAI |
| `/v1/messages` | POST | API tin nhắn tương thích với Anthropic |
| `/v1/responses` | POST | API phản hồi của OpenAI |

### Embeddings & Rerank

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/embeddings` | POST | Tạo text embeddings |
| `/v1/rerank` | POST | Xếp hạng lại tài liệu |

### Hình ảnh

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/images/generations` | POST | Tạo hình ảnh từ văn bản |
| `/v1/images/edits` | POST | Chỉnh sửa hình ảnh |

### Âm thanh

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/audio/speech` | POST | Chuyển đổi văn bản thành giọng nói (TTS) |
| `/v1/audio/transcriptions` | POST | Chuyển đổi giọng nói thành văn bản (STT) |

### Video

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/videos/generations` | POST | Tạo tác vụ tạo video |
| `/v1/videos/generations/{id}` | GET | Lấy trạng thái tác vụ video |

### Âm nhạc

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/music/generations` | POST | Tạo tác vụ tạo nhạc |
| `/v1/music/generations/{id}` | GET | Lấy trạng thái tác vụ nhạc |

### Tạo mô hình 3D

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/3d/generations` | POST | Tạo tác vụ tạo mô hình 3D |
| `/v1/3d/generations/{id}` | GET | Lấy trạng thái tác vụ 3D |

### Mô hình

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1/models` | GET | Liệt kê tất cả các mô hình có sẵn |
| `/v1/models/{model}` | GET | Lấy thông tin mô hình cụ thể |

### Gemini (v1beta)

Hỗ trợ native định dạng API Google Gemini:

| Endpoint | Phương thức | Mô tả |
|----------|--------|-------------|
| `/v1beta/models/{model}:generateContent` | POST | Tạo nội dung (định dạng Gemini) |
| `/v1beta/models/{model}:streamGenerateContent` | POST | Tạo nội dung streaming (định dạng Gemini) |

<Note>
Các endpoint Gemini hỗ trợ xác thực tham số truy vấn `?key=` ngoài token Bearer tiêu chuẩn.
</Note>

## Định dạng phản hồi

Tất cả các phản hồi đều tuân theo một định dạng nhất quán:

### Phản hồi thành công

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1234567890,
  "model": "gpt-4o",
  "choices": [...],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  }
}
```

### Tính minh bạch trong điều hướng (Routing)

Tất cả các phản hồi đều bao gồm trường `_routing` với thông tin kênh:

```json
{
  "id": "chatcmpl-abc123",
  ...,
  "_routing": {
    "channel": {
      "id": "ch_xxx",
      "name": "channel-name",
      "provider": "openai",
      "channelType": "PLATFORM"
    },
    "cached": false,
    "retryCount": 0
  }
}
```

| Trường | Mô tả |
|-------|-------------|
| `channel.id` | Định danh kênh được sử dụng |
| `channel.provider` | Nhà cung cấp thượng nguồn (openai, anthropic, v.v.) |
| `channel.channelType` | `PLATFORM` (LemonData) hoặc `PRIVATE` (BYOK) |
| `cached` | Liệu phản hồi có được cung cấp từ bộ nhớ đệm (cache) hay không |
| `retryCount` | Số lần thử lại (nếu có) |

### Phản hồi lỗi

```json
{
  "error": {
    "message": "Invalid API key provided",
    "type": "invalid_api_key",
    "code": "invalid_api_key"
  }
}
```

## Giới hạn tốc độ (Rate Limits)

Giới hạn tốc độ dựa trên vai trò và có thể cấu hình bởi quản trị viên. Các giá trị mặc định:

| Vai trò | Yêu cầu/phút |
|------|-------------|
| Người dùng | 60 |
| Đối tác | 300 |
| VIP | 1,000 |

<Note>
Liên hệ bộ phận hỗ trợ để biết giới hạn tốc độ tùy chỉnh. Các giá trị chính xác có thể thay đổi tùy theo cấu hình tài khoản.
</Note>

Các header giới hạn tốc độ được bao gồm trong tất cả các phản hồi:

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 55
X-RateLimit-Reset: 1234567890
```

## Đặc tả OpenAPI

<Card
  title="Đặc tả OpenAPI"
  icon="file-code"
  href="/openapi.json"
>
  Tải xuống bản đặc tả OpenAPI 3.0 đầy đủ
</Card>