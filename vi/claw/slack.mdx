---
title: "Slack"
description: "Kết nối instance Claw của bạn với không gian làm việc Slack bằng Socket Mode"
---

Thêm trợ lý AI vào không gian làm việc Slack của bạn bằng Socket Mode — không yêu cầu URL công khai.

## Điều kiện tiên quyết

- Một không gian làm việc [Slack](https://slack.com/) mà bạn có quyền quản trị
- Một instance Claw ([tạo tại đây](https://lemondata.cc/dashboard/claw))

## Hướng dẫn thiết lập

<Steps>
  <Step title="Tạo một Slack App">
    1. Truy cập [Slack API](https://api.slack.com/apps) và nhấp vào **Create New App**
    2. Chọn **From scratch**
    3. Nhập tên ứng dụng (ví dụ: "AI Assistant") và chọn không gian làm việc của bạn
    4. Nhấp vào **Create App**
  </Step>
  <Step title="Bật Socket Mode">
    1. Ở thanh bên trái, đi tới **Socket Mode**
    2. Chuyển **Enable Socket Mode** sang ON
    3. Đặt tên cho token (ví dụ: "claw-socket") và nhấp vào **Generate**
    4. Sao chép **App-Level Token** (bắt đầu bằng `xapp-`) — bạn sẽ cần mã này
  </Step>
  <Step title="Cấu hình quyền cho Bot">
    1. Đi tới **OAuth & Permissions** ở thanh bên
    2. Dưới mục **Bot Token Scopes**, thêm các scope sau:
       - `chat:write` — Gửi tin nhắn
       - `im:history` — Đọc lịch sử DM
       - `im:read` — Xem DM
       - `im:write` — Bắt đầu DM
       - `app_mentions:read` — Phát hiện @mention
    3. Nhấp vào **Install to Workspace** ở phía trên
    4. Ủy quyền cho ứng dụng
    5. Sao chép **Bot User OAuth Token** (bắt đầu bằng `xoxb-`)
  </Step>
  <Step title="Bật Events">
    1. Đi tới **Event Subscriptions** ở thanh bên
    2. Chuyển **Enable Events** sang ON
    3. Dưới mục **Subscribe to bot events**, thêm:
       - `message.im` — Tin nhắn trong DM
       - `app_mention` — @mention trong các kênh
    4. Nhấp vào **Save Changes**
  </Step>
  <Step title="Cấu hình trong Dashboard LemonData">
    1. Truy cập [Claw Dashboard](https://lemondata.cc/dashboard/claw) của bạn
    2. Nhấp vào **biểu tượng cài đặt** trên instance của bạn
    3. Mở tab **IM Integrations**
    4. Mở rộng phần **Slack**
    5. Dán **App Token** (`xapp-...`) và **Bot Token** (`xoxb-...`) của bạn
    6. Nhấp vào **Save**
  </Step>
  <Step title="Bắt đầu trò chuyện">
    1. Trong Slack, gửi một DM cho bot của bạn hoặc @mention nó trong một kênh
    2. Người dùng đầu tiên sẽ **tự động được ghép cặp** làm chủ sở hữu — không cần code!
    3. Bắt đầu trò chuyện với AI!
  </Step>
</Steps>

## Kiểm soát truy cập

### Cài đặt nhóm

Cấu hình quyền truy cập kênh trong tab **IM Integrations** trên Dashboard của bạn:

| Cài đặt | Tùy chọn | Mô tả |
|---------|---------|-------------|
| **Group Policy** | Open (mặc định) / Allowlist / Disabled | Kiểm soát các kênh mà bot sẽ phản hồi |
| **Require @mention** | On / Off | Bot chỉ phản hồi khi được @mention |
| **Group IDs** | Danh sách ID kênh | Giới hạn ở các kênh cụ thể (để trống = tất cả các kênh) |
| **Group Allowed Users** | Danh sách ID người dùng | Chỉ những người dùng này mới có thể kích hoạt bot (chế độ allowlist) |

<Tip>
Theo mặc định, Slack sử dụng chính sách nhóm **open** — bot sẽ phản hồi trong tất cả các kênh mà nó được mời vào. Sử dụng **allowlist** để giới hạn ở các kênh cụ thể.
</Tip>

## Khắc phục sự cố

<AccordionGroup>
  <Accordion title="Bot không phản hồi DM">
    - Xác minh cả hai token đều chính xác (App Token bắt đầu bằng `xapp-`, Bot Token bằng `xoxb-`)
    - Kiểm tra xem event `message.im` đã được đăng ký chưa
    - Đảm bảo ứng dụng đã được cài đặt vào không gian làm việc của bạn
  </Accordion>
  <Accordion title="Bot không phản hồi @mention">
    - Kiểm tra xem scope `app_mentions:read` và event `app_mention` đã được cấu hình chưa
    - Bot phải được mời vào kênh trước (nhập `/invite @botname`)
  </Accordion>
  <Accordion title="Lỗi 'not_allowed_token_type'">
    - Đảm bảo bạn đang sử dụng **App-Level Token** (`xapp-`) cho trường App Token, không phải Bot Token
    - Bot Token (`xoxb-`) được điền vào trường Bot Token
  </Accordion>
</AccordionGroup>