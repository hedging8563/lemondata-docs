---
title: "Discord"
description: "Kết nối instance Claw của bạn với Discord bằng ứng dụng bot"
---

Kết nối instance Claw của bạn với Discord và trò chuyện trực tiếp với AI trong máy chủ hoặc DM của bạn.

## Điều kiện tiên quyết

- Một tài khoản [Discord](https://discord.com/)
- Một máy chủ Discord nơi bạn có quyền **Quản lý Máy chủ** (**Manage Server**)
- Một instance Claw ([tạo tại đây](https://lemondata.cc/dashboard/claw))

## Hướng dẫn thiết lập

<Steps>
  <Step title="Tạo một Ứng dụng Discord">
    1. Truy cập [Discord Developer Portal](https://discord.com/developers/applications)
    2. Nhấp vào **New Application**
    3. Đặt tên cho ứng dụng (ví dụ: "My AI Bot") và nhấp vào **Create**
  </Step>
  <Step title="Tạo một Bot">
    1. Trong ứng dụng của bạn, đi tới tab **Bot**
    2. Nhấp vào **Add Bot** → **Yes, do it!**
    3. Dưới mục **Privileged Gateway Intents**, hãy bật:
       - **Message Content Intent** (bắt buộc)
       - **Server Members Intent** (khuyên dùng)
    4. Nhấp vào **Reset Token** để tạo một bot token
    5. Sao chép token — bạn sẽ cần nó ở bước tiếp theo
    <Warning>
    Token chỉ được hiển thị một lần. Nếu bạn làm mất, bạn sẽ cần phải reset lại nó.
    </Warning>
  </Step>
  <Step title="Mời Bot vào Máy chủ của bạn">
    1. Đi tới tab **OAuth2** → **URL Generator**
    2. Dưới mục **Scopes**, chọn: `bot`, `applications.commands`
    3. Dưới mục **Bot Permissions**, chọn: `Send Messages`, `Read Message History`
    4. Sao chép URL đã tạo và mở nó trong trình duyệt của bạn
    5. Chọn máy chủ của bạn và nhấp vào **Authorize**
  </Step>
  <Step title="Cấu hình trong Dashboard LemonData">
    1. Truy cập [Claw Dashboard](https://lemondata.cc/dashboard/claw) của bạn
    2. Nhấp vào **biểu tượng cài đặt** trên instance của bạn
    3. Mở tab **IM Integrations**
    4. Mở rộng phần **Discord**
    5. Dán **Bot Token** của bạn vào
    6. Nhấp vào **Save**
  </Step>
  <Step title="Bắt đầu trò chuyện">
    1. Trong máy chủ Discord của bạn, nhắc đến (@mention) bot hoặc gửi cho nó một DM
    2. Người dùng đầu tiên sẽ **tự động được ghép cặp** làm chủ sở hữu — không cần code!
    3. Bắt đầu trò chuyện với AI!
  </Step>
</Steps>

## Sử dụng trong Máy chủ

### Cài đặt Nhóm

Cấu hình hành vi của máy chủ (guild) trong tab **IM Integrations** trên Dashboard của bạn:

| Cài đặt | Tùy chọn | Mô tả |
|---------|---------|-------------|
| **Group Policy** | Open (mặc định) / Allowlist / Disabled | Kiểm soát quyền truy cập vào các kênh máy chủ |
| **Require @mention** | Bật / Tắt | Bot chỉ phản hồi khi được @mention (khuyên dùng) |
| **Group IDs** | Danh sách guild ID | Giới hạn ở các máy chủ cụ thể (để trống = tất cả máy chủ) |

<Note>
Discord sử dụng allowlist người dùng theo từng guild thay vì allowlist nhóm toàn cầu. Để lọc người dùng nâng cao theo từng guild, hãy cấu hình trực tiếp trong tệp cấu hình OpenClaw.
</Note>

### Chính sách DM

Kiểm soát những ai có thể gửi tin nhắn trực tiếp cho bot của bạn:

| Chính sách | Hành vi |
|--------|----------|
| **Pairing** (mặc định) | Người dùng mới nhận được mã ghép cặp — nhập mã đó vào WebUI để ủy quyền |
| **Allowlist** | Chỉ những ID người dùng bạn chỉ định mới có thể DM cho bot |
| **Open** | Bất kỳ ai cũng có thể DM cho bot (thận trọng khi sử dụng) |

## Xử lý sự cố

<AccordionGroup>
  <Accordion title="Bot đang trực tuyến nhưng không phản hồi">
    - Đảm bảo **Message Content Intent** đã được bật trong Developer Portal
    - Xác minh bot token là chính xác
    - Kiểm tra xem bot có quyền đọc và gửi tin nhắn trong kênh hay không
  </Accordion>
  <Accordion title="Bot hiển thị ngoại tuyến">
    - Kiểm tra trạng thái instance trong dashboard (phải là màu xanh/đang chạy)
    - Thử khởi động lại instance
    - Xác minh rằng token chưa bị reset trong Developer Portal
  </Accordion>
  <Accordion title="Lỗi 409 Conflict trong nhật ký (logs)">
    - Điều này xảy ra khi hai instance cố gắng sử dụng cùng một bot token
    - Đảm bảo chỉ có một instance Claw được cấu hình với token này
  </Accordion>
</AccordionGroup>