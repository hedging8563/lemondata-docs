---
title: "DingTalk"
description: "Connect your Claw instance to DingTalk using Stream mode"
---

Connect DingTalk (钉钉) to your Claw instance using Stream mode — a WebSocket-based connection that requires no public URL.

## Prerequisites

- A [DingTalk](https://www.dingtalk.com/) account with enterprise admin access
- A Claw instance ([create one here](https://lemondata.cc/dashboard/claw))

## Setup Guide

<Steps>
  <Step title="Create a DingTalk App">
    1. Go to [DingTalk Open Platform](https://open-dev.dingtalk.com/)
    2. Click **Application Development** → **Enterprise Internal Development**
    3. Click **Create Application**
    4. Enter an app name and description
    5. Click **Confirm**
  </Step>
  <Step title="Enable Robot Capability">
    1. In your app, go to **App Features** → **Robot**
    2. Enable the robot configuration
    3. Select **Stream Mode** (recommended — no public URL needed)
    4. Click **Publish**

    <Tip>
    Stream mode uses WebSocket, so your Claw instance doesn't need a publicly accessible webhook URL. This is the simplest setup.
    </Tip>
  </Step>
  <Step title="Get Credentials">
    1. Go to **Basic Information** → **Credentials**
    2. Copy the **AppKey** and **AppSecret**
  </Step>
  <Step title="Publish the App">
    1. Go to **Version Management**
    2. Create a new version (at minimum a test version)
    3. Set the visible range (which users/departments can see the bot)
    4. Submit and publish
  </Step>
  <Step title="Configure in LemonData Dashboard">
    1. Go to your [Claw Dashboard](https://lemondata.cc/dashboard/claw)
    2. Click the **settings icon** on your instance
    3. Open the **IM Integrations** tab
    4. Expand the **DingTalk** section
    5. Paste your **AppKey** and **AppSecret**
    6. Click **Save**
  </Step>
  <Step title="Start Chatting">
    1. In DingTalk, search for your bot by name
    2. Send it a message
    3. The first user is **automatically paired** as the owner — no code needed!
    4. Start chatting with AI!
  </Step>
</Steps>

## Group Settings

Configure group chat behavior in the **IM Integrations** tab of your Dashboard:

| Setting | Options | Description |
|---------|---------|-------------|
| **Group Policy** | Open (default) / Allowlist / Disabled | Controls who can trigger the bot in groups |
| **Group Allowed Users** | List of user IDs | Only these users can trigger the bot (allowlist mode) |

<Note>
DingTalk **always requires @mention** to trigger the bot in groups — this is a platform limitation and cannot be configured. Group IDs filtering is not available for DingTalk; use the Group Policy setting to control access.
</Note>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Bot doesn't respond">
    - Verify AppKey and AppSecret are correct
    - Check that the app is published (at least test version)
    - Make sure Stream mode is selected in the robot configuration
    - Verify the bot is visible to your user account
  </Accordion>
  <Accordion title="Connection drops frequently">
    - Stream mode maintains a persistent WebSocket connection
    - Brief disconnections are normal — the bot will auto-reconnect
    - If persistent, try restarting the instance from the dashboard
  </Accordion>
</AccordionGroup>
