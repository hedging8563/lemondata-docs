---
title: "Dify"
description: "將 LemonData 與 Dify 整合以構建 LLM 應用程式"
---

## 概覽

Dify 是一個開源的 LLM 應用程式開發平台。它提供視覺化的 Prompt 編排、RAG 流水線、Agent 框架以及 LLMOps 能力。LemonData 可以被配置為 Dify 中的自定義模型供應商。

## 優勢

- 透過單一介面存取 300+ AI 模型
- 無需更改應用程式邏輯即可切換模型
- 為每項任務選擇最佳模型以優化成本
- 統一的計費與用量追蹤

## 先決條件

- 具備 API 存取權限的 LemonData 帳戶
- Dify 安裝（雲端版或私有化部署）

## 配置步驟

### 步驟 1：獲取您的 API Key

1. 登入 [LemonData Dashboard](https://lemondata.cc/dashboard)
2. 導航至 [API Keys](https://lemondata.cc/dashboard/api)
3. 建立並複製您的 API Key（格式：`sk-...`）

### 步驟 2：新增自定義模型供應商

<Steps>
  <Step title="開啟設定">
    在 Dify 中，前往 **Settings** → **Model Provider**
  </Step>
  <Step title="新增 OpenAI 相容供應商">
    點擊 **Add Model Provider** 並選擇 **OpenAI-API-compatible**
  </Step>
  <Step title="配置供應商">
    輸入以下設定：

    | 欄位 | 值 |
    |-------|-------|
    | 供應商名稱 | LemonData |
    | API Key | `sk-your-lemondata-key` |
    | API Base URL | `https://api.lemondata.cc/v1` |
  </Step>
  <Step title="新增模型">
    新增您想要使用的模型：
    - `gpt-4o`
    - `gpt-4o-mini`
    - `claude-sonnet-4-5`
    - `claude-opus-4-5`
    - `gemini-2.5-flash`
    - `gemini-2.5-pro`
    - `deepseek-r1`
  </Step>
</Steps>

### 步驟 3：測試連線

1. 選擇一個模型（例如 `gpt-4o-mini`）
2. 發送一條測試訊息
3. 確認您收到回覆

## 在應用程式中使用

### 聊天機器人 (Chatbot)

1. 建立一個新的 Chatbot 應用程式
2. 選擇 LemonData 作為模型供應商
3. 選擇您偏好的模型
4. 配置系統提示詞 (System Prompt) 與參數

### 代理 (Agent)

1. 建立一個 Agent 應用程式
2. 選擇一個能力強大的模型 (GPT-4o, Claude)
3. 新增工具與知識庫
4. 配置 Agent 行為

### 工作流 (Workflow)

1. 建立一個工作流
2. 新增 LLM 節點
3. 為每個節點選擇 LemonData 模型
4. 連接節點並配置數據流

## 可用模型

| 類別 | 模型 |
|----------|--------|
| 對話 (Chat) | GPT-4o, GPT-4o-mini, Claude Sonnet/Opus, Gemini, DeepSeek |
| 嵌入 (Embeddings) | text-embedding-3-small, text-embedding-3-large |
| 視覺 (Vision) | GPT-4o (支援圖片), Claude Sonnet (支援圖片) |

## RAG 配置

對於 RAG 應用程式，請配置嵌入模型：

1. 前往 **Settings** → **Model Provider**
2. 新增嵌入模型：`text-embedding-3-small`
3. 在知識庫設定中將其設為預設嵌入模型

## 最佳實踐

<AccordionGroup>
  <Accordion title="從經濟型模型開始">
    在測試和開發階段使用 `gpt-4o-mini`，在正式環境切換到更強大的模型。
  </Accordion>

  <Accordion title="使用模型路由">
    為不同任務配置不同模型 — 簡單查詢使用快速模型，複雜推理使用強大模型。
  </Accordion>

  <Accordion title="監控用量">
    結合使用 Dify 的 LLMOps 功能與 LemonData 控制台來追蹤成本與效能。
  </Accordion>
</AccordionGroup>

## 疑難排解

<AccordionGroup>
  <Accordion title="連線錯誤">
    - 確認 API Base URL 準確為 `https://api.lemondata.cc/v1`
    - 檢查結尾是否有斜線
    - 檢查網路連線
  </Accordion>

  <Accordion title="401 未授權 (Unauthorized)">
    - 再次檢查 API Key
    - 確保該 Key 在 LemonData 控制台中處於啟用狀態
  </Accordion>

  <Accordion title="找不到模型">
    - 確認模型名稱完全匹配
    - 在 [lemondata.cc/en/models](https://lemondata.cc/zh-TW/models) 檢查模型可用性
  </Accordion>
</AccordionGroup>