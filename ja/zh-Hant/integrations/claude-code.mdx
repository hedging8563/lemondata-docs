---
title: "Claude Code"
description: "AnthropicのClaude Code CLIでLemonDataを使用する"
---

## 概要

[Claude Code](https://docs.anthropic.com/en/docs/claude-code)は、Anthropicが公式に提供しているAI支援コーディングCLIツールです。LemonDataをAPIプロバイダーとして使用するように設定できます。

## 設定

### 環境変数

以下の環境変数を設定します：

```bash
export ANTHROPIC_API_KEY="sk-your-lemondata-key"
export ANTHROPIC_BASE_URL="https://api.lemondata.cc"
```

これらをシェル設定ファイル（`~/.bashrc`、`~/.zshrc`など）に追加して、永続的に有効にします。

### 設定ファイル

または、`~/.claude/settings.json`を作成または編集します：

```json
{
  "env": {
    "ANTHROPIC_API_KEY": "sk-your-lemondata-key",
    "ANTHROPIC_BASE_URL": "https://api.lemondata.cc"
  }
}
```

## 使用方法

設定が完了すると、通常通りClaude Codeを使用できます：

```bash
# Start an interactive session
claude

# Run a single command
claude "Explain this code" < main.py

# Chat mode
claude chat
```

## 利用可能なモデル

LemonDataはすべてのClaudeモデルをサポートしています：

| モデル | 説明 |
|-------|-------------|
| `claude-opus-4-5` | 複雑な推論に適した、最も強力なモデル |
| `claude-sonnet-4-5` | パフォーマンスのバランスが良く、コーディングに最適 |
| `claude-haiku-4-5` | 最も高速で、コスト効率に優れています |

## モデルの選択

`--model`フラグを使用してモデルを指定します：

```bash
claude --model claude-sonnet-4-5 "Review this PR"
```

または、設定でデフォルト値を設定します：

```json
{
  "env": {
    "ANTHROPIC_API_KEY": "sk-your-lemondata-key",
    "ANTHROPIC_BASE_URL": "https://api.lemondata.cc"
  },
  "model": "claude-sonnet-4-5"
}
```

## 拡張思考

複雑な推論タスクには、拡張思考（Extended Thinking）機能を備えたモデルを使用してください：

```bash
claude --model claude-opus-4-5 "Design a microservices architecture for..."
```

## トラブルシューティング

<AccordionGroup>
  <Accordion title="接続エラー">
    ベースURLが正確に`https://api.lemondata.cc`であることを確認してください（Anthropic SDKには`/v1`サフィックスは不要です）。
  </Accordion>

  <Accordion title="無効な API キー">
    LemonDataのAPIキーが`sk-`で始まり、残高が十分であることを確認してください。
  </Accordion>

  <Accordion title="モデルが見つかりません">
    モデル名が正しいか確認してください。`claude-sonnet-4-5`形式を使用してください。
  </Accordion>
</AccordionGroup>

## メリット

<CardGroup cols={2}>
  <Card title="コスト削減" icon="piggy-bank">
    LemonDataは競争力のある価格と大幅な割引を提供します。
  </Card>
  <Card title="より高いレート制限" icon="gauge">
    ほとんどのユーザーに対して、公式APIよりも緩和されたレート制限を提供します。
  </Card>
  <Card title="多様なモデル" icon="layer-group">
    Claudeに加えて、300以上のモデルにアクセス可能です。
  </Card>
  <Card title="使用状況の追跡" icon="chart-line">
    ダッシュボードで詳細な使用状況分析を確認できます。
  </Card>
</CardGroup>