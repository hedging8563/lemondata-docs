---
title: "AIコーディングエージェント・スキル"
description: "Claude Code、Cursor、Copilotなどへのワンクリック・インストール — Agent-Firstなエラーリカバリ機能を搭載"
---

<Note>
このスキルは、必要な内容を説明するだけで、LemonDataの**300以上のAI API**をコーディングエージェントに統合する方法を教えます。**Claude Code、Cursor、GitHub Copilot、Windsurf**、およびスキル/ルールファイルをサポートするあらゆるツールで動作します。

このAPIは**[Agent-First](/guides/agent-first-api)**です。エージェントがモデル名を間違えて推測した場合でも、エラーレスポンスが修正方法を正確に伝えます。
</Note>

## 仕組み

1. **必要な内容を説明する** — 「PythonプロジェクトでGPT-4を使いたい」
2. **エージェントがAPIを呼び出す** — モデル名やエンドポイントを推測する場合があります
3. **問題が発生した場合** — APIが構造化されたヒント（`did_you_mean`、`suggestions`、`retry_after`）を返します
4. **エージェントが自己修正する** — ヒントを読み取り、正しいパラメータで再試行します
5. **動作するコードが完成する** — 通常、1回目または2回目の試行で完了します

## インストール

<Tabs>
  <Tab title="npx (推奨)">
    **検出されたすべてのコーディングエージェント**に自動的にインストールします：

    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    対応：Claude Code、Cursor、GitHub Copilotなど。
  </Tab>
  <Tab title="Claude Code">
    **個人用**（すべてのプロジェクト）：
    ```bash
    git clone https://github.com/hedging8563/lemondata-api-skill.git ~/.claude/skills/lemondata-api-integration
    ```

    **プロジェクト固有**（チームで共有）：
    ```bash
    git clone https://github.com/hedging8563/lemondata-api-skill.git .claude/skills/lemondata-api-integration
    ```
  </Tab>
  <Tab title="Cursor">
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    または、スキルの内容を手動で`.cursor/rules/`または`.cursorrules`ファイルにコピーしてください。
  </Tab>
  <Tab title="GitHub Copilot">
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```

    または、スキルの内容を手動で`.github/copilot-instructions.md`にコピーしてください。
  </Tab>
</Tabs>

### インストールの確認

コーディングエージェントに尋ねてください：
```
What skills are available?
```

`lemondata-api-integration`が表示されれば、インストールは成功です。

## APIキーの取得

<Steps>
  <Step title="LemonDataにアクセスする">
    [lemondata.cc](https://lemondata.cc)にアクセスします
  </Step>
  <Step title="サインイン">
    アカウントを作成するか、ログインします
  </Step>
  <Step title="APIキーを取得する">
    [Dashboard → API Keys](https://lemondata.cc/dashboard/api)に移動し、新しいキーを作成します
  </Step>
  <Step title="キーをコピーする">
    キーは`sk-...`で始まります。安全に保存してください
  </Step>
</Steps>

<Tip>
事前にAPIキーを設定する必要はありません。スキルを使用する際、エージェントがキーを尋ね、生成されたコードに含めます。
</Tip>

## 例

### チャット補完

**ユーザー：**
```
I want to use GPT-4 in my Python project
```

**エージェントの生成結果：**
```python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role": "user", "content": "Hello!"}]
)

print(response.choices[0].message.content)
```

エージェントが誤ったモデル名（例：`gpt5`）を推測した場合、APIは以下を返します：
```json
{
  "error": {
    "code": "model_not_found",
    "did_you_mean": "gpt-4o",
    "suggestions": [{"id": "gpt-4o"}, {"id": "gpt-4o-mini"}],
    "hint": "Did you mean 'gpt-4o'? Use GET /v1/models to list all available models."
  }
}
```

エージェントは`did_you_mean`を読み取り、モデル名を修正して再試行します。これらはすべて自動的に行われます。

### 画像生成

**ユーザー：**
```
Generate images with Flux in Node.js
```

エージェントは画像APIを呼び出し、エラーを処理し、ダウンロードと保存のロジックを含む完全なコードを生成します。

### 音声認識

**ユーザー：**
```
Integrate speech-to-text in my app
```

エージェントは、正しい`/v1/audio/transcriptions`エンドポイントとオーディオファイル処理を含むコードを生成します。

## Agent-Firstなエラーリカバリ

すべてのエラーレスポンスには、あらゆるコーディングエージェントが解析可能な構造化されたヒントが含まれています。詳細は[Agent-First APIリファレンス全文](/guides/agent-first-api)を参照してください。

| エラー | APIの返却内容 | エージェントの動作 |
|-------|---------------------|---------------------|
| 誤ったモデル名 | `did_you_mean` + `suggestions` | 自動修正して再試行 |
| 残高不足 | `balance_usd` + 安価な `suggestions` | 安価なモデルに切り替え |
| モデル利用不可 | `alternatives` + `retry_after` | 利用可能なモデルに切り替え |
| レート制限 | `retry_after` (正確な秒数) | 待機して再試行 |
| コンテキストが長すぎる | より大きなモデルの `suggestions` | より大きなコンテキストを持つモデルに切り替え |

### ネイティブエンドポイントの最適化

ClaudeまたはGeminiモデルで`/v1/chat/completions`を呼び出すと、APIは最適化ヘッダーを返します：

```
X-LemonData-Hint: This model supports native Anthropic format. Use POST /v1/messages for better performance.
X-LemonData-Native-Endpoint: /v1/messages
```

エージェントは、パフォーマンス向上のために自動的にネイティブエンドポイントに切り替えます（フォーマット変換なし、extended thinking、プロンプトキャッシュなど）。

### モデルの探索

ドキュメントを探す必要はありません：

```bash
# マシンリーダブルなAPI概要
curl https://lemondata.cc/llms.txt

# カテゴリ別にモデルを一覧表示
curl "https://api.lemondata.cc/v1/models?category=chat" -H "Authorization: Bearer sk-KEY"
curl "https://api.lemondata.cc/v1/models?category=image" -H "Authorization: Bearer sk-KEY"

# 機能でフィルタリング
curl "https://api.lemondata.cc/v1/models?tag=coding" -H "Authorization: Bearer sk-KEY"
```

## サポートされている機能

| タイプ | 例 |
|------|----------|
| チャット | GPT-4o, Claude, Gemini, DeepSeek |
| 画像生成 | Midjourney, Flux, Stable Diffusion |
| 動画生成 | Sora, Runway, Kling, Luma AI |
| 音楽生成 | Suno |
| 3Dモデル | Tripo3D |
| オーディオ | Text-to-Speech, Speech-to-Text |
| 埋め込み | text-embedding-3 |
| リランク | bce-reranker, qwen3-rerank |

## ベストプラクティス

<CardGroup cols={2}>
  <Card title="APIキーのセキュリティ" icon="shield">
    環境変数を使用してください。キーをgitにコミットしたり、フロントエンドのコードに公開したりしないでください。
  </Card>
  <Card title="コスト管理" icon="wallet">
    [ダッシュボード](https://lemondata.cc/dashboard)で使用制限を設定してください。プログラムでコストを監視するには`error.balance_usd`を確認してください。
  </Card>
  <Card title="単刀直入に伝える" icon="bullseye">
    「LemonDataに画像APIはありますか？」ではなく「Pythonで画像を生成したい」と伝えてください。
  </Card>
  <Card title="シナリオを説明する" icon="message">
    「GPT-4を使用する」よりも「GPT-4でチャットボットを構築している」と伝える方が、エージェントにより多くのコンテキストを提供できます。
  </Card>
</CardGroup>

## FAQ

<AccordionGroup>
  <Accordion title="スキルが自動的にトリガーされませんか？">
    リクエスト内で「LemonData」または「LemonData API」と言及してみてください：
    ```
    Use LemonData to integrate GPT-4 in my project
    ```
  </Accordion>

  <Accordion title="APIはどのようにしてエージェントが正しいモデルを見つけるのを助けますか？">
    LemonDataの[Agent-First API](/guides/agent-first-api)は、構造化されたエラーヒントを返します。エージェントが誤ったモデル名を推測した場合、エラーには正しい名前を含む`did_you_mean`と代替案を含む`suggestions`が含まれます。エージェントはこれらを読み取り、次回の試行で自動修正します。
  </Accordion>

  <Accordion title="どのコーディングエージェントがサポートされていますか？">
    スキル/ルールファイルをサポートするあらゆるツール（Claude Code、Cursor、GitHub Copilot、Windsurfなど）に対応しています。`npx add-skill`インストーラーは、サポートされているすべてのツールを自動検出し、インストールします。
  </Accordion>

  <Accordion title="スキルの更新方法は？">
    インストーラーを再実行してください：
    ```bash
    npx add-skill hedging8563/lemondata-api-skill -y
    ```
  </Accordion>
</AccordionGroup>

## リソース

<CardGroup cols={2}>
  <Card title="Agent-First API" icon="robot" href="/guides/agent-first-api">
    構造化されたエラーヒントの完全なリファレンス
  </Card>
  <Card title="APIドキュメント" icon="book" href="https://docs.lemondata.cc">
    完全なAPIリファレンス
  </Card>
  <Card title="モデル" icon="sparkles" href="https://lemondata.cc/ja/models">
    利用可能な300以上の全モデルを閲覧
  </Card>
  <Card title="llms.txt" icon="file-lines" href="https://lemondata.cc/llms.txt">
    AIエージェント向けのマシンリーダブルなAPI概要
  </Card>
</CardGroup>

<Info>
**ご質問がありますか？** [GitHub Issues](https://github.com/hedging8563/lemondata-api-skill/issues)を確認するか、[support@lemondata.cc](mailto:support@lemondata.cc)までお問い合わせください。
</Info>