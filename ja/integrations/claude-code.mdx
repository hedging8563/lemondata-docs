---
title: "Claude Code"
description: "LemonDataをAnthropicのClaude Code CLIで使用する"
---

## 概要

[Claude Code](https://docs.anthropic.com/en/docs/claude-code)は、AnthropicによるAI支援コーディング用の公式CLIツールです。LemonDataをAPIプロバイダーとして使用するように設定できます。

## 設定

### 環境変数

以下の環境変数を設定します：

```bash
export ANTHROPIC_API_KEY="sk-your-lemondata-key"
export ANTHROPIC_BASE_URL="https://api.lemondata.cc"
```

永続化するために、これらをシェルプロファイル（`~/.bashrc`、`~/.zshrc`など）に追加してください。

### 設定ファイル

または、`~/.claude/settings.json`を作成または編集します：

```json
{
  "env": {
    "ANTHROPIC_API_KEY": "sk-your-lemondata-key",
    "ANTHROPIC_BASE_URL": "https://api.lemondata.cc"
  }
}
```

## 使い方

設定後、通常通りClaude Codeを使用します：

```bash
# インタラクティブセッションを開始
claude

# 単一のコマンドを実行
claude "Explain this code" < main.py

# チャットモード
claude chat
```

## 利用可能なモデル

LemonDataはすべてのClaudeモデルをサポートしています：

| モデル | 説明 |
|-------|-------------|
| `claude-opus-4-5` | 最も高性能、複雑な推論 |
| `claude-sonnet-4-5` | バランスの取れたパフォーマンス、コーディングに最適 |
| `claude-haiku-4-5` | 最速、コスト効率が高い |

## モデルの選択

`--model`フラグでモデルを指定します：

```bash
claude --model claude-sonnet-4-5 "Review this PR"
```

または、設定でデフォルトを指定します：

```json
{
  "env": {
    "ANTHROPIC_API_KEY": "sk-your-lemondata-key",
    "ANTHROPIC_BASE_URL": "https://api.lemondata.cc"
  },
  "model": "claude-sonnet-4-5"
}
```

## Extended Thinking

複雑な推論タスクには、Extended Thinkingを備えたモデルを使用します：

```bash
claude --model claude-opus-4-5 "Design a microservices architecture for..."
```

## トラブルシューティング

<AccordionGroup>
  <Accordion title="接続エラー">
    ベースURLが正確に`https://api.lemondata.cc`であることを確認してください（Anthropic SDKの場合、`/v1`サフィックスは不要です）。
  </Accordion>

  <Accordion title="無効なAPIキー">
    LemonDataのAPIキーが`sk-`で始まり、十分な残高があることを確認してください。
  </Accordion>

  <Accordion title="モデルが見つかりません">
    モデル名が正しいか確認してください。`claude-sonnet-4-5`の形式を使用します。
  </Accordion>
</AccordionGroup>

## メリット

<CardGroup cols={2}>
  <Card title="コスト削減" icon="piggy-bank">
    LemonDataは、大幅な割引を伴う競争力のある価格設定を提供します。
  </Card>
  <Card title="より高いレート制限" icon="gauge">
    ほとんどのユーザーにとって、公式APIよりも寛容なレート制限を提供します。
  </Card>
  <Card title="複数のモデル" icon="layer-group">
    Claudeだけでなく、300以上のモデルにアクセス可能です。
  </Card>
  <Card title="使用状況の追跡" icon="chart-line">
    ダッシュボードで詳細な使用状況分析を確認できます。
  </Card>
</CardGroup>