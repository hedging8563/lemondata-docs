---
title: "Slack"
description: "Socket Modeを使用して、ClawインスタンスをSlackワークスペースに接続します"
---

Socket Modeを使用して、SlackワークスペースにAIアシスタントを追加します。パブリックURLは不要です。

## 前提条件

- 管理者権限を持つ [Slack](https://slack.com/) ワークスペース
- Clawインスタンス（[こちらで作成](https://lemondata.cc/dashboard/claw)）

## セットアップガイド

<Steps>
  <Step title="Slackアプリの作成">
    1. [Slack API](https://api.slack.com/apps)にアクセスし、**Create New App**をクリックします
    2. **From scratch**を選択します
    3. アプリ名（例：「AI Assistant」）を入力し、ワークスペースを選択します
    4. **Create App**をクリックします
  </Step>
  <Step title="Socket Modeの有効化">
    1. 左サイドバーの**Socket Mode**に移動します
    2. **Enable Socket Mode**をONに切り替えます
    3. トークンに名前（例：「claw-socket」）を付け、**Generate**をクリックします
    4. **App-Level Token**（`xapp-`で始まるもの）をコピーします。これは後で必要になります
  </Step>
  <Step title="Bot権限の設定">
    1. サイドバーの**OAuth & Permissions**に移動します
    2. **Bot Token Scopes**で、以下のスコープを追加します：
       - `chat:write` — メッセージの送信
       - `im:history` — DM履歴の読み取り
       - `im:read` — DMの表示
       - `im:write` — DMの開始
       - `app_mentions:read` — @メンションの検出
    3. 上部の**Install to Workspace**をクリックします
    4. アプリを承認します
    5. **Bot User OAuth Token**（`xoxb-`で始まるもの）をコピーします
  </Step>
  <Step title="イベントの有効化">
    1. サイドバーの**Event Subscriptions**に移動します
    2. **Enable Events**をONに切り替えます
    3. **Subscribe to bot events**で、以下を追加します：
       - `message.im` — DM内のメッセージ
       - `app_mention` — チャンネル内での@メンション
    4. **Save Changes**をクリックします
  </Step>
  <Step title="LemonDataダッシュボードでの設定">
    1. [Clawダッシュボード](https://lemondata.cc/dashboard/claw)に移動します
    2. インスタンスの**設定アイコン**をクリックします
    3. **IM Integrations**タブを開きます
    4. **Slack**セクションを展開します
    5. **App Token**（`xapp-...`）と**Bot Token**（`xoxb-...`）を貼り付けます
    6. **Save**をクリックします
  </Step>
  <Step title="チャットの開始">
    1. Slackで、BotにDMを送信するか、チャンネル内で@メンションします
    2. ペアリングプロセスを完了します
    3. AIとのチャットを開始しましょう！
  </Step>
</Steps>

## トラブルシューティング

<AccordionGroup>
  <Accordion title="BotがDMに反応しない">
    - 両方のトークンが正しいことを確認してください（App Tokenは`xapp-`で始まり、Bot Tokenは`xoxb-`で始まります）
    - `message.im`イベントが購読されているか確認してください
    - アプリがワークスペースにインストールされていることを確認してください
  </Accordion>
  <Accordion title="Botが@メンションに反応しない">
    - `app_mentions:read`スコープと`app_mention`イベントが設定されているか確認してください
    - 最初にBotをチャンネルに招待する必要があります（`/invite @botname`と入力してください）
  </Accordion>
  <Accordion title="'not_allowed_token_type' エラー">
    - App Tokenフィールドには、Bot Tokenではなく**App-Level Token**（`xapp-`）を使用していることを確認してください
    - Bot Token（`xoxb-`）はBot Tokenフィールドに入力します
  </Accordion>
</AccordionGroup>