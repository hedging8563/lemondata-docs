---
title: "WeCom"
description: "webhookコールバックを介して、ClawインスタンスをWeCom（WeChat Work）に接続します"
---

WeCom（企业微信 / WeChat Work）をClawインスタンスと統合し、エンタープライズワークスペースにAIを導入します。

## 前提条件

- [WeCom](https://work.weixin.qq.com/)の管理者アカウント
- Clawインスタンス（[こちらで作成](https://lemondata.cc/dashboard/claw)）

## セットアップガイド

<Steps>
  <Step title="WeComアプリの作成">
    1. [WeCom管理コンソール](https://work.weixin.qq.com/wework_admin/frame)にログインします
    2. **アプリ管理** → **アプリを作成** に移動します
    3. アプリ名を入力し、ロゴをアップロードして、公開範囲を設定します
    4. **作成** をクリックします
  </Step>
  <Step title="認証情報の取得">
    1. **Corp ID**をメモします。これは **マイ企業** → **企業情報** の下部にあります
    2. アプリ設定で、**Secret**（Corp Secret）をコピーします
  </Step>
  <Step title="コールバックURLの設定">
    1. アプリ設定で、**メッセージ受信** → **API受信設定** に移動します
    2. WeComセクションを展開すると、LemonDataダッシュボードにコールバックURLが表示されます：
    ```
    https://claw-{your-subdomain}.lemondata.cc/webhook/wecom
    ```
    3. **Token**（ランダムな文字列）と **EncodingAESKey**（43文字のランダムな文字列）を設定します
    4. **保存** をクリックします — WeComがコールバックURLを検証します

    <Tip>
    コールバックURLは、LemonDataダッシュボードにコピーボタン付きで表示されます。URLを検証する前に、Clawインスタンスが実行されていることを確認してください。
    </Tip>
  </Step>
  <Step title="LemonDataダッシュボードでの設定">
    1. [Clawダッシュボード](https://lemondata.cc/dashboard/claw)に移動します
    2. インスタンスの**設定アイコン**をクリックします
    3. **IM Integrations**タブを開きます
    4. **WeCom**セクションを展開します
    5. 上部に表示されている **Callback URL** をコピーします
    6. **Corp ID**、**Corp Secret**、**Token**、**EncodingAESKey** を入力します
    7. **保存** をクリックします
  </Step>
  <Step title="チャットの開始">
    1. WeComの**ワークベンチ**でアプリを見つけます
    2. アプリにメッセージを送信します
    3. AIが直接応答します — WeComではペアリングは不要です
  </Step>
</Steps>

<Warning>
**Token**と**EncodingAESKey**は、WeCom管理コンソールとClawの設定間で完全に一致している必要があります。不一致があると、メッセージの検証に失敗します。
</Warning>

## トラブルシューティング

<AccordionGroup>
  <Accordion title="コールバックURLの検証に失敗する">
    - Clawインスタンスが実行中（ステータスが緑色）であることを確認してください
    - URLの形式を確認してください：`https://claw-{subdomain}.lemondata.cc/webhook/wecom`
    - WeComで検証する**前に**、TokenとEncodingAESKeyがClawの設定に保存されていることを確認してください
  </Accordion>
  <Accordion title="ボットが応答しない">
    - Corp IDとCorp Secretが正しいか確認してください
    - アプリがユーザーアカウントに表示されているか確認してください（公開範囲の設定）
    - TokenとEncodingAESKeyがWeComとClawの間で一致していることを確認してください
  </Accordion>
</AccordionGroup>