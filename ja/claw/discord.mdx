---
title: "Discord"
description: "ボットアプリケーションを使用して、ClawインスタンスをDiscordに接続します"
---

ClawインスタンスをDiscordに接続し、サーバーやDMで直接AIとチャットできます。

## 前提条件

- [Discord](https://discord.com/)アカウント
- **サーバーの管理**権限を持つDiscordサーバー
- Clawインスタンス（[こちらで作成](https://lemondata.cc/dashboard/claw)）

## セットアップガイド

<Steps>
  <Step title="Discordアプリケーションの作成">
    1. [Discord Developer Portal](https://discord.com/developers/applications)にアクセスします
    2. **New Application**をクリックします
    3. 名前（例：「My AI Bot」）を入力し、**Create**をクリックします
  </Step>
  <Step title="ボットの作成">
    1. アプリケーション内で**Bot**タブに移動します
    2. **Add Bot** → **Yes, do it!**をクリックします
    3. **Privileged Gateway Intents**の下で、以下を有効にします：
       - **Message Content Intent**（必須）
       - **Server Members Intent**（推奨）
    4. **Reset Token**をクリックしてボットのtokenを生成します
    5. tokenをコピーします。次のステップで使用します
    <Warning>
    tokenは一度しか表示されません。紛失した場合は、リセットする必要があります。
    </Warning>
  </Step>
  <Step title="ボットをサーバーに招待する">
    1. **OAuth2**タブ → **URL Generator**に移動します
    2. **Scopes**で、`bot`、`applications.commands`を選択します
    3. **Bot Permissions**で、`Send Messages`、`Read Message History`を選択します
    4. 生成されたURLをコピーし、ブラウザで開きます
    5. サーバーを選択し、**Authorize**をクリックします
  </Step>
  <Step title="LemonDataダッシュボードでの設定">
    1. [Claw Dashboard](https://lemondata.cc/dashboard/claw)にアクセスします
    2. インスタンスの**設定アイコン**をクリックします
    3. **IM Integrations**タブを開きます
    4. **Discord**セクションを展開します
    5. **Bot Token**を貼り付けます
    6. **Save**をクリックします
  </Step>
  <Step title="チャットを開始する">
    1. Discordサーバーでボットをメンションするか、DMを送信します
    2. 最初のユーザーは自動的にオーナーとして**ペアリング**されます。コードは不要です！
    3. AIとのチャットを開始しましょう！
  </Step>
</Steps>

## サーバーでの使用

### グループ設定

ダッシュボードの**IM Integrations**タブで、サーバー（ギルド）の動作を設定します：

| 設定 | オプション | 説明 |
|---------|---------|-------------|
| **Group Policy** | Open（デフォルト） / Allowlist / Disabled | サーバーチャンネルへのアクセスを制御します |
| **Require @mention** | On / Off | ボットが@メンションされた時のみ応答します（推奨） |
| **Group IDs** | ギルドIDのリスト | 特定のサーバーに制限します（空の場合はすべてのサーバー） |

<Note>
Discordでは、グローバルなグループ許可リストの代わりに、ギルドごとのユーザー許可リストを使用します。高度なギルドごとのユーザーフィルタリングについては、OpenClaw設定ファイルで直接設定してください。
</Note>

### DMポリシー

ボットにダイレクトメッセージを送信できるユーザーを制御します：

| ポリシー | 動作 |
|--------|----------|
| **Pairing**（デフォルト） | 新規ユーザーにはペアリングコードが発行されます。WebUIに入力して認証してください |
| **Allowlist** | 指定したユーザーIDのみがボットにDMを送信できます |
| **Open** | 誰でもボットにDMを送信できます（注意して使用してください） |

## トラブルシューティング

<AccordionGroup>
  <Accordion title="ボットはオンラインだが応答しない">
    - Developer Portalで**Message Content Intent**が有効になっていることを確認してください
    - ボットのtokenが正しいか確認してください
    - ボットがチャンネル内でメッセージを読み取り、送信する権限を持っているか確認してください
  </Accordion>
  <Accordion title="ボットがオフラインと表示される">
    - ダッシュボードでインスタンスのステータスを確認してください（緑色/実行中である必要があります）
    - インスタンスの再起動を試してください
    - Developer Portalでtokenがリセットされていないか確認してください
  </Accordion>
  <Accordion title="ログに 409 Conflict エラーが表示される">
    - これは、2つのインスタンスが同じボットのtokenを使用しようとしたときに発生します
    - このtokenで設定されているClawインスタンスが1つだけであることを確認してください
  </Accordion>
</AccordionGroup>