---
title: "计费与定价"
description: "了解 LemonData 的按量计费模式"
---

## 概览

LemonData 采用**按量计费 (pay-as-you-go)**模式。您只需为您使用的部分付费，无需订阅或最低消费承诺。

## 计费工作原理

1. 为您的账户**充值额度**
2. **使用 API** - 费用按请求扣除
3. 在控制面板中**监控使用情况**
4. 余额不足时进行**充值**

## 定价模型

### 按 Token 计费

大多数文本生成模型按每百万 tokens 计费：

| 模型 | 输入 (每 1M tokens) | 输出 (每 1M tokens) |
|-------|----------------------|------------------------|
| GPT-4o | $1.75 | $7.00 |
| GPT-4o-mini | $0.105 | $0.42 |
| Claude Opus 4.5 | $3.50 | $17.50 |
| Claude Sonnet 4.5 | $2.10 | $10.50 |
| Claude Haiku 4.5 | $0.70 | $3.50 |
| Gemini 2.5 Pro | $0.875 | $7.00 |
| Gemini 2.5 Flash | $0.1225 | $0.525 |
| DeepSeek R1 | $0.385 | $1.533 |
| DeepSeek V3.2 | $0.196 | $0.294 |

<Note>
  显示的价格为平台折扣价。实际价格可能会有所变动。请查看[定价页面](https://lemondata.cc/zh/pricing)获取当前费率。
</Note>

### 按请求计费

图像、视频和音频模型按请求计费：

| 模型 | 单次请求价格 |
|-------|-------------------|
| DALL-E 3 (1024x1024) | $0.04 |
| Midjourney | $0.05 |
| Sora Video (5s) | $0.20 |
| Whisper (每分钟) | $0.006 |
| TTS-1 | $0.015 |

### 异步任务计费（视频/音乐/3D）

<Warning>
  **重要提示**：视频、音乐和 3D 生成任务在**提交时计费**，而非完成时。
</Warning>

对于异步生成任务（视频、音乐、3D 模型）：

1. 提交任务时**立即计费**
2. 您将收到一个 `task_id` 用于轮询状态
3. 如果任务失败，**不提供自动退款**

这是因为上游供应商在任务提交时即向我们收费，无论结果如何。如果您遇到任务失败，请联系 support@lemondata.cc 寻求帮助。

```python
# Example: Video generation billing
response = client.post("/v1/video/generations", json={
    "model": "kling-v1",
    "prompt": "A sunset over the ocean"
})
# ⚠️ You are billed NOW, not when the video is ready

task_id = response.json()["task_id"]
# Poll for status...
```

## Token 计数

Token 是文本处理的基本单位：

- 约 4 个字符 = 1 个 token（英文）
- 约 1-2 个字符 = 1 个 token（中文）
- 1 张图片 = 取决于尺寸和细节

### 估算 Token

```python
# Rough estimation
def estimate_tokens(text):
    return len(text) / 4  # Approximate for English

# Actual count (for OpenAI models)
import tiktoken
encoder = tiktoken.encoding_for_model("gpt-4o")
tokens = encoder.encode("Your text here")
print(f"Token count: {len(tokens)}")
```

## 使用情况跟踪

### 控制面板

在[控制面板](https://lemondata.cc/dashboard)中监控您的使用情况：

- 实时余额
- 按模型分类的使用历史
- 费用明细
- API key 使用情况

### API 响应

每个响应都包含使用信息：

```json
{
  "usage": {
    "prompt_tokens": 50,
    "completion_tokens": 100,
    "total_tokens": 150
  }
}
```

## 成本优化

<AccordionGroup>
  <Accordion title="使用合适的模型">
    对于简单任务，使用较小的模型（GPT-4o-mini, Gemini Flash）。
  </Accordion>

  <Accordion title="实施缓存">
    为重复的相同请求缓存响应。
  </Accordion>

  <Accordion title="优化提示词">
    在保持清晰的同时，尽量使提示词简洁。
  </Accordion>

  <Accordion title="设置 max_tokens">
    在不需要完整响应时限制响应长度。
  </Accordion>

  <Accordion title="对长响应使用流式传输">
    流式传输不会产生额外费用，但能提高感知性能。
  </Accordion>
</AccordionGroup>

## 余额不足提醒

配置余额下降时的提醒：

1. 前往 **控制面板 → 设置 → 通知**
2. 设置您的阈值金额
3. 接收邮件通知

## 充值额度

### 支付方式

- 支付宝 (Alipay)
- 微信支付 (WeChat Pay)
- Stripe (Visa, Mastercard)

### 步骤

1. 登录[控制面板](https://lemondata.cc/dashboard)
2. 点击**充值额度**
3. 选择金额和支付方式
4. 完成支付

支付确认后，额度将立即到账。

## API Key 限制

您可以为单个 API key 设置支出限制：

1. 前往 **控制面板 → API Keys**
2. 点击某个 key 进行编辑
3. 设置**使用限制**

达到限制后，使用该 key 的请求将返回 `402 Payment Required`。

## 发票

对于企业账户，可以提供发票：

1. 前往 **控制面板 → 计费**
2. 查看交易历史
3. 下载 PDF 格式发票

## 有疑问？

有关计费咨询，请联系 support@lemondata.cc。