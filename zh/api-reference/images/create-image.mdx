---
title: "创建图像"
api: "POST /v1/images/generations"
description: "根据提示词生成图像"
---

## 请求体

<ParamField body="model" type="string" default="dall-e-3">
  使用的模型（例如 `dall-e-3`、`flux-pro`、`midjourney`）。
</ParamField>

<ParamField body="prompt" type="string" required>
  描述所需图像的文本。
</ParamField>

<ParamField body="n" type="integer" default="1">
  要生成的图像数量（1-4，取决于模型）。
</ParamField>

<ParamField body="size" type="string" default="1024x1024">
  图像尺寸。选项因模型而异：
  - DALL-E 3: `1024x1024`、`1792x1024`、`1024x1792`
  - 其他模型: `512x512`、`1024x1024` 等
</ParamField>

<ParamField body="quality" type="string" default="standard">
  图像质量（`standard` 或 `hd`）。仅限 DALL-E 3。
</ParamField>

<ParamField body="response_format" type="string" default="url">
  响应格式：`url` 或 `b64_json`。
</ParamField>

<ParamField body="style" type="string" default="vivid">
  DALL-E 3 的风格：`vivid` 或 `natural`。
</ParamField>

<ParamField body="user" type="string">
  终端用户的唯一标识符。
</ParamField>

## 响应

### 同步响应（DALL-E、Flux Schnell 等）

<ResponseField name="created" type="integer">
  创建时间的 Unix 时间戳。
</ResponseField>

<ResponseField name="data" type="array">
  生成的图像数组。

  每个对象包含：
  - `url` (string): 生成图像的 URL
  - `b64_json` (string): Base64 编码的图像（如果请求）
  - `revised_prompt` (string): 使用的提示词（DALL-E 3）
</ResponseField>

### 异步响应（Midjourney、Flux Pro、Ideogram 等）

某些模型需要更长的处理时间，会返回异步响应：

<ResponseField name="created" type="integer">
  创建时间的 Unix 时间戳。
</ResponseField>

<ResponseField name="task_id" type="string">
  用于轮询的唯一任务标识符。
</ResponseField>

<ResponseField name="status" type="string">
  初始状态：`pending`。
</ResponseField>

<ResponseField name="poll_url" type="string">
  用于轮询结果的相对 URL（例如 `/v1/images/generations/{task_id}`）。
</ResponseField>

<ResponseField name="data" type="array">
  包含占位数据的数组。`url` 在完成前为空。
</ResponseField>

<Note>
当收到 `status: "pending"` 时，使用[获取图像状态](/zh/api-reference/images/get-image-status)端点轮询结果。
</Note>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/images/generations" \
  -H "Authorization: Bearer sk-your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "dall-e-3",
    "prompt": "一只白猫坐在窗台上看雨",
    "size": "1024x1024",
    "quality": "standard",
    "n": 1
  }'
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.images.generate(
    model="dall-e-3",
    prompt="一只白猫坐在窗台上看雨",
    size="1024x1024",
    quality="standard",
    n=1
)

print(response.data[0].url)
```

```javascript JavaScript
import OpenAI from 'openai';

const client = new OpenAI({
  apiKey: 'sk-your-api-key',
  baseURL: 'https://api.lemondata.cc/v1'
});

const response = await client.images.generate({
  model: 'dall-e-3',
  prompt: '一只白猫坐在窗台上看雨',
  size: '1024x1024',
  quality: 'standard',
  n: 1
});

console.log(response.data[0].url);
```
</RequestExample>

<ResponseExample>
```json 同步响应
{
  "created": 1706000000,
  "data": [
    {
      "url": "https://...",
      "revised_prompt": "一只毛茸茸的白猫，眼睛明亮，安静地坐在木质窗台上，看着雨滴顺着玻璃窗流下..."
    }
  ]
}
```

```json 异步响应（Midjourney、Flux Pro 等）
{
  "created": 1706000000,
  "task_id": "img_abc123def456",
  "status": "pending",
  "poll_url": "/v1/images/generations/img_abc123def456",
  "data": [
    {
      "url": "",
      "revised_prompt": "一个红苹果"
    }
  ]
}
```
</ResponseExample>

## 可用模型

| 模型 | 类型 | 特点 |
|------|------|------|
| `dall-e-3` | 同步 | 最佳质量，提示词增强 |
| `dall-e-2` | 同步 | 更快，更实惠 |
| `flux-pro` | **异步** | 照片级真实感，高质量 |
| `flux-schnell` | 同步 | 非常快 |
| `midjourney` | **异步** | 艺术风格 |
| `ideogram-v3` | **异步** | 最佳文字渲染 |
| `stable-diffusion-3` | 同步 | 开源，可定制 |

<Tip>
**异步模型**返回 `status: "pending"`，需要轮询。请参阅[获取图像状态](/zh/api-reference/images/get-image-status)了解如何获取结果。
</Tip>
