---
title: "创建图像变体"
openapi: "POST /v1/images/variations"
description: "创建给定图像的变体"
---

## 概述

创建给定图像的变体。需要 `multipart/form-data` 内容类型。

## 请求体

<ParamField body="image" type="file" required>
  用作变体基础的图像。必须是有效的 PNG 文件，小于 4MB，且为正方形。
</ParamField>

<ParamField body="model" type="string" default="dall-e-2">
  用于图像变体的模型。目前仅支持 `dall-e-2`。
</ParamField>

<ParamField body="n" type="integer" default="1">
  要生成的图像数量。必须在 1 到 10 之间。
</ParamField>

<ParamField body="size" type="string">
  生成图像的尺寸。必须是 `256x256`、`512x512` 或 `1024x1024` 之一。
</ParamField>

<ParamField body="response_format" type="string" default="url">
  返回生成图像的格式。必须是 `url` 或 `b64_json`。
</ParamField>

<ParamField body="user" type="string">
  代表终端用户的唯一标识符，用于滥用监控。
</ParamField>

## 响应

<ResponseField name="created" type="integer">
  图像创建时间的 Unix 时间戳。
</ResponseField>

<ResponseField name="data" type="array">
  生成的图像变体数组。

  每个对象包含：
  - `url` (string): 变体图像的 URL（如果 response_format 是 `url`）
  - `b64_json` (string): Base64 编码的图像（如果 response_format 是 `b64_json`）
</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.lemondata.cc/v1/images/variations" \
  -H "Authorization: Bearer sk-your-api-key" \
  -F "image=@cat.png" \
  -F "n=2" \
  -F "size=1024x1024"
```

```python Python
from openai import OpenAI

client = OpenAI(
    api_key="sk-your-api-key",
    base_url="https://api.lemondata.cc/v1"
)

response = client.images.create_variation(
    model="dall-e-2",
    image=open("cat.png", "rb"),
    n=2,
    size="1024x1024"
)

for image in response.data:
    print(image.url)
```

```javascript JavaScript
import OpenAI from 'openai';
import fs from 'fs';

const client = new OpenAI({
  apiKey: 'sk-your-api-key',
  baseURL: 'https://api.lemondata.cc/v1'
});

const response = await client.images.createVariation({
  model: 'dall-e-2',
  image: fs.createReadStream('cat.png'),
  n: 2,
  size: '1024x1024'
});

response.data.forEach(image => console.log(image.url));
```
</RequestExample>

<ResponseExample>
```json 响应
{
  "created": 1706000000,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```
</ResponseExample>

## 注意事项

<Note>
  图像变体仅适用于 DALL-E 2。模型将生成与原始图像在风格和内容上相似的新图像。
</Note>
